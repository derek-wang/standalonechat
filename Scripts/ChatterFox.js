(function (n) { "use strict"; function l(n, t) { return t = t || Error, function () { for (var r = arguments[0], f, i, u = "[" + (n ? n + ":" : "") + r + "] http://errors.angularjs.org/1.6.4/" + (n ? n + "/" : "") + r, r = 1; r < arguments.length; r++)u = u + (1 == r ? "?" : "&") + "p" + (r - 1) + "=", f = encodeURIComponent, i = arguments[r], i = "function" == typeof i ? i.toString().replace(/ \{[\s\S]*$/, "") : "undefined" == typeof i ? "undefined" : "string" != typeof i ? JSON.stringify(i) : i, u += f(i); return new t(u) } } function al(n) { if (s(n)) r(n.objectMaxDepth) && (gh.objectMaxDepth = sf(n.objectMaxDepth) ? n.objectMaxDepth : NaN); else return gh } function sf(n) { return d(n) && 0 < n } function dt(n) { if (null == n || ur(n)) return !1; if (c(n) || h(n) || e && n instanceof e) return !0; var t = "length" in Object(n) && n.length; return d(t) && (0 <= t && (t - 1 in n || n instanceof Array) || "function" == typeof n.item) } function t(n, i, r) { var u, e, o; if (n) if (f(n)) for (u in n) "prototype" !== u && "length" !== u && "name" !== u && n.hasOwnProperty(u) && i.call(r, n[u], u, n); else if (c(n) || dt(n)) for (o = "object" != typeof n, u = 0, e = n.length; u < e; u++)(o || u in n) && i.call(r, n[u], u, n); else if (n.forEach && n.forEach !== t) n.forEach(i, r, n); else if (ho(n)) for (u in n) i.call(r, n[u], u, n); else if ("function" == typeof n.hasOwnProperty) for (u in n) n.hasOwnProperty(u) && i.call(r, n[u], u, n); else for (u in n) pt.call(n, u) && i.call(r, n[u], u, n); return n } function oo(n, t, i) { for (var r = Object.keys(n).sort(), u = 0; u < r.length; u++)t.call(i, n[r[u]], r[u]); return r } function so(n) { return function (t, i) { n(i, t) } } function vl() { return ++du } function hf(n, t, i) { for (var e, u, r, l = n.$$hashKey, o = 0, v = t.length; o < v; ++o)if (e = t[o], s(e) || f(e)) for (var a = Object.keys(e), h = 0, y = a.length; h < y; h++)u = a[h], r = e[u], i && s(r) ? rt(r) ? n[u] = new Date(r.valueOf()) : rr(r) ? n[u] = new RegExp(r) : r.nodeName ? n[u] = r.cloneNode(!0) : af(r) ? n[u] = r.clone() : (s(n[u]) || (n[u] = c(r) ? [] : {}), hf(n[u], [r], !0)) : n[u] = r; return l ? n.$$hashKey = l : delete n.$$hashKey, n } function v(n) { return hf(n, bt.call(arguments, 1), !1) } function yl(n) { return hf(n, bt.call(arguments, 1), !0) } function tt(n) { return parseInt(n, 10) } function cf(n, t) { return v(Object.create(n), t) } function o() { } function ir(n) { return n } function ot(n) { return function () { return n } } function lf(n) { return f(n.toString) && n.toString !== ut } function u(n) { return "undefined" == typeof n } function r(n) { return "undefined" != typeof n } function s(n) { return null !== n && "object" == typeof n } function ho(n) { return null !== n && "object" == typeof n && !nc(n) } function h(n) { return "string" == typeof n } function d(n) { return "number" == typeof n } function rt(n) { return "[object Date]" === ut.call(n) } function f(n) { return "function" == typeof n } function rr(n) { return "[object RegExp]" === ut.call(n) } function ur(n) { return n && n.window === n } function fr(n) { return n && n.$evalAsync && n.$watch } function gt(n) { return "boolean" == typeof n } function pl(n) { return n && d(n.length) && wy.test(ut.call(n)) } function af(n) { return !(!n || !(n.nodeName || n.prop && n.attr && n.find)) } function wl(n) { var i = {}, t; for (n = n.split(","), t = 0; t < n.length; t++)i[n[t]] = !0; return i } function lt(n) { return a(n.nodeName || n[0] && n[0].nodeName) } function er(n, t) { var i = n.indexOf(t); return 0 <= i && n.splice(i, 1), i } function ni(n, i, r) { function h(n, t, i) { var f, r, e; if (i-- , 0 > i) return "..."; if (f = t.$$hashKey, c(n)) for (r = 0, e = n.length; r < e; r++)t.push(u(n[r], i)); else if (ho(n)) for (r in n) t[r] = u(n[r], i); else if (n && "function" == typeof n.hasOwnProperty) for (r in n) n.hasOwnProperty(r) && (t[r] = u(n[r], i)); else for (r in n) pt.call(n, r) && (t[r] = u(n[r], i)); return f ? t.$$hashKey = f : delete t.$$hashKey, t } function u(n, t) { var i, r; if (!s(n)) return n; if (i = e.indexOf(n), -1 !== i) return o[i]; if (ur(n) || fr(n)) throw si("cpws"); return i = !1, r = l(n), void 0 === r && (r = c(n) ? [] : Object.create(nc(n)), i = !0), e.push(n), o.push(r), i ? h(n, r, t) : r } function l(n) { switch (ut.call(n)) { case "[object Int8Array]": case "[object Int16Array]": case "[object Int32Array]": case "[object Float32Array]": case "[object Float64Array]": case "[object Uint8Array]": case "[object Uint8ClampedArray]": case "[object Uint16Array]": case "[object Uint32Array]": return new n.constructor(u(n.buffer), n.byteOffset, n.length); case "[object ArrayBuffer]": if (!n.slice) { var t = new ArrayBuffer(n.byteLength); return new Uint8Array(t).set(new Uint8Array(n)), t } return n.slice(0); case "[object Boolean]": case "[object Number]": case "[object String]": case "[object Date]": return new n.constructor(n.valueOf()); case "[object RegExp]": return t = new RegExp(n.source, n.toString().match(/[^/]*$/)[0]), t.lastIndex = n.lastIndex, t; case "[object Blob]": return new n.constructor([n], { type: n.type }) }if (f(n.cloneNode)) return n.cloneNode(!0) } var e = [], o = []; if (r = sf(r) ? r : NaN, i) { if (pl(i) || "[object ArrayBuffer]" === ut.call(i)) throw si("cpta"); if (n === i) throw si("cpi"); return c(i) ? i.length = 0 : t(i, function (n, t) { "$$hashKey" !== t && delete i[t] }), e.push(n), o.push(i), h(n, i, r) } return u(n, r) } function vf(n, t) { return n === t || n !== n && t !== t } function st(n, t) { if (n === t) return !0; if (null === n || null === t) return !1; if (n !== n && t !== t) return !0; var u = typeof n, i; if (u === typeof t && "object" === u) if (c(n)) { if (!c(t)) return !1; if ((u = n.length) === t.length) { for (i = 0; i < u; i++)if (!st(n[i], t[i])) return !1; return !0 } } else { if (rt(n)) return rt(t) ? vf(n.getTime(), t.getTime()) : !1; if (rr(n)) return rr(t) ? n.toString() === t.toString() : !1; if (fr(n) || fr(t) || ur(n) || ur(t) || c(t) || rt(t) || rr(t)) return !1; u = p(); for (i in n) if ("$" !== i.charAt(0) && !f(n[i])) { if (!st(n[i], t[i])) return !1; u[i] = !0 } for (i in t) if (!(i in u) && "$" !== i.charAt(0) && r(t[i]) && !f(t[i])) return !1; return !0 } return !1 } function or(n, t, i) { return n.concat(bt.call(t, i)) } function sr(n, t) { var i = 2 < arguments.length ? bt.call(arguments, 2) : []; return !f(t) || t instanceof RegExp ? t : i.length ? function () { return arguments.length ? t.apply(n, or(i, arguments, 0)) : t.apply(n, i) } : function () { return arguments.length ? t.apply(n, arguments) : t.call(n) } } function co(t, i) { var r = i; return "string" == typeof t && "$" === t.charAt(0) && "$" === t.charAt(1) ? r = void 0 : ur(i) ? r = "$WINDOW" : i && n.document === i ? r = "$DOCUMENT" : fr(i) && (r = "$SCOPE"), r } function hr(n, t) { if (!u(n)) return d(t) || (t = t ? 2 : null), JSON.stringify(n, co, t) } function lo(n) { return h(n) ? JSON.parse(n) : n } function ao(n, t) { n = n.replace(by, ""); var i = Date.parse("Jan 01, 1970 00:00:00 " + n) / 6e4; return it(i) ? t : i } function yf(n, t, i) { i = i ? -1 : 1; var r = n.getTimezoneOffset(); return t = ao(t, r), i *= t - r, n = new Date(n.getTime()), n.setMinutes(n.getMinutes() + i), n } function at(n) { n = e(n).clone(); try { n.empty() } catch (i) { } var t = e("<div>").append(n).html(); try { return n[0].nodeType === ri ? a(t) : t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/, function (n, t) { return "<" + a(t) }) } catch (r) { return a(t) } } function vo(n) { try { return decodeURIComponent(n) } catch (t) { } } function yo(n) { var i = {}; return t((n || "").split("&"), function (n) { var f, t, u; n && (t = n = n.replace(/\+/g, "%20"), f = n.indexOf("="), -1 !== f && (t = n.substring(0, f), u = n.substring(f + 1)), t = vo(t), r(t) && (u = r(u) ? vo(u) : !0, pt.call(i, t) ? c(i[t]) ? i[t].push(u) : i[t] = [i[t], u] : i[t] = u)) }), i } function pf(n) { var i = []; return t(n, function (n, r) { c(n) ? t(n, function (n) { i.push(et(r, !0) + (!0 === n ? "" : "=" + et(n, !0))) }) : i.push(et(r, !0) + (!0 === n ? "" : "=" + et(n, !0))) }), i.length ? i.join("&") : "" } function cr(n) { return et(n, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+") } function et(n, t) { return encodeURIComponent(n).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, t ? "%20" : "+") } function bl(n, t) { for (var i, u = ki.length, r = 0; r < u; ++r)if (i = ki[r] + t, h(i = n.getAttribute(i))) return i; return null } function kl(i, r) { var u, f, e = {}; t(ki, function (n) { n += "app"; !u && i.hasAttribute && i.hasAttribute(n) && (u = i, f = i.getAttribute(n)) }); t(ki, function (n) { n += "app"; var t; !u && (t = i.querySelector("[" + n.replace(":", "\\:") + "]")) && (u = t, f = t.getAttribute(n)) }); u && (ky ? (e.strictDi = null !== bl(u, "strict-di"), r(u, f ? [f] : [], e)) : n.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.")) } function po(i, r, u) { s(u) || (u = {}); u = v({ strictDi: !1 }, u); var o = function () { if (i = e(i), i.injector()) { var t = i[0] === n.document ? "document" : at(i); throw si("btstrpd", t.replace(/</, "&lt;").replace(/>/, "&gt;")); } return r = r || [], r.unshift(["$provide", function (n) { n.value("$rootElement", i) }]), u.debugInfoEnabled && r.push(["$compileProvider", function (n) { n.debugInfoEnabled(!0) }]), r.unshift("ng"), t = vr(r, u.strictDi), t.invoke(["$rootScope", "$rootElement", "$compile", "$injector", function (n, t, i, r) { n.$apply(function () { t.data("$injector", r); i(t)(n) }) }]), t }, h = /^NG_ENABLE_DEBUG_INFO!/, c = /^NG_DEFER_BOOTSTRAP!/; if (n && h.test(n.name) && (u.debugInfoEnabled = !0, n.name = n.name.replace(h, "")), n && !c.test(n.name)) return o(); n.name = n.name.replace(c, ""); ft.resumeBootstrap = function (n) { return t(n, function (n) { r.push(n) }), o() }; f(ft.resumeDeferredBootstrap) && ft.resumeDeferredBootstrap() } function dl() { n.name = "NG_ENABLE_DEBUG_INFO!" + n.name; n.location.reload() } function gl(n) { if (n = ft.element(n).injector(), !n) throw si("test"); return n.get("$$testability") } function wo(n, t) { return t = t || "_", n.replace(dy, function (n, i) { return (i ? t : "") + n.toLowerCase() }) } function na() { var i, t; ic || (t = gu(), (ii = u(t) ? n.jQuery : t ? n[t] : void 0) && ii.fn.on ? (e = ii, v(ii.fn, { scope: gi.scope, isolateScope: gi.isolateScope, controller: gi.controller, injector: gi.injector, inheritedData: gi.inheritedData }), i = ii.cleanData, ii.cleanData = function (n) { for (var r, u = 0, t; null != (t = n[u]); u++)(r = ii._data(t, "events")) && r.$destroy && ii(t).triggerHandler("$destroy"); i(n) }) : e = w, ft.element = e, ic = !0) } function lr(n, t, i) { if (!n) throw si("areq", t || "?", i || "required"); return n } function iu(n, t, i) { return i && c(n) && (n = n[n.length - 1]), lr(f(n), t, "not a function, got " + (n && "object" == typeof n ? n.constructor.name || "Object" : typeof n)), n } function ai(n, t) { if ("hasOwnProperty" === n) throw si("badname", t); } function bo(n, t, i) { if (!t) return n; t = t.split("."); for (var u, e = n, o = t.length, r = 0; r < o; r++)u = t[r], n && (n = (e = n)[u]); return !i && f(n) ? sr(e, n) : n } function ru(n) { for (var t = n[0], u = n[n.length - 1], i, r = 1; t !== u && (t = t.nextSibling); r++)(i || n[r] !== t) && (i || (i = e(bt.call(n, 0, r))), i.push(t)); return i || n } function p() { return Object.create(null) } function wf(n) { if (null == n) return ""; switch (typeof n) { case "string": break; case "number": n = "" + n; break; default: n = !lf(n) || c(n) || rt(n) ? hr(n) : n.toString() }return n } function ta(n) { function t(n, t, i) { return n[t] || (n[t] = i()) } var u = l("$injector"), i = l("ng"); return n = t(n, "angular", Object), n.$$minErr = n.$$minErr || l, t(n, "module", function () { var n = {}; return function (e, o, h) { var c = {}; if ("hasOwnProperty" === e) throw i("badname", "module"); return o && n.hasOwnProperty(e) && (n[e] = null), t(n, e, function () { function t(n, t, i, r) { return r || (r = l), function () { return r[i || "push"]([n, t, arguments]), v } } function n(n, t, i) { return i || (i = l), function (r, u) { return u && f(u) && (u.$$moduleName = e), i.push([n, t, arguments]), v } } if (!o) throw u("nomod", e); var l = [], a = [], y = [], p = t("$injector", "invoke", "push", a), v = { _invokeQueue: l, _configBlocks: a, _runBlocks: y, info: function (n) { if (r(n)) { if (!s(n)) throw i("aobj", "value"); return c = n, this } return c }, requires: o, name: e, provider: n("$provide", "provider"), factory: n("$provide", "factory"), service: n("$provide", "service"), value: t("$provide", "value"), constant: t("$provide", "constant", "unshift"), decorator: n("$provide", "decorator", a), animation: n("$animateProvider", "register"), filter: n("$filterProvider", "register"), controller: n("$controllerProvider", "register"), directive: n("$compileProvider", "directive"), component: n("$compileProvider", "component"), config: p, run: function (n) { return y.push(n), this } }; return h && p(h), v }) } }) } function vt(n, t) { if (c(n)) { t = t || []; for (var i = 0, r = n.length; i < r; i++)t[i] = n[i] } else if (s(n)) for (i in t = t || {}, n) ("$" !== i.charAt(0) || "$" !== i.charAt(1)) && (t[i] = n[i]); return t || n } function ia(n, t) { var i = []; return sf(t) && (n = ni(n, null, t)), JSON.stringify(n, function (n, t) { if (t = co(n, t), s(t)) { if (0 <= i.indexOf(t)) return "..."; i.push(t) } return t }) } function ra(i) { v(i, { errorHandlingConfig: al, bootstrap: po, copy: ni, extend: v, merge: yl, equals: st, element: e, forEach: t, injector: vr, noop: o, bind: sr, toJson: hr, fromJson: lo, identity: ir, isUndefined: u, isDefined: r, isString: h, isFunction: f, isObject: s, isNumber: d, isElement: af, isArray: c, version: gy, isDate: rt, lowercase: a, uppercase: ku, callbacks: { $$counter: 0 }, getTestability: gl, reloadWithDebugInfo: dl, $$minErr: l, $$csp: hi, $$encodeUriSegment: cr, $$encodeUriQuery: et, $$stringify: wf }); be = ta(n); be("ng", ["ngLocale"], ["$provide", function (n) { n.provider({ $$sanitizeUri: bv }); n.provider("$compile", es).directive({ a: wc, input: rl, textarea: rl, form: aw, script: sk, select: lk, option: ak, ngBind: gw, ngBindHtml: tb, ngBindTemplate: nb, ngClass: rb, ngClassEven: fb, ngClassOdd: ub, ngCloak: eb, ngController: ob, ngForm: vw, ngHide: tk, ngIf: hb, ngInclude: cb, ngInit: ab, ngNonBindable: pb, ngPluralize: db, ngRepeat: gb, ngShow: nk, ngStyle: ik, ngSwitch: rk, ngSwitchWhen: uk, ngSwitchDefault: fk, ngOptions: kb, ngTransclude: ok, ngModel: el, ngList: vb, ngChange: ib, pattern: hl, ngPattern: hl, required: sl, ngRequired: sl, minlength: ll, ngMinlength: ll, maxlength: cl, ngMaxlength: cl, ngValue: dw, ngModelOptions: yb }).directive({ ngInclude: lb }).directive(dr).directive(ul); n.provider({ $anchorScroll: ca, $animate: yp, $animateCss: bp, $$animateJs: ap, $$animateQueue: vp, $$AnimateRunner: wp, $$animateAsyncRun: pp, $browser: va, $cacheFactory: ya, $controller: ba, $document: ka, $$isDocumentHidden: da, $exceptionHandler: ga, $filter: fh, $$forceReflow: dp, $interpolate: ev, $interval: ov, $http: iv, $httpParamSerializer: nv, $httpParamSerializerJQLike: tv, $httpBackend: uv, $xhrFactory: rv, $jsonpCallbacks: iw, $location: sv, $log: hv, $parse: av, $rootScope: wv, $q: vv, $$q: yv, $sce: gv, $sceDelegate: dv, $sniffer: ny, $templateCache: pa, $templateRequest: ty, $$testability: iy, $timeout: ry, $window: uy, $$rAF: pv, $$jqLite: sa, $$Map: ep, $$cookieReader: fy }) }]).info({ angularVersion: "1.6.4" }) } function ar(n, t) { return t.toUpperCase() } function uu(n) { return n.replace(np, ar) } function bf(n) { return n = n.nodeType, 1 === n || !n || 9 === n } function ko(n, i) { var u, r, f = i.createDocumentFragment(), e = []; if (de.test(n)) { for (u = f.appendChild(i.createElement("div")), r = (rp.exec(n) || ["", ""])[1].toLowerCase(), r = ht[r] || ht._default, u.innerHTML = r[1] + n.replace(up, "<$1><\/$2>") + r[2], r = r[0]; r--;)u = u.lastChild; e = or(e, u.childNodes); u = f.firstChild; u.textContent = "" } else e.push(i.createTextNode(n)); return f.textContent = "", f.innerHTML = "", t(e, function (n) { f.appendChild(n) }), f } function w(t) { var i, r; if (t instanceof w) return t; if (h(t) && (t = y(t), i = !0), !(this instanceof w)) { if (i && "<" !== t.charAt(0)) throw ke("nosel"); return new w(t) } i ? (i = n.document, t = (r = ip.exec(t)) ? [i.createElement(r[1])] : (r = ko(t, i)) ? r.childNodes : [], ne(this, t)) : f(t) ? is(t) : ne(this, t) } function kf(n) { return n.cloneNode(!0) } function fu(n, t) { !t && bf(n) && e.cleanData([n]); n.querySelectorAll && e.cleanData(n.querySelectorAll("*")) } function go(n, i, u, f) { var e, o, s; if (r(f)) throw ke("offargs"); if (e = (f = eu(n)) && f.events, o = f && f.handle, o) if (i) s = function (t) { var i = e[t]; r(u) && er(i || [], u); r(u) && i && 0 < i.length || (n.removeEventListener(t, o), delete e[t]) }, t(i.split(" "), function (n) { s(n); nf[n] && s(nf[n]) }); else for (i in e) "$destroy" !== i && n.removeEventListener(i, o), delete e[i] } function df(n, t) { var r = n.ng339, i = r && di[r]; i && (t ? delete i.data[t] : (i.handle && (i.events.$destroy && i.handle({}, "$destroy"), go(n)), delete di[r], n.ng339 = void 0)) } function eu(n, t) { var i = n.ng339, i = i && di[i]; return t && !i && (n.ng339 = i = ++rc, i = di[i] = { events: {}, data: {}, handle: void 0 }), i } function gf(n, t, i) { if (bf(n)) { var u, f = r(i), e = !f && t && !s(t), o = !t; if (n = (n = eu(n, !e)) && n.data, f) n[uu(t)] = i; else { if (o) return n; if (e) return n && n[uu(t)]; for (u in t) n[uu(u)] = t[u] } } } function ou(n, t) { return n.getAttribute ? -1 < (" " + (n.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + t + " ") : !1 } function su(n, i) { i && n.setAttribute && t(i.split(" "), function (t) { n.setAttribute("class", y((" " + (n.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + y(t) + " ", " "))) }) } function hu(n, i) { if (i && n.setAttribute) { var r = (" " + (n.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " "); t(i.split(" "), function (n) { n = y(n); -1 === r.indexOf(" " + n + " ") && (r += n + " ") }); n.setAttribute("class", y(r)) } } function ne(n, t) { var i, r; if (t) if (t.nodeType) n[n.length++] = t; else if (i = t.length, "number" == typeof i && t.window !== t) { if (i) for (r = 0; r < i; r++)n[n.length++] = t[r] } else n[n.length++] = t } function ns(n, t) { return cu(n, "$" + (t || "ngController") + "Controller") } function cu(n, t, i) { for (9 === n.nodeType && (n = n.documentElement), t = c(t) ? t : [t]; n;) { for (var u = 0, f = t.length; u < f; u++)if (r(i = e.data(n, t[u]))) return i; n = n.parentNode || 11 === n.nodeType && n.host } } function ts(n) { for (fu(n, !0); n.firstChild;)n.removeChild(n.firstChild) } function lu(n, t) { t || fu(n); var i = n.parentNode; i && i.removeChild(n) } function ua(t, i) { if (i = i || n, "complete" === i.document.readyState) i.setTimeout(t); else e(i).on("load", t) } function is(t) { function i() { n.document.removeEventListener("DOMContentLoaded", i); n.removeEventListener("load", i); t() } "complete" === n.document.readyState ? n.setTimeout(t) : (n.document.addEventListener("DOMContentLoaded", i), n.addEventListener("load", i)) } function rs(n, t) { var i = tf[t.toLowerCase()]; return i && ge[lt(n)] && i } function fa(n, t) { var i = function (i, r) { var f, e, s, h, o; if (i.isDefaultPrevented = function () { return i.defaultPrevented }, f = t[r || i.type], e = f ? f.length : 0, e) for (u(i.immediatePropagationStopped) && (s = i.stopImmediatePropagation, i.stopImmediatePropagation = function () { i.immediatePropagationStopped = !0; i.stopPropagation && i.stopPropagation(); s && s.call(i) }), i.isImmediatePropagationStopped = function () { return !0 === i.immediatePropagationStopped }, h = f.specialHandlerWrapper || ea, 1 < e && (f = vt(f)), o = 0; o < e; o++)i.isImmediatePropagationStopped() || h(n, i, f[o]) }; return i.elem = n, i } function ea(n, t, i) { i.call(n, t) } function oa(n, t, i) { var r = t.relatedTarget; r && (r === n || fp.call(n, r)) || i.call(n, t) } function sa() { this.$get = function () { return v(w, { hasClass: function (n, t) { return n.attr && (n = n[0]), ou(n, t) }, addClass: function (n, t) { return n.attr && (n = n[0]), hu(n, t) }, removeClass: function (n, t) { return n.attr && (n = n[0]), su(n, t) } }) } } function vi(n, t) { var i = n && n.$$hashKey; return i ? ("function" == typeof i && (i = n.$$hashKey()), i) : (i = typeof n, "function" === i || "object" === i && null !== n ? n.$$hashKey = i + ":" + (t || vl)() : i + ":" + n) } function us() { this._keys = []; this._values = []; this._lastKey = NaN; this._lastIndex = -1 } function fs(n) { return n = Function.prototype.toString.call(n).replace(lp, ""), n.match(op) || n.match(sp) } function ha(n) { return (n = fs(n)) ? "function(" + (n[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn" } function vr(n, i) { function l(n) { return function (i, r) { if (s(i)) t(i, so(n)); else return n(i, r) } } function b(n, t) { if (ai(n, "service"), (f(t) || c(t)) && (t = e.instantiate(t)), !t.$get) throw ci("pget", n); return o[n + "Provider"] = t } function it(n, t) { return function () { var i = r.invoke(t, this); if (u(i)) throw ci("undef", n); return i } } function v(n, t, i) { return b(n, { $get: !1 !== i ? it(n, t) : t }) } function k(n) { lr(u(n) || c(n), "modulesToLoad", "not an array"); var o = [], i; return t(n, function (n) { function u(n) { for (var i, r, t = 0, u = n.length; t < u; t++)i = n[t], r = e.get(i[0]), r[i[1]].apply(r, i[2]) } if (!g.get(n)) { g.set(n, !0); try { h(n) ? (i = be(n), r.modules[n] = i, o = o.concat(k(i.requires)).concat(i._runBlocks), u(i._invokeQueue), u(i._configBlocks)) : f(n) ? o.push(e.invoke(n)) : c(n) ? o.push(e.invoke(n)) : iu(n, "module") } catch (t) { throw c(n) && (n = n[n.length - 1]), t.message && t.stack && -1 === t.stack.indexOf(t.message) && (t = t.message + "\n" + t.stack), ci("modulerr", n, t.stack || t.message || t); } } }), o } function d(n, t) { function r(i, r) { if (n.hasOwnProperty(i)) { if (n[i] === y) throw ci("cdep", i + " <- " + a.join(" <- ")); return n[i] } try { return a.unshift(i), n[i] = y, n[i] = t(i, r), n[i] } catch (u) { throw n[i] === y && delete n[i], u; } finally { a.shift() } } function u(n, t, u) { var o = [], e, s, f; for (n = vr.$$annotate(n, i, u), e = 0, s = n.length; e < s; e++) { if (f = n[e], "string" != typeof f) throw ci("itkn", f); o.push(t && t.hasOwnProperty(f) ? t[f] : r(f, u)) } return o } return { invoke: function (n, t, i, r) { if ("string" == typeof i && (r = i, i = null), i = u(n, i, r), c(n) && (n = n[n.length - 1]), r = n, wt || "function" != typeof r) r = !1; else { var f = r.$$ngIsClass; gt(f) || (f = r.$$ngIsClass = /^(?:class\b|constructor\()/.test(Function.prototype.toString.call(r))); r = f } return r ? (i.unshift(null), new (Function.prototype.bind.apply(n, i))) : n.apply(t, i) }, instantiate: function (n, t, i) { var r = c(n) ? n[n.length - 1] : n; return n = u(n, t, i), n.unshift(null), new (Function.prototype.bind.apply(r, n)) }, get: r, annotate: vr.$$annotate, has: function (t) { return o.hasOwnProperty(t + "Provider") || n.hasOwnProperty(t) } } } var tt, r; i = !0 === i; var y = {}, a = [], g = new rf, o = { $provide: { provider: l(b), factory: l(v), service: l(function (n, t) { return v(n, ["$injector", function (n) { return n.instantiate(t) }]) }), value: l(function (n, t) { return v(n, ot(t), !1) }), constant: l(function (n, t) { ai(n, "constant"); o[n] = t; nt[n] = t }), decorator: function (n, t) { var i = e.get(n + "Provider"), u = i.$get; i.$get = function () { var n = r.invoke(u, i); return r.invoke(t, null, { $delegate: n }) } } } }, e = o.$injector = d(o, function (n, t) { ft.isString(t) && a.push(t); throw ci("unpr", a.join(" <- ")); }), nt = {}, w = d(nt, function (n, t) { var i = e.get(n + "Provider", t); return r.invoke(i.$get, i, void 0, n) }), r = w; return o.$injectorProvider = { $get: ot(w) }, r.modules = e.modules = p(), tt = k(n), r = w.get("$injector"), r.strictDi = i, t(tt, function (n) { n && r.invoke(n) }), r } function ca() { var n = !0; this.disableAutoScrolling = function () { n = !1 }; this.$get = ["$window", "$location", "$rootScope", function (t, i, r) { function s(n) { var t = null; return Array.prototype.some.call(n, function (n) { if ("a" === lt(n)) return t = n, !0 }), t } function u(n) { if (n) { n.scrollIntoView(); var i; i = e.yOffset; f(i) ? i = i() : af(i) ? (i = i[0], i = "fixed" !== t.getComputedStyle(i).position ? 0 : i.getBoundingClientRect().bottom) : d(i) || (i = 0); i && (n = n.getBoundingClientRect().top, t.scrollBy(0, n - i)) } else t.scrollTo(0, 0) } function e(n) { n = h(n) ? n : d(n) ? n.toString() : i.hash(); var t; n ? (t = o.getElementById(n)) ? u(t) : (t = s(o.getElementsByName(n))) ? u(t) : "top" === n && u(null) : u(null) } var o = t.document; return n && r.$watch(function () { return i.hash() }, function (n, t) { n === t && "" === n || ua(function () { r.$evalAsync(e) }) }), e }] } function yr(n, t) { return !n && !t ? "" : n ? t ? (c(n) && (n = n.join(" ")), c(t) && (t = t.join(" ")), n + " " + t) : n : t } function la(n) { h(n) && (n = n.split(" ")); var i = p(); return t(n, function (n) { n.length && (i[n] = !0) }), i } function fi(n) { return s(n) ? n : {} } function aa(n, i, r, f) { function k(n) { try { n.apply(null, bt.call(arguments, 1)) } finally { if (l-- , 0 === l) for (; b.length;)try { b.pop()() } catch (t) { r.error(t) } } } function d() { v = null; tt() } function g() { h = ot(); h = u(h) ? null : h; st(h, nt) && (h = nt); y = nt = h } function tt() { var n = y; g(); (a !== s.url() || n !== h) && (a = s.url(), y = h, t(it, function (n) { n(s.url(), h) })) } var s = this, c = n.location, p = n.history, ut = n.setTimeout, ft = n.clearTimeout, w = {}, l, b; s.isMock = !1; l = 0; b = []; s.$$completeOutstandingRequest = k; s.$$incOutstandingRequestCount = function () { l++ }; s.notifyWhenNoOutstandingRequests = function (n) { 0 === l ? n() : b.push(n) }; var h, y, a = c.href, et = i.find("base"), v = null, ot = f.history ? function () { try { return p.state } catch (n) { } } : o; g(); s.url = function (t, i, r) { var o, e; return (u(r) && (r = null), c !== n.location && (c = n.location), p !== n.history && (p = n.history), t) ? (o = y === r, a === t && (!f.history || o)) ? s : (e = a && ei(a) === ei(t), a = t, y = r, !f.history || e && o ? (e || (v = t), i ? c.replace(t) : e ? (i = c, r = t.indexOf("#"), r = -1 === r ? "" : t.substr(r), i.hash = r) : c.href = t, c.href !== t && (v = t)) : (p[i ? "replaceState" : "pushState"](r, "", t), g()), v && (v = t), s) : v || c.href.replace(/%27/g, "'") }; s.state = function () { return h }; var it = [], rt = !1, nt = null; s.onUrlChange = function (t) { if (!rt) { if (f.history) e(n).on("popstate", d); e(n).on("hashchange", d); rt = !0 } return it.push(t), t }; s.$$applicationDestroyed = function () { e(n).off("hashchange popstate", d) }; s.$$checkUrlChange = tt; s.baseHref = function () { var n = et.attr("href"); return n ? n.replace(/^(https?:)?\/\/[^/]*/, "") : "" }; s.defer = function (n, t) { var i; return l++ , i = ut(function () { delete w[i]; k(n) }, t || 0), w[i] = !0, i }; s.defer.cancel = function (n) { return w[n] ? (delete w[n], ft(n), k(o), !0) : !1 } } function va() { this.$get = ["$window", "$log", "$sniffer", "$document", function (n, t, i, r) { return new aa(n, r, t, i) }] } function ya() { this.$get = function () { function i(t, i) { function a(n) { n !== o && (r ? r === n && (r = n.n) : r = n, c(n.n, n.p), c(n, o), o = n, o.n = null) } function c(n, t) { n !== t && (n && (n.p = t), t && (t.n = n)) } if (t in n) throw l("$cacheFactory")("iid", t); var s = 0, y = v({}, i, { id: t }), f = p(), h = i && i.capacity || Number.MAX_VALUE, e = p(), o = null, r = null; return n[t] = { put: function (n, t) { if (!u(t)) { if (h < Number.MAX_VALUE) { var i = e[n] || (e[n] = { key: n }); a(i) } return n in f || s++ , f[n] = t, s > h && this.remove(r.key), t } }, get: function (n) { if (h < Number.MAX_VALUE) { var t = e[n]; if (!t) return; a(t) } return f[n] }, remove: function (n) { if (h < Number.MAX_VALUE) { var t = e[n]; if (!t) return; t === o && (o = t.p); t === r && (r = t.n); c(t.n, t.p); delete e[n] } n in f && (delete f[n], s--) }, removeAll: function () { f = p(); s = 0; e = p(); o = r = null }, destroy: function () { e = y = f = null; delete n[t] }, info: function () { return v({}, y, { size: s }) } } } var n = {}; return i.info = function () { var i = {}; return t(n, function (n, t) { i[t] = n.info() }), i }, i.get = function (t) { return n[t] }, i } } function pa() { this.$get = ["$cacheFactory", function (n) { return n("templates") }] } function es(i, l) { function it(n, i, r) { var f = /^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/, u = p(); return t(n, function (n, t) { if (n in rt) u[t] = rt[n]; else { var e = n.match(f); if (!e) throw k("iscp", i, t, n, r ? "controller bindings definition" : "isolate scope definition"); u[t] = { mode: e[1][0], collection: "*" === e[2], optional: "?" === e[3], attrName: e[4] || t }; e[4] && (rt[n] = u[t]) } }), u } function et(n) { var t = n.charAt(0); if (!t || t !== a(t)) throw k("baddir", n); if (n !== n.trim()) throw k("baddir", n); } function ht(n) { var i = n.require || n.controller && n.name; return !c(i) && s(i) && t(i, function (n, t) { var r = n.match(ft); n.substring(r[0].length) || (i[t] = r[0] + t) }), i } var b = {}, ct = /^\s*directive:\s*([\w-]+)\s+(.*)$/, vt = /(([\w-]+)(?::([^;]+))?;?)/, kt = wl("ngSrc,ngSrcset,src,srcset"), ft = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/, dt = /^(on[a-z]+|formaction)$/, rt = p(), w, g, d, nt, tt; this.directive = function ni(n, r) { return lr(n, "name"), ai(n, "directive"), h(n) ? (et(n), lr(r, "directiveFactory"), b.hasOwnProperty(n) || (b[n] = [], i.factory(n + "Directive", ["$injector", "$exceptionHandler", function (i, r) { var u = []; return t(b[n], function (t, e) { var o, c, s; try { if (o = i.invoke(t), f(o) ? o = { compile: ot(o) } : !o.compile && o.link && (o.compile = ot(o.link)), o.priority = o.priority || 0, o.index = e, o.name = o.name || n, o.require = ht(o), c = o, s = o.restrict, s && (!h(s) || !/[EACM]/.test(s))) throw k("badrestrict", s, n); c.restrict = s || "EA"; o.$$moduleName = t.$$moduleName; u.push(o) } catch (l) { r(l) } }), u }])), b[n].push(r)) : t(n, so(ni)), this }; this.component = function (n, i) { function r(n) { function r(t) { return f(t) || c(t) ? function (i, r) { return n.invoke(t, this, { $element: i, $attrs: r }) } : t } var o = i.template || i.templateUrl ? i.template : "", e = { controller: u, controllerAs: wa(i.controller) || i.controllerAs || "$ctrl", template: r(o), templateUrl: r(i.templateUrl), transclude: i.transclude, scope: {}, bindToController: i.bindings || {}, restrict: "E", require: i.require }; return t(i, function (n, t) { "$" === t.charAt(0) && (e[t] = n) }), e } var u = i.controller || function () { }; return t(i, function (n, t) { "$" === t.charAt(0) && (r[t] = n, f(u) && (u[t] = n)) }), r.$inject = ["$injector"], this.directive(n, r) }; this.aHrefSanitizationWhitelist = function (n) { return r(n) ? (l.aHrefSanitizationWhitelist(n), this) : l.aHrefSanitizationWhitelist() }; this.imgSrcSanitizationWhitelist = function (n) { return r(n) ? (l.imgSrcSanitizationWhitelist(n), this) : l.imgSrcSanitizationWhitelist() }; w = !0; this.debugInfoEnabled = function (n) { return r(n) ? (w = n, this) : w }; g = !1; this.preAssignBindingsEnabled = function (n) { return r(n) ? (g = n, this) : g }; d = 10; this.onChangesTtl = function (n) { return arguments.length ? (d = n, this) : d }; nt = !0; this.commentDirectivesEnabled = function (n) { return arguments.length ? (nt = n, this) : nt }; tt = !0; this.cssClassDirectivesEnabled = function (n) { return arguments.length ? (tt = n, this) : tt }; this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$sce", "$animate", "$$sanitizeUri", function (i, l, rt, et, ot, ht, ni, ti, ii, ui) { function wr() { try { if (!--ar) throw ei = void 0, k("infchng", d); ni.$apply(function () { for (var n = [], t = 0, i = ei.length; t < i; ++t)try { ei[t]() } catch (r) { n.push(r) } if (ei = void 0, n.length) throw n; }) } finally { ar++ } } function vi(n, t) { if (t) for (var u = Object.keys(t), r, i = 0, f = u.length; i < f; i++)r = u[i], this[r] = t[r]; else this.$attr = {}; this.$$element = n } function br(n, t, i) { cr.innerHTML = "<span " + t + ">"; t = cr.firstChild.attributes; var r = t[0]; t.removeNamedItem(r.name); r.value = i; n.attributes.setNamedItem(r) } function yi(n, t) { try { n.addClass(t) } catch (i) { } } function fi(n, t, i, r, u) { var o, f; return n instanceof e || (n = e(n)), o = pi(n, t, n, i, r, u), fi.$$addScopeClass(n), f = null, function (t, i, r) { var s, h, c; if (!n) throw k("multilink"); if (lr(t, "scope"), u && u.needsNewScope && (t = t.$parent.$new()), r = r || {}, s = r.parentBoundTranscludeFn, h = r.transcludeControllers, r = r.futureParentElement, s && s.$$boundTransclude && (s = s.$$boundTransclude), f || (f = (r = r && r[0]) ? "foreignobject" !== lt(r) && ut.call(r).match(/SVG/) ? "svg" : "html" : "html"), r = "html" !== f ? e(ki(f, e("<div>").append(n).html())) : i ? gi.clone.call(n) : n, h) for (c in h) r.data("$" + c + "Controller", h[c].instance); return fi.$$addScopeInfo(r, t), i && i(r, t), o && o(t, r, r, s), i || (n = o = null), r } } function pi(n, t, i, r, u, f) { function p(n, i, r, u) { var o, h, c, f, a, y, l; if (v) for (l = Array(i.length), f = 0; f < s.length; f += 3)o = s[f], l[o] = i[o]; else l = i; for (f = 0, a = s.length; f < a;)h = l[s[f++]], i = s[f++], o = s[f++], i ? (i.scope ? (c = n.$new(), fi.$$addScopeInfo(e(h), c)) : c = n, y = i.transcludeOnThisElement ? si(n, i.transclude, u) : !i.templateOnThisElement && u ? u : !u && t ? si(n, t) : null, i(o, c, h, r, y)) : o && o(n, h.childNodes, void 0, u) } for (var s = [], w = c(n) || n instanceof e, h, l, a, y, v, o = 0; o < n.length; o++)h = new vi, 11 === wt && kr(n, o, w), l = wi(n[o], [], h, 0 === o ? r : void 0, u), (f = l.length ? tr(l, n[o], h, t, i, null, [], [], f) : null) && f.scope && fi.$$addScopeClass(h.$$element), h = f && f.terminal || !(a = n[o].childNodes) || !a.length ? null : pi(a, f ? (f.transcludeOnThisElement || !f.templateOnThisElement) && f.transclude : t), (f || h) && (s.push(o, f, h), y = !0, v = v || f), f = null; return y ? p : null } function kr(n, t, i) { var u = n[t], f = u.parentNode, r; if (u.nodeType === ri) for (; ;) { if (r = f ? u.nextSibling : n[t + 1], !r || r.nodeType !== ri) break; u.nodeValue += r.nodeValue; r.parentNode && r.parentNode.removeChild(r); i && r === n[t + 1] && n.splice(t + 1, 1) } } function si(n, t, i) { function u(r, u, f, e, o) { return r || (r = n.$new(!1, o), r.$$transcluded = !0), t(r, u, { parentBoundTranscludeFn: i, transcludeControllers: f, futureParentElement: e }) } var f = u.$$slots = p(), r; for (r in t.$$slots) f[r] = t.$$slots[r] ? si(n, t.$$slots[r], i) : null; return u } function wi(n, t, i, r, u) { var o = i.$attr, c, w, b; switch (n.nodeType) { case 1: c = lt(n); ci(t, yt(c), "E", r, u); for (var f, e, l, a, v = n.attributes, p = 0, k = v && v.length; p < k; p++)w = !1, b = !1, f = v[p], e = f.name, l = f.value, f = yt(e), (a = hu.test(f)) && (e = e.replace(ec, "").substr(8).replace(/_(.)/g, function (n, t) { return t.toUpperCase() })), (f = f.match(cu)) && nu(f[1]) && (w = e, b = e.substr(0, e.length - 5) + "end", e = e.substr(0, e.length - 6)), f = yt(e.toLowerCase()), o[f] = e, (a || !i.hasOwnProperty(f)) && (i[f] = l, rs(n, f) && (i[f] = !0)), fu(n, t, l, f, a), ci(t, f, "A", r, u, w, b); if ("input" === c && "hidden" === n.getAttribute("type") && n.setAttribute("autocomplete", "off"), !su) break; if (o = n.className, s(o) && (o = o.animVal), h(o) && "" !== o) for (; n = vt.exec(o);)f = yt(n[2]), ci(t, f, "C", r, u) && (i[f] = y(n[3])), o = o.substr(n.index + n[0].length); break; case ri: ru(t, n.nodeValue); break; case 8: if (!ou) break; dr(n, t, i, r, u) }return t.sort(iu), t } function dr(n, t, i, r, u) { var f, e; try { f = ct.exec(n.nodeValue); f && (e = yt(f[1]), ci(t, e, "M", r, u) && (i[e] = y(f[2]))) } catch (o) { } } function di(n, t, i) { var r = [], u = 0; if (t && n.hasAttribute && n.hasAttribute(t)) { do { if (!n) throw k("uterdir", t, i); 1 === n.nodeType && (n.hasAttribute(t) && u++ , n.hasAttribute(i) && u--); r.push(n); n = n.nextSibling } while (0 < u) } else r.push(n); return e(r) } function nr(n, t, i) { return function (r, u, f, e, o) { return u = di(u[0], t, i), n(r, u, f, e, o) } } function bi(n, t, i, r, u, f) { var e; return n ? fi(t, i, r, u, f) : function () { return e || (e = fi(t, i, r, u, f), t = i = f = null), e.apply(this, arguments) } } function tr(n, i, r, o, h, l, a, w, b) { function tr(n, t, i, r) { n && (i && (n = nr(n, i, r)), n.require = d.require, n.directiveName = st, (nt === d || d.$$isolateScope) && (n = or(n, { isolateScope: !0 })), a.push(n)); t && (i && (t = nr(t, i, r)), t.require = d.require, t.directiveName = st, (nt === d || d.$$isolateScope) && (t = or(t, { isolateScope: !0 })), w.push(t)) } function pt(n, o, h, l, y) { function yt(n, t, i, r) { var e, f; if (fr(n) || (r = i, i = t, t = n, n = void 0), ii && (e = ut), i || (i = ii ? b.parent() : b), r) { if (f = y.$$slots[r], f) return f(n, t, e, i, lt); if (u(f)) throw k("noslot", r, at(b)); } else return y(n, t, e, i, lt) } var tt, d, p, it, et, ut, st, b, ct, vt, lt; i === h ? (l = r, b = r.$$element) : (b = e(h), l = new vi(b, r)); et = o; nt ? it = o.$new(!0) : ft && (et = o.$parent); y && (st = yt, st.$$boundTransclude = y, st.isSlotFilled = function (n) { return !!y.$$slots[n] }); ot && (ut = gr(b, l, st, ot, it, o, nt)); nt && (fi.$$addScopeInfo(b, it, !0, !(ht && (ht === nt || ht === nt.$$originalDirective))), fi.$$addScopeClass(b, !0), it.$$isolateBindings = nt.$$isolateBindings, d = ai(o, l, it, it.$$isolateBindings, nt), d.removeWatches && it.$on("$destroy", d.removeWatches)); for (tt in ut) d = ot[tt], p = ut[tt], ct = d.$$bindings.bindToController, g ? (p.bindingInfo = ct ? ai(et, l, p.instance, ct, d) : {}, vt = p(), vt !== p.instance && (p.instance = vt, b.data("$" + d.name + "Controller", vt), p.bindingInfo.removeWatches && p.bindingInfo.removeWatches(), p.bindingInfo = ai(et, l, p.instance, ct, d))) : (p.instance = p(), b.data("$" + d.name + "Controller", p.instance), p.bindingInfo = ai(et, l, p.instance, ct, d)); for (t(ot, function (n, t) { var i = n.require; n.bindToController && !c(i) && s(i) && v(ut[t].instance, hi(t, i, b, ut)) }), t(ut, function (n) { var t = n.instance; if (f(t.$onChanges)) try { t.$onChanges(n.bindingInfo.initialChanges) } catch (i) { rt(i) } if (f(t.$onInit)) try { t.$onInit() } catch (r) { rt(r) } f(t.$doCheck) && (et.$watch(function () { t.$doCheck() }), t.$doCheck()); f(t.$onDestroy) && et.$on("$destroy", function () { t.$onDestroy() }) }), tt = 0, d = a.length; tt < d; tt++)p = a[tt], hr(p, p.isolateScope ? it : o, b, l, p.require && hi(p.directiveName, p.require, b, ut), st); for (lt = o, nt && (nt.template || null === nt.templateUrl) && (lt = it), n && n(lt, h.childNodes, void 0, y), tt = w.length - 1; 0 <= tt; tt--)p = w[tt], hr(p, p.isolateScope ? it : o, b, l, p.require && hi(p.directiveName, p.require, b, ut), st); t(ut, function (n) { n = n.instance; f(n.$postLink) && n.$postLink() }) } var ni, ui, et, gi, ei, si, ir, ci; b = b || {}; for (var gt = -Number.MAX_VALUE, ft = b.newScopeDirective, ot = b.controllerDirectives, nt = b.newIsolateScopeDirective, ht = b.templateDirective, ti = b.nonTlbTranscludeDirective, yi = !1, pi = !1, ii = b.hasElementTranscludeDirective, tt = r.$$element = e(i), d, st, ut, wt = o, kt, ct = !1, ri = !1, it, vt = 0, dt = n.length; vt < dt; vt++) { if (d = n[vt], ni = d.$$start, ui = d.$$end, ni && (tt = di(i, ni, ui)), ut = void 0, gt > d.priority) break; if ((it = d.scope) && (d.templateUrl || (s(it) ? (oi("new/isolated scope", nt || ft, d, tt), nt = d) : oi("new/isolated scope", nt, d, tt)), ft = ft || d), st = d.name, !ct && (d.replace && (d.templateUrl || d.template) || d.transclude && !d.$$tlb)) { for (it = vt + 1; ct = n[it++];)if (ct.transclude && !ct.$$tlb || ct.replace && (ct.templateUrl || ct.template)) { ri = !0; break } ct = !0 } if (!d.templateUrl && d.controller && (ot = ot || p(), oi("'" + st + "' controller", ot[st], d, tt), ot[st] = d), it = d.transclude) if (yi = !0, d.$$tlb || (oi("transclusion", ti, d, tt), ti = d), "element" === it) ii = !0, gt = d.priority, ut = tt, tt = r.$$element = e(fi.$$createComment(st, r[st])), i = tt[0], li(h, bt.call(ut, 0), i), ut[0].$$parentNode = ut[0].parentNode, wt = bi(ri, ut, o, gt, l && l.name, { nonTlbTranscludeDirective: ti }); else { if (et = p(), s(it)) { ut = []; gi = p(); ei = p(); t(it, function (n, t) { var i = "?" === n.charAt(0); n = i ? n.substring(1) : n; gi[n] = t; et[t] = null; ei[t] = i }); t(tt.contents(), function (n) { var t = gi[yt(lt(n))]; t ? (ei[t] = !0, et[t] = et[t] || [], et[t].push(n)) : ut.push(n) }); t(ei, function (n, t) { if (!n) throw k("reqslot", t); }); for (si in et) et[si] && (et[si] = bi(ri, et[si], o)) } else ut = e(kf(i)).contents(); tt.empty(); wt = bi(ri, ut, o, void 0, void 0, { needsNewScope: d.$$isolateScope || d.$$newScope }); wt.$$slots = et } if (d.template) if (pi = !0, oi("template", ht, d, tt), ht = d, it = f(d.template) ? d.template(tt, r) : d.template, it = pr(it), d.replace) { if (l = d, ut = de.test(it) ? ss(ki(d.templateNamespace, y(it))) : [], i = ut[0], 1 !== ut.length || 1 !== i.nodeType) throw k("tplrt", st, ""); li(h, tt, i); dt = { $attr: {} }; it = wi(i, [], dt); ir = n.splice(vt + 1, n.length - (vt + 1)); (nt || ft) && rr(it, nt, ft); n = n.concat(it).concat(ir); ur(r, dt); dt = n.length } else tt.html(it); if (d.templateUrl) pi = !0, oi("template", ht, d, tt), ht = d, d.replace && (l = d), pt = tu(n.splice(vt, n.length - vt), tt, r, h, yi && wt, a, w, { controllerDirectives: ot, newScopeDirective: ft !== d && ft, newIsolateScopeDirective: nt, templateDirective: ht, nonTlbTranscludeDirective: ti }), dt = n.length; else if (d.compile) try { kt = d.compile(tt, r, wt); ci = d.$$originalDirective || d; f(kt) ? tr(null, sr(ci, kt), ni, ui) : kt && tr(sr(ci, kt.pre), sr(ci, kt.post), ni, ui) } catch (er) { rt(er, at(tt)) } d.terminal && (pt.terminal = !0, gt = Math.max(gt, d.priority)) } return pt.scope = ft && !0 === ft.scope, pt.transcludeOnThisElement = yi, pt.templateOnThisElement = pi, pt.transclude = wt, b.hasElementTranscludeDirective = ii, pt } function hi(n, i, r, u) { var f, o, e, l; if (h(i)) { if (e = i.match(ft), i = i.substring(e[0].length), o = e[1] || e[3], e = "?" === e[2], "^^" === o ? r = r.parent() : f = (f = u && u[i]) && f.instance, f || (l = "$" + i + "Controller", f = o ? r.inheritedData(l) : r.data(l)), !f && !e) throw k("ctreq", i, n); } else if (c(i)) for (f = [], o = 0, e = i.length; o < e; o++)f[o] = hi(n, i[o], r, u); else s(i) && (f = {}, t(i, function (t, i) { f[i] = hi(n, t, r, u) })); return f || null } function gr(n, t, i, r, u, f, e) { var c = p(), l; for (l in r) { var o = r[l], s = { $scope: o === e || o.$$isolateScope ? u : f, $element: n, $attrs: t, $transclude: i }, h = o.controller; "@" === h && (h = t[o.name]); s = ht(h, s, !0, o.controllerAs); c[o.name] = s; n.data("$" + o.name + "Controller", s.instance) } return c } function rr(n, t, i) { for (var r = 0, u = n.length; r < u; r++)n[r] = cf(n[r], { $$isolateScope: t, $$newScope: i }) } function ci(n, t, r, f, e, o, h) { var c, v, p; if (t === e) return null; if (c = null, b.hasOwnProperty(t)) for (e = i.get(t + "Directive"), v = 0, p = e.length; v < p; v++)if (t = e[v], (u(f) || f > t.priority) && -1 !== t.restrict.indexOf(r)) { if (o && (t = cf(t, { $$start: o, $$end: h })), !t.$$bindings) { var l = c = t, y = t.name, a = { isolateScope: null, bindToController: null }; if (s(l.scope) && (!0 === l.bindToController ? (a.bindToController = it(l.scope, y, !0), a.isolateScope = {}) : a.isolateScope = it(l.scope, y, !1)), s(l.bindToController) && (a.bindToController = it(l.bindToController, y, !0)), a.bindToController && !l.controller) throw k("noctrl", y); c = c.$$bindings = a; s(c.isolateScope) && (t.$$isolateBindings = c.isolateScope) } n.push(t); c = t } return c } function nu(n) { if (b.hasOwnProperty(n)) for (var r = i.get(n + "Directive"), t = 0, u = r.length; t < u; t++)if (n = r[t], n.multiElement) return !0; return !1 } function ur(n, i) { var r = i.$attr, u = n.$attr; t(n, function (t, u) { "$" !== u.charAt(0) && (i[u] && i[u] !== t && (t = t.length ? t + (("style" === u ? ";" : " ") + i[u]) : i[u]), n.$set(u, t, !0, r[u])) }); t(i, function (t, i) { n.hasOwnProperty(i) || "$" === i.charAt(0) || (n[i] = t, "class" !== i && "style" !== i && (u[i] = r[i])) }) } function tu(n, i, r, u, o, h, c, l) { var v = [], p, w, b = i[0], a = n.shift(), g = cf(a, { templateUrl: null, transclude: null, replace: null, $$originalDirective: a }), d = f(a.templateUrl) ? a.templateUrl(i, r) : a.templateUrl, nt = a.templateNamespace; return i.empty(), et(d).then(function (f) { var tt, rt, it, ft; if (f = pr(f), a.replace) { if (f = de.test(f) ? ss(ki(nt, y(f))) : [], tt = f[0], 1 !== f.length || 1 !== tt.nodeType) throw k("tplrt", a.name, d); f = { $attr: {} }; li(u, i, tt); it = wi(tt, [], f); s(a.scope) && rr(it, !0); n = it.concat(n); ur(r, f) } else tt = b, i.html(f); for (n.unshift(g), p = tr(n, tt, r, o, i, a, h, c, l), t(u, function (n, t) { n === tt && (u[t] = i[0]) }), w = pi(i[0].childNodes, o); v.length;) { f = v.shift(); rt = v.shift(); var et = v.shift(), ut = v.shift(), it = i[0]; f.$$destroyed || (rt !== b && (ft = rt.className, l.hasElementTranscludeDirective && a.replace || (it = kf(tt)), li(et, e(rt), it), yi(e(it), ft)), rt = p.transcludeOnThisElement ? si(f, p.transclude, ut) : ut, p(w, f, it, u, rt)) } v = null }).catch(function (n) { n instanceof Error && rt(n) }), function (n, t, i, r, u) { n = u; t.$$destroyed || (v ? v.push(t, i, r, n) : (p.transcludeOnThisElement && (n = si(t, p.transclude, u)), p(w, t, i, r, n))) } } function iu(n, t) { var i = t.priority - n.priority; return 0 !== i ? i : n.name !== t.name ? n.name < t.name ? -1 : 1 : n.index - t.index } function oi(n, t, i, r) { function u(n) { return n ? " (module: " + n + ")" : "" } if (t) throw k("multidir", t.name, u(t.$$moduleName), i.name, u(i.$$moduleName), n, at(r)); } function ru(n, t) { var i = l(t, !0); i && n.push({ priority: 0, compile: function (n) { n = n.parent(); var t = !!n.length; return t && fi.$$addBindingClass(n), function (n, r) { var u = r.parent(); t || fi.$$addBindingClass(u); fi.$$addBindingInfo(u, i.expressions); n.$watch(i, function (n) { r[0].nodeValue = n }) } } }) } function ki(t, i) { t = a(t || "html"); switch (t) { case "svg": case "math": var r = n.document.createElement("div"); return r.innerHTML = "<" + t + ">" + i + "<\/" + t + ">", r.childNodes[0].childNodes; default: return i } } function uu(n, t) { if ("srcdoc" === t) return ti.HTML; var i = lt(n); if ("src" === t || "ngSrc" === t) { if (-1 === ["img", "video", "audio", "source", "track"].indexOf(i)) return ti.RESOURCE_URL } else if ("xlinkHref" === t || "form" === i && "action" === t || "link" === i && "href" === t) return ti.RESOURCE_URL } function fu(n, t, i, r, u) { var e = uu(n, r), o = kt[r] || u, f = l(i, !u, e, o); if (f) { if ("multiple" === r && "select" === lt(n)) throw k("selmulti", at(n)); if (dt.test(r)) throw k("nodomevents"); t.push({ priority: 100, compile: function () { return { pre: function (n, t, u) { t = u.$$observers || (u.$$observers = p()); var s = u[r]; s !== i && (f = s && l(s, !0, e, o), i = s); f && (u[r] = f(n), (t[r] || (t[r] = [])).$$inter = !0, (u.$$observers && u.$$observers[r].$$scope || n).$watch(f, function (n, t) { "class" === r && n !== t ? u.$updateClass(n, t) : u.$set(r, n) })) } } } }) } } function li(t, i, r) { var f = i[0], s = i.length, c = f.parentNode, u, o, h; if (t) for (u = 0, o = t.length; u < o; u++)if (t[u] === f) { for (t[u++] = r, o = u + s - 1, h = t.length; u < h; u++ , o++)o < h ? t[u] = t[o] : delete t[u]; t.length -= s - 1; t.context === f && (t.context = r); break } for (c && c.replaceChild(r, f), t = n.document.createDocumentFragment(), u = 0; u < s; u++)t.appendChild(i[u]); for (e.hasData(f) && (e.data(r, e.data(f)), e(f).off("$destroy")), e.cleanData(t.querySelectorAll("*")), u = 1; u < s; u++)delete i[u]; i[0] = r; i.length = 1 } function or(n, t) { return v(function () { return n.apply(null, arguments) }, n, t) } function hr(n, t, i, r, u, f) { try { n(t, i, r, u, f) } catch (e) { rt(e, at(i)) } } function ai(n, i, r, u, e) { function v(t, i, u) { f(r.$onChanges) && !vf(i, u) && (ei || (n.$$postDigest(wr), ei = []), s || (s = {}, ei.push(y)), s[t] && (u = s[t].previousValue), s[t] = new au(u, i)) } function y() { r.$onChanges(s); s = void 0 } var c = [], a = {}, s; return t(u, function (t, u) { var f = t.attrName, s = t.optional, p, y, g, b, d, w; switch (t.mode) { case "@": s || pt.call(i, f) || (r[u] = i[f] = void 0); s = i.$observe(f, function (n) { (h(n) || gt(n)) && (v(u, n, r[u]), r[u] = n) }); i.$$observers[f].$$scope = n; p = i[f]; h(p) ? r[u] = l(p)(n) : gt(p) && (r[u] = p); a[u] = new au(to, r[u]); c.push(s); break; case "=": if (!pt.call(i, f)) { if (s) break; i[f] = void 0 } if (s && !i[f]) break; y = ot(i[f]); b = y.literal ? st : vf; g = y.assign || function () { p = r[u] = y(n); throw k("nonassign", i[f], f, e.name); }; p = r[u] = y(n); s = function (t) { return b(t, r[u]) || (b(t, p) ? g(n, t = r[u]) : r[u] = t), p = t }; s.$stateful = !0; s = t.collection ? n.$watchCollection(i[f], s) : n.$watch(ot(i[f], s), null, y.literal); c.push(s); break; case "<": if (!pt.call(i, f)) { if (s) break; i[f] = void 0 } if (s && !i[f]) break; y = ot(i[f]); d = y.literal; w = r[u] = y(n); a[u] = new au(to, r[u]); s = n.$watch(y, function (n, t) { if (t === n) { if (t === w || d && st(t, w)) return; t = w } v(u, n, t); r[u] = n }, d); c.push(s); break; case "&": if (y = i.hasOwnProperty(f) ? ot(i[f]) : o, y === o && s) break; r[u] = function (t) { return y(n, t) } } }), { initialChanges: a, removeWatches: c.length && function () { for (var n = 0, t = c.length; n < t; ++n)c[n]() } } } var eu = /^\w/, cr = n.document.createElement("div"), ou = nt, su = tt, ar = d, ei; vi.prototype = { $normalize: yt, $addClass: function (n) { n && 0 < n.length && ii.addClass(this.$$element, n) }, $removeClass: function (n) { n && 0 < n.length && ii.removeClass(this.$$element, n) }, $updateClass: function (n, t) { var i = os(n, t); i && i.length && ii.addClass(this.$$element, i); (i = os(t, n)) && i.length && ii.removeClass(this.$$element, i) }, $set: function (n, i, f, e) { var s = rs(this.$$element[0], n), o = no[n], l = n; if (s ? (this.$$element.prop(n, i), e = s) : o && (this[o] = i, l = o), this[n] = i, e ? this.$attr[n] = e : (e = this.$attr[n]) || (this.$attr[n] = e = wo(n, "-")), s = lt(this.$$element), "a" === s && ("href" === n || "xlinkHref" === n) || "img" === s && "src" === n) this[n] = i = ui(i, "src" === n); else if ("img" === s && "srcset" === n && r(i)) { for (var s = "", o = y(i), h = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/, h = /\s/.test(o) ? h : /(,)/, o = o.split(h), h = Math.floor(o.length / 2), c = 0; c < h; c++)var a = 2 * c, s = s + ui(y(o[a]), !0), s = s + (" " + y(o[a + 1])); o = y(o[2 * c]).split(/\s/); s += ui(y(o[0]), !0); 2 === o.length && (s += " " + y(o[1])); this[n] = i = s } !1 !== f && (null === i || u(i) ? this.$$element.removeAttr(e) : eu.test(e) ? this.$$element.attr(e, i) : br(this.$$element[0], e, i)); (n = this.$$observers) && t(n[l], function (n) { try { n(i) } catch (t) { rt(t) } }) }, $observe: function (n, t) { var i = this, f = i.$$observers || (i.$$observers = p()), r = f[n] || (f[n] = []); return r.push(t), ni.$evalAsync(function () { r.$$inter || !i.hasOwnProperty(n) || u(i[n]) || t(i[n]) }), function () { er(r, t) } } }; var vr = l.startSymbol(), yr = l.endSymbol(), pr = "{{" === vr && "}}" === yr ? ir : function (n) { return n.replace(/\{\{/g, vr).replace(/}}/g, yr) }, hu = /^ngAttr[A-Z]/, cu = /^(.+)Start$/; return fi.$$addBindingInfo = w ? function (n, t) { var i = n.data("$binding") || []; c(t) ? i = i.concat(t) : i.push(t); n.data("$binding", i) } : o, fi.$$addBindingClass = w ? function (n) { yi(n, "ng-binding") } : o, fi.$$addScopeInfo = w ? function (n, t, i, r) { n.data(i ? r ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope", t) } : o, fi.$$addScopeClass = w ? function (n, t) { yi(n, t ? "ng-isolate-scope" : "ng-scope") } : o, fi.$$createComment = function (t, i) { var r = ""; return w && (r = " " + (t || "") + ": ", i && (r += i + " ")), n.document.createComment(r) }, fi }] } function au(n, t) { this.previousValue = n; this.currentValue = t } function yt(n) { return n.replace(ec, "").replace(kp, ar) } function os(n, t) { var r = "", e = n.split(/\s+/), o = t.split(/\s+/), u = 0, f, i; n: for (; u < e.length; u++) { for (f = e[u], i = 0; i < o.length; i++)if (f === o[i]) continue n; r += (0 < r.length ? " " : "") + f } return r } function ss(n) { var t, i; if (n = e(n), t = n.length, 1 >= t) return n; for (; t--;)i = n[t], (8 === i.nodeType || i.nodeType === ri && "" === i.nodeValue.trim()) && yy.call(n, t, 1); return n } function wa(n, t) { if (t && h(t)) return t; if (h(n)) { var i = sc.exec(n); if (i) return i[3] } } function ba() { var n = {}, t = !1; this.has = function (t) { return n.hasOwnProperty(t) }; this.register = function (t, i) { ai(t, "controller"); s(t) ? v(n, t) : n[t] = i }; this.allowGlobals = function () { t = !0 }; this.$get = ["$injector", "$window", function (i, r) { function u(n, t, i, r) { if (!n || !s(n.$scope)) throw l("$controller")("noscp", r, t); n.$scope[t] = i } return function (e, o, l, a) { var p, y, w; if (l = !0 === l, a && h(a) && (w = a), h(e)) { if (a = e.match(sc), !a) throw oc("ctrlfmt", e); if (y = a[1], w = w || a[3], e = n.hasOwnProperty(y) ? n[y] : bo(o.$scope, y, !0) || (t ? bo(r, y, !0) : void 0), !e) throw oc("ctrlreg", y); iu(e, y, !0) } return l ? (l = (c(e) ? e[e.length - 1] : e).prototype, p = Object.create(l || null), w && u(o, w, p, y || e.name), v(function () { var n = i.invoke(e, p, o, y); return n !== p && (s(n) || f(n)) && (p = n, w && u(o, w, p, y || e.name)), p }, { instance: p, identifier: w })) : (p = i.instantiate(e, o, y), w && u(o, w, p, y || e.name), p) } }] } function ka() { this.$get = ["$window", function (n) { return e(n.document) }] } function da() { this.$get = ["$document", "$rootScope", function (n, t) { function r() { u = i.hidden } var i = n[0], u = i && i.hidden; n.on("visibilitychange", r); return t.$on("$destroy", function () { n.off("visibilitychange", r) }), function () { return u } }] } function ga() { this.$get = ["$log", function (n) { return function () { n.error.apply(n, arguments) } }] } function te(n) { return s(n) ? rt(n) ? n.toISOString() : hr(n) : n } function nv() { this.$get = function () { return function (n) { if (!n) return ""; var i = []; return oo(n, function (n, r) { null === n || u(n) || (c(n) ? t(n, function (n) { i.push(et(r) + "=" + et(te(n))) }) : i.push(et(r) + "=" + et(te(n)))) }), i.join("&") } } } function tv() { this.$get = function () { return function (n) { function i(n, f, e) { null === n || u(n) || (c(n) ? t(n, function (n, t) { i(n, f + "[" + (s(n) ? t : "") + "]") }) : s(n) && !rt(n) ? oo(n, function (n, t) { i(n, f + (e ? "" : "[") + t + (e ? "" : "]")) }) : r.push(et(f) + "=" + et(te(n)))) } if (!n) return ""; var r = []; return i(n, "", !0), r.join("&") } } } function ie(n, t) { var r, i; if (h(n) && (r = n.replace(tw, "").trim(), r && (i = t("Content-Type"), (i = i && 0 === i.indexOf(hc)) || (i = (i = r.match(gp)) && nw[i[0]].test(r)), i))) try { n = lo(r) } catch (u) { throw ro("baddata", n, u); } return n } function hs(n) { var i = p(), r; return h(n) ? t(n.split("\n"), function (n) { r = n.indexOf(":"); var t = a(y(n.substr(0, r))); n = y(n.substr(r + 1)); t && (i[t] = i[t] ? i[t] + ", " + n : n) }) : s(n) && t(n, function (n, t) { var r = a(t), u = y(n); r && (i[r] = i[r] ? i[r] + ", " + u : u) }), i } function cs(n) { var t; return function (i) { return t || (t = hs(n)), i ? (i = t[a(i)], void 0 === i && (i = null), i) : t } } function ls(n, i, r, u) { return f(u) ? u(n, i, r) : (t(u, function (t) { n = t(n, i, r) }), n) } function iv() { var n = this.defaults = { transformResponse: [ie], transformRequest: [function (n) { return s(n) && "[object File]" !== ut.call(n) && "[object Blob]" !== ut.call(n) && "[object FormData]" !== ut.call(n) ? hr(n) : n }], headers: { common: { Accept: "application/json, text/plain, */*" }, post: vt(io), put: vt(io), patch: vt(io) }, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", paramSerializer: "$httpParamSerializer", jsonpCallbackParam: "callback" }, i = !1, e; this.useApplyAsync = function (n) { return r(n) ? (i = !!n, this) : i }; e = this.interceptors = []; this.$get = ["$browser", "$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", "$sce", function (y, p, w, b, k, d, g, nt) { function tt(i) { function p(n, t) { for (var u, f, i = 0, r = t.length; i < r;)u = t[i++], f = t[i++], n = n.then(u, f); return t.length = 0, n } function b(n, i) { var r, u = {}; return t(n, function (n, t) { f(n) ? (r = n(i), null != r && (u[t] = r)) : u[t] = n }), u } function w(n) { var t = v({}, n); return t.data = ls(n.data, n.headers, n.status, r.transformResponse), n = n.status, 200 <= n && 300 > n ? t : d.reject(t) } var r, e, c; if (!s(i)) throw l("$http")("badreq", i); if (!h(nt.valueOf(i.url))) throw l("$http")("badreq", i.url); return r = v({ method: "get", transformRequest: n.transformRequest, transformResponse: n.transformResponse, paramSerializer: n.paramSerializer, jsonpCallbackParam: n.jsonpCallbackParam }, i), r.headers = function (t) { var i = n.headers, u = v({}, t.headers), r, f, e, i = v({}, i.common, i[a(t.method)]); n: for (r in i) { f = a(r); for (e in u) if (a(e) === f) continue n; u[r] = i[r] } return b(u, vt(t)) }(i), r.method = ku(r.method), r.paramSerializer = h(r.paramSerializer) ? g.get(r.paramSerializer) : r.paramSerializer, y.$$incOutstandingRequestCount(), e = [], c = [], i = d.resolve(r), t(it, function (n) { (n.request || n.requestError) && e.unshift(n.request, n.requestError); (n.response || n.responseError) && c.push(n.response, n.responseError) }), i = p(i, e), i = i.then(function (i) { var r = i.headers, f = ls(i.data, cs(r), void 0, i.transformRequest); return u(f) && t(r, function (n, t) { "content-type" === a(t) && delete r[t] }), u(i.withCredentials) && !u(n.withCredentials) && (i.withCredentials = n.withCredentials), rt(i, f).then(w, w) }), i = p(i, c), i.finally(function () { y.$$completeOutstandingRequest(o) }) } function rt(e, o) { function rt(n) { if (n) { var r = {}; return t(n, function (n, t) { r[t] = function (t) { function r() { n(t) } i ? k.$applyAsync(r) : k.$$phase ? r() : k.$apply(r) } }), r } } function lt(n, t, r, u) { function f() { b(t, n, r, u) } y && (200 <= n && 300 > n ? y.put(v, [n, t, hs(r), u]) : y.remove(v)); i ? k.$applyAsync(f) : (f(), k.$$phase || k.$apply()) } function b(n, t, i, r) { t = -1 <= t ? t : 0; (200 <= t && 300 > t ? g.resolve : g.reject)({ data: n, status: t, headers: cs(i), config: e, statusText: r }) } function ot(n) { b(n.data, n.status, vt(n.headers()), n.statusText) } function st() { var n = tt.pendingRequests.indexOf(e); -1 !== n && tt.pendingRequests.splice(n, 1) } var g = d.defer(), it = g.promise, y, l, ht = e.headers, ct = "jsonp" === a(e.method), v = e.url; return ct ? v = nt.getTrustedResourceUrl(v) : h(v) || (v = nt.valueOf(v)), v = ut(v, e.paramSerializer(e.params)), ct && (v = ft(v, e.jsonpCallbackParam)), tt.pendingRequests.push(e), it.then(st, st), (e.cache || n.cache) && !1 !== e.cache && ("GET" === e.method || "JSONP" === e.method) && (y = s(e.cache) ? e.cache : s(n.cache) ? n.cache : et), y && (l = y.get(v), r(l) ? l && f(l.then) ? l.then(ot, ot) : c(l) ? b(l[1], l[0], vt(l[2]), l[3]) : b(l, 200, {}, "OK") : y.put(v, it)), u(l) && ((l = rh(e.url) ? w()[e.xsrfCookieName || n.xsrfCookieName] : void 0) && (ht[e.xsrfHeaderName || n.xsrfHeaderName] = l), p(e.method, v, o, lt, ht, e.timeout, e.withCredentials, e.responseType, rt(e.eventHandlers), rt(e.uploadEventHandlers))), it } function ut(n, t) { return 0 < t.length && (n += (-1 === n.indexOf("?") ? "?" : "&") + t), n } function ft(n, t) { if (/[&?][^=]+=JSON_CALLBACK/.test(n)) throw ro("badjsonp", n); if (new RegExp("[&?]" + t + "=").test(n)) throw ro("badjsonp", t, n); return n + ((-1 === n.indexOf("?") ? "?" : "&") + t + "=JSON_CALLBACK") } var et = b("$http"), it; return n.paramSerializer = h(n.paramSerializer) ? g.get(n.paramSerializer) : n.paramSerializer, it = [], t(e, function (n) { it.unshift(h(n) ? g.get(n) : g.invoke(n)) }), tt.pendingRequests = [], function () { t(arguments, function (n) { tt[n] = function (t, i) { return tt(v({}, i || {}, { method: n, url: t })) } }) }("get", "delete", "head", "jsonp"), function () { t(arguments, function (n) { tt[n] = function (t, i, r) { return tt(v({}, r || {}, { method: n, url: t, data: i })) } }) }("post", "put", "patch"), tt.defaults = n, tt }] } function rv() { this.$get = function () { return function () { return new n.XMLHttpRequest } } } function uv() { this.$get = ["$browser", "$jsonpCallbacks", "$document", "$xhrFactory", function (n, t, i, r) { return fv(n, r, n.defer, t, i[0]) }] } function fv(n, i, e, o, s) { function h(n, t, i) { n = n.replace("JSON_CALLBACK", t); var r = s.createElement("script"), u = null; return r.type = "text/javascript", r.src = n, r.async = !0, u = function (n) { r.removeEventListener("load", u); r.removeEventListener("error", u); s.body.removeChild(r); r = null; var f = -1, e = "unknown"; n && ("load" !== n.type || o.wasCalled(t) || (n = { type: "error" }), e = n.type, f = "error" === n.type ? 404 : 200); i && i(f, e) }, r.addEventListener("load", u), r.addEventListener("error", u), s.body.appendChild(r), u } return function (s, c, l, v, y, p, w, b, k, d) { function rt() { tt && tt(); g && g.abort() } var it, tt, g, nt; if (c = c || n.url(), "jsonp" === a(s)) it = o.createCallback(c), tt = h(c, it, function (n, t) { var i = 200 === n && o.getResponse(it); r(nt) && e.cancel(nt); tt = g = null; v(n, i, "", t); o.removeCallback(it) }); else { if (g = i(s, c), g.open(s, c, !0), t(y, function (n, t) { r(n) && g.setRequestHeader(t, n) }), g.onload = function () { var u = g.statusText || "", t = "response" in g ? g.response : g.responseText, n = 1223 === g.status ? 204 : g.status, i; 0 === n && (n = t ? 200 : "file" === ti(c).protocol ? 404 : 0); i = g.getAllResponseHeaders(); r(nt) && e.cancel(nt); tt = g = null; v(n, t, i, u) }, s = function () { r(nt) && e.cancel(nt); tt = g = null; v(-1, null, null, "") }, g.onerror = s, g.onabort = s, g.ontimeout = s, t(k, function (n, t) { g.addEventListener(t, n) }), t(d, function (n, t) { g.upload.addEventListener(t, n) }), w && (g.withCredentials = !0), b) try { g.responseType = b } catch (ut) { if ("json" !== b) throw ut; } g.send(u(l) ? null : l) } 0 < p ? nt = e(rt, p) : p && f(p.then) && p.then(rt) } } function ev() { var n = "{{", t = "}}"; this.startSymbol = function (t) { return t ? (n = t, this) : n }; this.endSymbol = function (n) { return n ? (t = n, this) : t }; this.$get = ["$parse", "$exceptionHandler", "$sce", function (i, e, o) { function c(n) { return "\\\\\\" + n } function s(i) { return i.replace(p, n).replace(w, t) } function a(n, t, i, r) { var u = n.$watch(function (n) { return u(), r(n) }, t, i); return u } function h(h, c, p, w) { function ft(n) { try { var t = n; return n = p ? o.getTrusted(p, t) : o.valueOf(t), w && !r(n) ? n : wf(n) } catch (i) { e(li.interr(h, i)) } } var k, d, rt, ut; if (!h.length || -1 === h.indexOf(n)) return c || (c = s(h), k = ot(c), k.exp = h, k.expressions = [], k.$$watchDelegate = a), k; w = !!w; var g, tt, b = 0, nt = [], it = []; for (k = h.length, d = [], rt = []; b < k;)if (-1 !== (g = h.indexOf(n, b)) && -1 !== (tt = h.indexOf(t, g + l))) b !== g && d.push(s(h.substring(b, g))), b = h.substring(g + l, tt), nt.push(b), it.push(i(b, ft)), b = tt + y, rt.push(d.length), d.push(""); else { b !== k && d.push(s(h.substring(b))); break } return p && 1 < d.length && li.throwNoconcat(h), !c || nt.length ? (ut = function (n) { for (var t = 0, i = nt.length; t < i; t++) { if (w && u(n[t])) return; d[rt[t]] = n[t] } return d.join("") }, v(function (n) { var t = 0, i = nt.length, r = Array(i); try { for (; t < i; t++)r[t] = it[t](n); return ut(r) } catch (u) { e(li.interr(h, u)) } }, { exp: h, expressions: nt, $$watchDelegate: function (n, t) { var i; return n.$watchGroup(it, function (r, u) { var e = ut(r); f(t) && t.call(this, e, r !== u ? i : e, n); i = e }) } })) : void 0 } var l = n.length, y = t.length, p = new RegExp(n.replace(/./g, c), "g"), w = new RegExp(t.replace(/./g, c), "g"); return h.startSymbol = function () { return n }, h.endSymbol = function () { return t }, h }] } function ov() { this.$get = ["$rootScope", "$window", "$q", "$$q", "$browser", function (n, t, i, u, f) { function s(o, s, h, c) { function p() { w ? o.apply(null, b) : o(a) } var w = 4 < arguments.length, b = w ? bt.call(arguments, 4) : [], k = t.setInterval, d = t.clearInterval, a = 0, y = r(c) && !c, v = (y ? u : i).defer(), l = v.promise; return h = r(h) ? h : 0, l.$$intervalId = k(function () { y ? f.defer(p) : n.$evalAsync(p); v.notify(a++); 0 < h && a >= h && (v.resolve(a), d(l.$$intervalId), delete e[l.$$intervalId]); y || n.$apply() }, s), e[l.$$intervalId] = v, l } var e = {}; return s.cancel = function (n) { return n && n.$$intervalId in e ? (e[n.$$intervalId].promise.catch(o), e[n.$$intervalId].reject("canceled"), t.clearInterval(n.$$intervalId), delete e[n.$$intervalId], !0) : !1 }, s }] } function re(n) { n = n.split("/"); for (var t = n.length; t--;)n[t] = cr(n[t]); return n.join("/") } function as(n, t) { var i = ti(n); t.$$protocol = i.protocol; t.$$host = i.hostname; t.$$port = tt(i.port) || uw[i.protocol] || null } function vs(n, t) { var r, i; if (fw.test(n)) throw kr("badpath", n); r = "/" !== n.charAt(0); r && (n = "/" + n); i = ti(n); t.$$path = decodeURIComponent(r && "/" === i.pathname.charAt(0) ? i.pathname.substring(1) : i.pathname); t.$$search = yo(i.search); t.$$hash = decodeURIComponent(i.hash); t.$$path && "/" !== t.$$path.charAt(0) && (t.$$path = "/" + t.$$path) } function ue(n, t) { return n.slice(0, t.length) === t } function kt(n, t) { if (ue(t, n)) return t.substr(n.length) } function ei(n) { var t = n.indexOf("#"); return -1 === t ? n : n.substr(0, t) } function pr(n) { return n.replace(/(#.+)|#$/, "$1") } function fe(n, t, i) { this.$$html5 = !0; i = i || ""; as(n, this); this.$$parse = function (n) { var i = kt(t, n); if (!h(i)) throw kr("ipthprfx", n, t); vs(i, this); this.$$path || (this.$$path = "/"); this.$$compose() }; this.$$compose = function () { var n = pf(this.$$search), i = this.$$hash ? "#" + cr(this.$$hash) : ""; this.$$url = re(this.$$path) + (n ? "?" + n : "") + i; this.$$absUrl = t + this.$$url.substr(1); this.$$urlUpdatedByLocation = !0 }; this.$$parseLinkUrl = function (u, f) { if (f && "#" === f[0]) return this.hash(f.slice(1)), !0; var e, o; return r(e = kt(n, u)) ? (o = e, o = i && r(e = kt(i, e)) ? t + (kt("/", e) || e) : n + o) : r(e = kt(t, u)) ? o = t + e : t === u + "/" && (o = t), o && this.$$parse(o), !!o } } function ee(n, t, i) { as(n, this); this.$$parse = function (r) { var e = kt(n, r) || kt(t, r), f, o; u(e) || "#" !== e.charAt(0) ? this.$$html5 ? f = e : (f = "", u(e) && (n = r, this.replace())) : (f = kt(i, e), u(f) && (f = e)); vs(f, this); r = this.$$path; e = n; o = /^\/[A-Z]:(\/.*)/; ue(f, e) && (f = f.replace(e, "")); o.exec(f) || (r = (f = o.exec(r)) ? f[1] : r); this.$$path = r; this.$$compose() }; this.$$compose = function () { var t = pf(this.$$search), r = this.$$hash ? "#" + cr(this.$$hash) : ""; this.$$url = re(this.$$path) + (t ? "?" + t : "") + r; this.$$absUrl = n + (this.$$url ? i + this.$$url : ""); this.$$urlUpdatedByLocation = !0 }; this.$$parseLinkUrl = function (t) { return ei(n) === ei(t) ? (this.$$parse(t), !0) : !1 } } function ys(n, t, i) { this.$$html5 = !0; ee.apply(this, arguments); this.$$parseLinkUrl = function (r, u) { if (u && "#" === u[0]) return this.hash(u.slice(1)), !0; var f, e; return n === ei(r) ? f = r : (e = kt(t, r)) ? f = n + i + e : t === r + "/" && (f = t), f && this.$$parse(f), !!f }; this.$$compose = function () { var t = pf(this.$$search), r = this.$$hash ? "#" + cr(this.$$hash) : ""; this.$$url = re(this.$$path) + (t ? "?" + t : "") + r; this.$$absUrl = n + i + this.$$url; this.$$urlUpdatedByLocation = !0 } } function vu(n) { return function () { return this[n] } } function ps(n, t) { return function (i) { return u(i) ? this[n] : (this[n] = t(i), this.$$compose(), this) } } function sv() { var t = "!", n = { enabled: !1, requireBase: !0, rewriteLinks: !0 }; this.hashPrefix = function (n) { return r(n) ? (t = n, this) : t }; this.html5Mode = function (t) { return gt(t) ? (n.enabled = t, this) : s(t) ? (gt(t.enabled) && (n.enabled = t.enabled), gt(t.requireBase) && (n.requireBase = t.requireBase), (gt(t.rewriteLinks) || h(t.rewriteLinks)) && (n.rewriteLinks = t.rewriteLinks), this) : n }; this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function (i, r, f, o, c) { function b(n, t, i) { var u = l.url(), f = l.$$state; try { r.url(n, t, i); l.$$state = r.state() } catch (e) { throw l.url(u), l.$$state = f, e; } } function k(n, t) { i.$broadcast("$locationChangeSuccess", l.absUrl(), n, l.$$state, t) } var l, v, a, y, w, d, p; if (v = r.baseHref(), a = r.url(), n.enabled) { if (!v && n.requireBase) throw kr("nobase"); y = a.substring(0, a.indexOf("/", a.indexOf("//") + 2)) + (v || "/"); v = f.history ? fe : ys } else y = ei(a), v = ee; w = y.substr(0, ei(y).lastIndexOf("/") + 1); l = new v(y, w, "#" + t); l.$$parseLinkUrl(a, a); l.$$state = r.state(); d = /^\s*(javascript|mailto):/i; o.on("click", function (t) { var f = n.rewriteLinks, a, v; if (f && !t.ctrlKey && !t.metaKey && !t.shiftKey && 2 !== t.which && 2 !== t.button) { for (a = e(t.target); "a" !== lt(a[0]);)if (a[0] === o[0] || !(a = a.parent())[0]) return; h(f) && u(a.attr(f)) || (f = a.prop("href"), v = a.attr("href") || a.attr("xlink:href"), s(f) && "[object SVGAnimatedString]" === f.toString() && (f = ti(f.animVal).href), d.test(f) || !f || a.attr("target") || t.isDefaultPrevented() || !l.$$parseLinkUrl(f, v) || (t.preventDefault(), l.absUrl() !== r.url() && (i.$apply(), c.angular["ff-684208-preventDefault"] = !0))) } }); pr(l.absUrl()) !== pr(a) && r.url(l.absUrl(), !0); p = !0; r.onUrlChange(function (n, t) { ue(n, w) ? (i.$evalAsync(function () { var r = l.absUrl(), u = l.$$state, f; n = pr(n); l.$$parse(n); l.$$state = t; f = i.$broadcast("$locationChangeStart", n, r, t, u).defaultPrevented; l.absUrl() === n && (f ? (l.$$parse(r), l.$$state = u, b(r, !1, u)) : (p = !1, k(r, u))) }), i.$$phase || i.$digest()) : c.location.href = n }); return i.$watch(function () { if (p || l.$$urlUpdatedByLocation) { l.$$urlUpdatedByLocation = !1; var t = pr(r.url()), e = pr(l.absUrl()), n = r.state(), o = l.$$replace, u = t !== e || l.$$html5 && f.history && n !== l.$$state; (p || u) && (p = !1, i.$evalAsync(function () { var r = l.absUrl(), f = i.$broadcast("$locationChangeStart", r, t, l.$$state, n).defaultPrevented; l.absUrl() === r && (f ? (l.$$parse(t), l.$$state = n) : (u && b(r, o, n === l.$$state ? null : l.$$state), k(t, n))) })) } l.$$replace = !1 }), l }] } function hv() { var n = !0, i = this; this.debugEnabled = function (t) { return r(t) ? (n = t, this) : n }; this.$get = ["$window", function (r) { function f(n) { return n instanceof Error && (n.stack && e ? n = n.message && -1 === n.stack.indexOf(n.message) ? "Error: " + n.message + "\n" + n.stack : n.stack : n.sourceURL && (n = n.message + "\n" + n.sourceURL + ":" + n.line)), n } function u(n) { var i = r.console || {}, u = i[n] || i.log || o; n = !1; try { n = !!u.apply } catch (e) { } return n ? function () { var n = []; return t(arguments, function (t) { n.push(f(t)) }), u.apply(i, n) } : function (n, t) { u(n, null == t ? "" : t) } } var e = wt || /\bEdge\//.test(r.navigator && r.navigator.userAgent); return { log: u("log"), info: u("info"), warn: u("warn"), error: u("error"), debug: function () { var t = u("debug"); return function () { n && t.apply(i, arguments) } }() } }] } function cv(n) { return n + "" } function lv(n, t) { return "undefined" != typeof n ? n : t } function ws(n, t) { return "undefined" == typeof n ? t : "undefined" == typeof t ? n : n + t } function b(n, r) { var u, f, e; switch (n.type) { case i.Program: u = !0; t(n.body, function (n) { b(n.expression, r); u = u && n.expression.constant }); n.constant = u; break; case i.Literal: n.constant = !0; n.toWatch = []; break; case i.UnaryExpression: b(n.argument, r); n.constant = n.argument.constant; n.toWatch = n.argument.toWatch; break; case i.BinaryExpression: b(n.left, r); b(n.right, r); n.constant = n.left.constant && n.right.constant; n.toWatch = n.left.toWatch.concat(n.right.toWatch); break; case i.LogicalExpression: b(n.left, r); b(n.right, r); n.constant = n.left.constant && n.right.constant; n.toWatch = n.constant ? [] : [n]; break; case i.ConditionalExpression: b(n.test, r); b(n.alternate, r); b(n.consequent, r); n.constant = n.test.constant && n.alternate.constant && n.consequent.constant; n.toWatch = n.constant ? [] : [n]; break; case i.Identifier: n.constant = !1; n.toWatch = [n]; break; case i.MemberExpression: b(n.object, r); n.computed && b(n.property, r); n.constant = n.object.constant && (!n.computed || n.property.constant); n.toWatch = [n]; break; case i.CallExpression: u = e = n.filter ? !r(n.callee.name).$stateful : !1; f = []; t(n.arguments, function (n) { b(n, r); u = u && n.constant; n.constant || f.push.apply(f, n.toWatch) }); n.constant = u; n.toWatch = e ? f : [n]; break; case i.AssignmentExpression: b(n.left, r); b(n.right, r); n.constant = n.left.constant && n.right.constant; n.toWatch = [n]; break; case i.ArrayExpression: u = !0; f = []; t(n.elements, function (n) { b(n, r); u = u && n.constant; n.constant || f.push.apply(f, n.toWatch) }); n.constant = u; n.toWatch = f; break; case i.ObjectExpression: u = !0; f = []; t(n.properties, function (n) { b(n.value, r); u = u && n.value.constant && !n.computed; n.value.constant || f.push.apply(f, n.value.toWatch); n.computed && (b(n.key, r), n.key.constant || f.push.apply(f, n.key.toWatch)) }); n.constant = u; n.toWatch = f; break; case i.ThisExpression: n.constant = !1; n.toWatch = []; break; case i.LocalsExpression: n.constant = !1; n.toWatch = [] } } function bs(n) { if (1 === n.length) { n = n[0].expression; var t = n.toWatch; return 1 !== t.length ? t : t[0] !== n ? t : void 0 } } function ks(n) { return n.type === i.Identifier || n.type === i.MemberExpression } function ds(n) { if (1 === n.body.length && ks(n.body[0].expression)) return { type: i.AssignmentExpression, left: n.body[0].expression, right: { type: i.NGValueParameter }, operator: "=" } } function gs(n) { this.$filter = n } function nh(n) { this.$filter = n } function oe(n, t, r) { this.ast = new i(n, r); this.astCompiler = r.csp ? new nh(t) : new gs(t) } function se(n) { return f(n.valueOf) ? n.valueOf() : ow.call(n) } function av() { var u = p(), e = { "true": !0, "false": !1, "null": null, undefined: void 0 }, n, i; this.addLiteral = function (n, t) { e[n] = t }; this.setIdentifierFns = function (t, r) { return n = t, i = r, this }; this.$get = ["$filter", function (s) { function h(n, t, i) { return null == n || null == t ? n === t : "object" != typeof n || (n = se(n), "object" != typeof n || i) ? n === t || n !== n && t !== t : !1 } function c(n, t, i, r, u) { var f = r.inputs, e, s; if (1 === f.length) return s = h, f = f[0], n.$watch(function (n) { var t = f(n); return h(t, s, r.literal) || (e = r(n, void 0, void 0, [t]), s = t && se(t)), e }, t, i, u); for (var c = [], l = [], o = 0, a = f.length; o < a; o++)c[o] = h, l[o] = null; return n.$watch(function (n) { for (var i, u = !1, t = 0, o = f.length; t < o; t++)i = f[t](n), (u || (u = !h(i, c[t], r.literal))) && (l[t] = i, c[t] = i && se(i)); return u && (e = r(n, void 0, void 0, l)), e }, t, i, u) } function y(n, t, i, u, e) { function v(n) { return u(n) } function o(n, i, r) { l = n; f(t) && t(n, i, r); s(n) && r.$$postDigest(function () { s(l) && h() }) } var s = u.literal ? a : r, h, l; return h = u.inputs ? c(n, o, i, u, e) : n.$watch(v, o, i) } function a(n) { var i = !0; return t(n, function (n) { r(n) || (i = !1) }), i } function p(n, t, i, r) { var u = n.$watch(function (n) { return u(), r(n) }, t, i); return u } function l(n, t) { function e(i, r, u, e) { return u = f && e ? e[0] : n(i, r, u, e), t(u, i, r) } function o(i, r, u, e) { return u = f && e ? e[0] : n(i, r, u, e), i = t(u, i, r), s(u) ? i : u } if (!t) return n; var u = n.$$watchDelegate, f = !1, s = n.literal ? a : r, i = n.oneTime ? o : e; return i.literal = n.literal, i.oneTime = n.oneTime, f = !n.inputs, u && u !== c ? (i.$$watchDelegate = u, i.inputs = n.inputs) : t.$stateful || (i.$$watchDelegate = c, i.inputs = n.inputs ? n.inputs : [n]), i } var v = { csp: hi().noUnsafeEval, literals: ni(e), isIdentifierStart: f(n) && n, isIdentifierContinue: f(i) && i }; return function (n, t) { var i, f, r; switch (typeof n) { case "string": return r = n = n.trim(), i = u[r], i || (":" === n.charAt(0) && ":" === n.charAt(1) && (f = !0, n = n.substring(2)), i = new ff(v), i = new oe(i, s, v).parse(n), i.constant ? i.$$watchDelegate = p : f ? (i.oneTime = !0, i.$$watchDelegate = y) : i.inputs && (i.$$watchDelegate = c), u[r] = i), l(i, t); case "function": return l(n, t); default: return l(o, t) } } }] } function vv() { var n = !0; this.$get = ["$rootScope", "$exceptionHandler", function (t, i) { return th(function (n) { t.$evalAsync(n) }, i, n) }]; this.errorOnUnhandledRejections = function (t) { return r(t) ? (n = t, this) : n } } function yv() { var n = !0; this.$get = ["$browser", "$exceptionHandler", function (t, i) { return th(function (n) { t.defer(n) }, i, n) }]; this.errorOnUnhandledRejections = function (t) { return r(t) ? (n = t, this) : n } } function th(n, i, r) { function tt() { return new et } function et() { var n = this.promise = new e; this.resolve = function (t) { h(n, t) }; this.reject = function (t) { a(n, t) }; this.notify = function (t) { g(n, t) } } function e() { this.$$state = { status: 0 } } function it() { for (var t, n; !y && b.length;)t = b.shift(), t.pur || (t.pur = !0, n = t.value, n = "Possibly unhandled rejection: " + ("function" == typeof n ? n.toString().replace(/ \{[\s\S]*$/, "") : u(n) ? "undefined" : "string" != typeof n ? ia(n, void 0) : n), t.value instanceof Error ? i(t.value, n) : i(n)) } function k(t) { !r || t.pending || 2 !== t.status || t.pur || (0 === y && 0 === b.length && n(it), b.push(t)); !t.processScheduled && t.pending && (t.processScheduled = !0, ++y, n(function () { var o, i, e, u, s; e = t.pending; t.processScheduled = !1; t.pending = void 0; try { for (u = 0, s = e.length; u < s; ++u) { t.pur = !0; i = e[u][0]; o = e[u][t.status]; try { f(o) ? h(i, o(t.value)) : 1 === t.status ? h(i, t.value) : a(i, t.value) } catch (c) { a(i, c) } } } finally { --y; r && 0 === y && n(it) } })) } function h(n, t) { n.$$state.status || (t === n ? d(n, ft("qcycle", t)) : rt(n, t)) } function rt(n, t) { function e(t) { i || (i = !0, rt(n, t)) } function u(t) { i || (i = !0, d(n, t)) } function o(t) { g(n, t) } var r, i = !1; try { (s(t) || f(t)) && (r = t.then); f(r) ? (n.$$state.status = -1, r.call(t, e, u, o)) : (n.$$state.value = t, n.$$state.status = 1, k(n.$$state)) } catch (h) { u(h) } } function a(n, t) { n.$$state.status || d(n, t) } function d(n, t) { n.$$state.value = t; n.$$state.status = 2; k(n.$$state) } function g(t, r) { var u = t.$$state.pending; 0 >= t.$$state.status && u && u.length && n(function () { for (var t, e, n = 0, o = u.length; n < o; n++) { e = u[n][0]; t = u[n][3]; try { g(e, f(t) ? t(r) : r) } catch (s) { i(s) } } }) } function p(n) { var t = new e; return a(t, n), t } function ut(n, t, i) { var r = null; try { f(i) && (r = i()) } catch (u) { return p(u) } return r && f(r.then) ? r.then(function () { return t(n) }, p) : t(n) } function w(n, t, i, r) { var u = new e; return h(u, n), u.then(t, i, r) } function o(n) { if (!f(n)) throw ft("norslvr", n); var t = new e; return n(function (n) { h(t, n) }, function (n) { a(t, n) }), t } var ft = l("$q", TypeError), y = 0, b = [], nt; return v(e.prototype, { then: function (n, t, i) { if (u(n) && u(t) && u(i)) return this; var r = new e; return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([r, n, t, i]), 0 < this.$$state.status && k(this.$$state), r }, "catch": function (n) { return this.then(null, n) }, "finally": function (n, t) { return this.then(function (t) { return ut(t, nt, n) }, function (t) { return ut(t, p, n) }, t) } }), nt = w, o.prototype = e.prototype, o.defer = tt, o.reject = p, o.when = w, o.resolve = nt, o.all = function (n) { var i = new e, r = 0, u = c(n) ? [] : {}; return t(n, function (n, t) { r++; w(n).then(function (n) { u[t] = n; --r || h(i, u) }, function (n) { a(i, n) }) }), 0 === r && h(i, u), i }, o.race = function (n) { var i = tt(); return t(n, function (n) { w(n).then(i.resolve, i.reject) }), i.promise }, o } function pv() { this.$get = ["$window", "$timeout", function (n, t) { var i = n.requestAnimationFrame || n.webkitRequestAnimationFrame, f = n.cancelAnimationFrame || n.webkitCancelAnimationFrame || n.webkitCancelRequestAnimationFrame, r = !!i, u = r ? function (n) { var t = i(n); return function () { f(t) } } : function (n) { var i = t(n, 16.66, !1); return function () { t.cancel(i) } }; return u.supported = r, u }] } function wv() { function h(n) { function t() { this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null; this.$$listeners = {}; this.$$listenerCount = {}; this.$$watchersCount = 0; this.$id = ++du; this.$$ChildScope = null } return t.prototype = n, t } var r = 10, e = l("$rootScope"), n = null, i = null; this.digestTtl = function (n) { return arguments.length && (r = n), r }; this.$get = ["$exceptionHandler", "$parse", "$browser", function (c, l, a) { function ft(n) { n.currentScope.$$destroyed = !0 } function b(n) { 9 === wt && (n.$$childHead && b(n.$$childHead), n.$$nextSibling && b(n.$$nextSibling)); n.$parent = n.$$nextSibling = n.$$prevSibling = n.$$childHead = n.$$childTail = n.$root = n.$$watchers = null } function p() { this.$id = ++du; this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null; this.$root = this; this.$$destroyed = !1; this.$$listeners = {}; this.$$listenerCount = {}; this.$$watchersCount = 0; this.$$isolateBindings = null } function nt(n) { if (v.$$phase) throw e("inprog", v.$$phase); v.$$phase = n } function k(n, t) { do n.$$watchersCount += t; while (n = n.$parent) } function tt(n, t, i) { do n.$$listenerCount[i] -= t, 0 === n.$$listenerCount[i] && delete n.$$listenerCount[i]; while (n = n.$parent) } function rt() { } function ut() { for (; d.length;)try { d.shift()() } catch (n) { c(n) } i = null } function et() { null === i && (i = a.defer(function () { v.$apply(ut) })) } p.prototype = { constructor: p, $new: function (n, t) { var i; return t = t || this, n ? (i = new p, i.$root = this.$root) : (this.$$ChildScope || (this.$$ChildScope = h(this)), i = new this.$$ChildScope), i.$parent = t, i.$$prevSibling = t.$$childTail, t.$$childHead ? (t.$$childTail.$$nextSibling = i, t.$$childTail = i) : t.$$childHead = t.$$childTail = i, (n || t !== this) && i.$on("$destroy", ft), i }, $watch: function (t, i, r, u) { var s = l(t); if (s.$$watchDelegate) return s.$$watchDelegate(this, i, r, s, t); var h = this, e = h.$$watchers, c = { fn: i, last: rt, get: s, exp: u || t, eq: !!r }; return n = null, f(i) || (c.fn = o), e || (e = h.$$watchers = [], e.$$digestWatchIndex = -1), e.unshift(c), e.$$digestWatchIndex++ , k(this, 1), function () { var t = er(e, c); 0 <= t && (k(h, -1), t < e.$$digestWatchIndex && e.$$digestWatchIndex--); n = null } }, $watchGroup: function (n, i) { function c() { o = !1; h ? (h = !1, i(r, r, u)) : i(r, f, u) } var f = Array(n.length), r = Array(n.length), e = [], u = this, o = !1, h = !0, s; return n.length ? 1 === n.length ? this.$watch(n[0], function (n, t, u) { r[0] = n; f[0] = t; i(r, n === t ? r : f, u) }) : (t(n, function (n, t) { var i = u.$watch(n, function (n, i) { r[t] = n; f[t] = i; o || (o = !0, u.$evalAsync(c)) }); e.push(i) }), function () { for (; e.length;)e.shift()() }) : (s = !0, u.$evalAsync(function () { s && i(r, r, u) }), function () { s = !1 }) }, $watchCollection: function (n, t) { function h(n) { i = n; var t, c, o, h; if (!u(i)) { if (s(i)) if (dt(i)) for (r !== a && (r = a, e = r.length = 0, f++), n = i.length, e !== n && (f++ , r.length = e = n), t = 0; t < n; t++)h = r[t], o = i[t], c = h !== h && o !== o, c || h === o || (f++ , r[t] = o); else { r !== v && (r = v = {}, e = 0, f++); n = 0; for (t in i) pt.call(i, t) && (n++ , o = i[t], h = r[t], t in r ? (c = h !== h && o !== o, c || h === o || (f++ , r[t] = o)) : (e++ , r[t] = o, f++)); if (e > n) for (t in f++ , r) pt.call(i, t) || (e-- , delete r[t]) } else r !== i && (r = i, f++); return f } } h.$stateful = !0; var c = this, i, r, o, p = 1 < t.length, f = 0, w = l(n, h), a = [], v = {}, y = !0, e = 0; return this.$watch(w, function () { if (y ? (y = !1, t(i, i, c)) : t(i, o, c), p) if (s(i)) if (dt(i)) { o = Array(i.length); for (var n = 0; n < i.length; n++)o[n] = i[n] } else for (n in o = {}, i) pt.call(i, n) && (o[n] = i[n]); else o = i }) }, $digest: function () { var t, s, h, p, ft, u, l, tt = r, o, b = [], k, d; nt("$digest"); a.$$checkUrlChange(); this === v && null !== i && (a.defer.cancel(i), ut()); n = null; do { for (l = !1, o = this, u = 0; u < y.length; u++) { try { d = y[u]; p = d.fn; p(d.scope, d.locals) } catch (et) { c(et) } n = null } y.length = 0; n: do { if (u = o.$$watchers) for (u.$$digestWatchIndex = u.length; u.$$digestWatchIndex--;)try { if (t = u[u.$$digestWatchIndex]) if (ft = t.get, (s = ft(o)) === (h = t.last) || (t.eq ? st(s, h) : it(s) && it(h))) { if (t === n) { l = !1; break n } } else l = !0, n = t, t.last = t.eq ? ni(s, null) : s, p = t.fn, p(s, h === rt ? s : h, o), 5 > tt && (k = 4 - tt, b[k] || (b[k] = []), b[k].push({ msg: f(t.exp) ? "fn: " + (t.exp.name || t.exp.toString()) : t.exp, newVal: s, oldVal: h })) } catch (ot) { c(ot) } if (!(u = o.$$watchersCount && o.$$childHead || o !== this && o.$$nextSibling)) for (; o !== this && !(u = o.$$nextSibling);)o = o.$parent } while (o = u); if ((l || y.length) && !tt--) throw v.$$phase = null, e("infdig", r, b); } while (l || y.length); for (v.$$phase = null; g < w.length;)try { w[g++]() } catch (ht) { c(ht) } w.length = g = 0; a.$$checkUrlChange() }, $destroy: function () { var n, t; if (!this.$$destroyed) { n = this.$parent; this.$broadcast("$destroy"); this.$$destroyed = !0; this === v && a.$$applicationDestroyed(); k(this, -this.$$watchersCount); for (t in this.$$listenerCount) tt(this, this.$$listenerCount[t], t); n && n.$$childHead === this && (n.$$childHead = this.$$nextSibling); n && n.$$childTail === this && (n.$$childTail = this.$$prevSibling); this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling); this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling); this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = o; this.$on = this.$watch = this.$watchGroup = function () { return o }; this.$$listeners = {}; this.$$nextSibling = null; b(this) } }, $eval: function (n, t) { return l(n)(this, t) }, $evalAsync: function (n, t) { v.$$phase || y.length || a.defer(function () { y.length && v.$digest() }); y.push({ scope: this, fn: l(n), locals: t }) }, $$postDigest: function (n) { w.push(n) }, $apply: function (n) { try { nt("$apply"); try { return this.$eval(n) } finally { v.$$phase = null } } catch (i) { c(i) } finally { try { v.$digest() } catch (t) { throw c(t), t; } } }, $applyAsync: function (n) { function t() { i.$eval(n) } var i = this; n && d.push(t); n = l(n); et() }, $on: function (n, t) { var r = this.$$listeners[n], i, u; r || (this.$$listeners[n] = r = []); r.push(t); i = this; do i.$$listenerCount[n] || (i.$$listenerCount[n] = 0), i.$$listenerCount[n]++; while (i = i.$parent); return u = this, function () { var i = r.indexOf(t); -1 !== i && (r[i] = null, tt(u, 1, n)) } }, $emit: function (n) { var o = [], u, r = this, e = !1, t = { name: n, targetScope: r, stopPropagation: function () { e = !0 }, preventDefault: function () { t.defaultPrevented = !0 }, defaultPrevented: !1 }, s = or([t], arguments, 1), i, f; do { for (u = r.$$listeners[n] || o, t.currentScope = r, i = 0, f = u.length; i < f; i++)if (u[i]) try { u[i].apply(null, s) } catch (h) { c(h) } else u.splice(i, 1), i-- , f--; if (e) return t.currentScope = null, t; r = r.$parent } while (r); return t.currentScope = null, t }, $broadcast: function (n) { var t = this, i = this, u = { name: n, targetScope: this, preventDefault: function () { u.defaultPrevented = !0 }, defaultPrevented: !1 }, e, r, f; if (!this.$$listenerCount[n]) return u; for (e = or([u], arguments, 1); t = i;) { for (u.currentScope = t, i = t.$$listeners[n] || [], r = 0, f = i.length; r < f; r++)if (i[r]) try { i[r].apply(null, e) } catch (o) { c(o) } else i.splice(r, 1), r-- , f--; if (!(i = t.$$listenerCount[n] && t.$$childHead || t !== this && t.$$nextSibling)) for (; t !== this && !(i = t.$$nextSibling);)t = t.$parent } return u.currentScope = null, u } }; var v = new p, y = v.$$asyncQueue = [], w = v.$$postDigestQueue = [], d = v.$$applyAsyncQueue = [], g = 0; return v }] } function bv() { var n = /^\s*(https?|ftp|mailto|tel|file):/, t = /^\s*((https?|ftp|file|blob):|data:image\/)/; this.aHrefSanitizationWhitelist = function (t) { return r(t) ? (n = t, this) : n }; this.imgSrcSanitizationWhitelist = function (n) { return r(n) ? (t = n, this) : t }; this.$get = function () { return function (i, r) { var f = r ? t : n, u; return u = ti(i).href, "" === u || u.match(f) ? i : "unsafe:" + u } } } function kv(n) { if ("self" === n) return n; if (h(n)) { if (-1 < n.indexOf("***")) throw ui("iwcard", n); return n = tc(n).replace(/\\\*\\\*/g, ".*").replace(/\\\*/g, "[^:/.?&;]*"), new RegExp("^" + n + "$") } if (rr(n)) return new RegExp("^" + n.source + "$"); throw ui("imatcher"); } function ih(n) { var i = []; return r(n) && t(n, function (n) { i.push(kv(n)) }), i } function dv() { this.SCE_CONTEXTS = ct; var n = ["self"], t = []; this.resourceUrlWhitelist = function (t) { return arguments.length && (n = ih(t)), n }; this.resourceUrlBlacklist = function (n) { return arguments.length && (t = ih(n)), t }; this.$get = ["$injector", function (i) { function o(n, t) { return "self" === n ? rh(t) : !!n.exec(t.href) } function f(n) { var t = function (n) { this.$$unwrapTrustedValue = function () { return n } }; return n && (t.prototype = new n), t.prototype.valueOf = function () { return this.$$unwrapTrustedValue() }, t.prototype.toString = function () { return this.$$unwrapTrustedValue().toString() }, t } var s = function () { throw ui("unsafe"); }, e, r; return i.has("$sanitize") && (s = i.get("$sanitize")), e = f(), r = {}, r[ct.HTML] = f(e), r[ct.CSS] = f(e), r[ct.URL] = f(e), r[ct.JS] = f(e), r[ct.RESOURCE_URL] = f(r[ct.URL]), { trustAs: function (n, t) { var i = r.hasOwnProperty(n) ? r[n] : null; if (!i) throw ui("icontext", n, t); if (null === t || u(t) || "" === t) return t; if ("string" != typeof t) throw ui("itype", n); return new i(t) }, getTrusted: function (i, f) { var h, e, l, c; if (null === f || u(f) || "" === f) return f; if (h = r.hasOwnProperty(i) ? r[i] : null, h && f instanceof h) return f.$$unwrapTrustedValue(); if (i === ct.RESOURCE_URL) { for (h = ti(f.toString()), c = !1, e = 0, l = n.length; e < l; e++)if (o(n[e], h)) { c = !0; break } if (c) for (e = 0, l = t.length; e < l; e++)if (o(t[e], h)) { c = !1; break } if (c) return f; throw ui("insecurl", f.toString()); } if (i === ct.HTML) return s(f); throw ui("unsafe"); }, valueOf: function (n) { return n instanceof e ? n.$$unwrapTrustedValue() : n } } }] } function gv() { var n = !0; this.enabled = function (t) { return arguments.length && (n = !!t), n }; this.$get = ["$parse", "$sceDelegate", function (i, r) { var u; if (n && 8 > wt) throw ui("iequirks"); u = vt(ct); u.isEnabled = function () { return n }; u.trustAs = r.trustAs; u.getTrusted = r.getTrusted; u.valueOf = r.valueOf; n || (u.trustAs = u.getTrusted = function (n, t) { return t }, u.valueOf = ir); u.parseAs = function (n, t) { var r = i(t); return r.literal && r.constant ? r : i(t, function (t) { return u.getTrusted(n, t) }) }; var f = u.parseAs, e = u.getTrusted, o = u.trustAs; return t(ct, function (n, t) { var i = a(t); u[("parse_as_" + i).replace(uo, ar)] = function (t) { return f(n, t) }; u[("get_trusted_" + i).replace(uo, ar)] = function (t) { return e(n, t) }; u[("trust_as_" + i).replace(uo, ar)] = function (t) { return o(n, t) } }), u }] } function ny() { this.$get = ["$window", "$document", function (n, t) { var r = {}, h = !((!n.nw || !n.nw.process) && n.chrome && (n.chrome.app && n.chrome.app.runtime || !n.chrome.app && n.chrome.runtime && n.chrome.runtime.id)) && n.history && n.history.pushState, e = tt((/android (\d+)/.exec(a((n.navigator || {}).userAgent)) || [])[1]), c = /Boxee/i.test((n.navigator || {}).userAgent), f = t[0] || {}, i = f.body && f.body.style, o = !1, s = !1; return i && (o = !!("transition" in i || "webkitTransition" in i), s = !!("animation" in i || "webkitAnimation" in i)), { history: !(!h || 4 > e || c), hasEvent: function (n) { if ("input" === n && wt) return !1; if (u(r[n])) { var t = f.createElement("div"); r[n] = "on" + n in t } return r[n] }, csp: hi(), transitions: o, animations: s, android: e } }] } function ty() { var n; this.httpOptions = function (t) { return t ? (n = t, this) : n }; this.$get = ["$exceptionHandler", "$templateCache", "$http", "$q", "$sce", function (t, i, r, f, e) { function o(s, l) { o.totalPendingRequests++; (!h(s) || u(i.get(s))) && (s = e.getTrustedResourceUrl(s)); var a = r.defaults && r.defaults.transformResponse; return c(a) ? a = a.filter(function (n) { return n !== ie }) : a === ie && (a = null), r.get(s, v({ cache: i, transformResponse: a }, n)).finally(function () { o.totalPendingRequests-- }).then(function (n) { return i.put(s, n.data), n.data }, function (n) { return l || (n = sw("tpload", s, n.status, n.statusText), t(n)), f.reject(n) }) } return o.totalPendingRequests = 0, o }] } function iy() { this.$get = ["$rootScope", "$browser", "$location", function (n, i, r) { return { findBindings: function (n, i, r) { n = n.getElementsByClassName("ng-binding"); var u = []; return t(n, function (n) { var f = ft.element(n).data("$binding"); f && t(f, function (t) { r ? new RegExp("(^|\\s)" + tc(i) + "(\\s|\\||$)").test(t) && u.push(n) : -1 !== t.indexOf(i) && u.push(n) }) }), u }, findModels: function (n, t, i) { for (var f, u = ["ng-", "data-ng-", "ng\\:"], r = 0; r < u.length; ++r)if (f = n.querySelectorAll("[" + u[r] + "model" + (i ? "=" : "*=") + '"' + t + '"]'), f.length) return f }, getLocation: function () { return r.url() }, setLocation: function (t) { t !== r.url() && (r.url(t), n.$digest()) }, whenStable: function (n) { i.notifyWhenNoOutstandingRequests(n) } } }] } function ry() { this.$get = ["$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function (n, t, i, u, e) { function h(h, c, l) { f(h) || (l = c, c = h, h = o); var w = bt.call(arguments, 3), p = r(l) && !l, a = (p ? u : i).defer(), v = a.promise, y; return y = t.defer(function () { try { a.resolve(h.apply(null, w)) } catch (t) { a.reject(t); e(t) } finally { delete s[v.$$timeoutId] } p || n.$apply() }, c), v.$$timeoutId = y, s[y] = a, v } var s = {}; return h.cancel = function (n) { return n && n.$$timeoutId in s ? (s[n.$$timeoutId].promise.catch(o), s[n.$$timeoutId].reject("canceled"), delete s[n.$$timeoutId], t.defer.cancel(n.$$timeoutId)) : !1 }, h }] } function ti(n) { return wt && (nt.setAttribute("href", n), n = nt.href), nt.setAttribute("href", n), { href: nt.href, protocol: nt.protocol ? nt.protocol.replace(/:$/, "") : "", host: nt.host, search: nt.search ? nt.search.replace(/^\?/, "") : "", hash: nt.hash ? nt.hash.replace(/^#/, "") : "", hostname: nt.hostname, port: nt.port, pathname: "/" === nt.pathname.charAt(0) ? nt.pathname : "/" + nt.pathname } } function rh(n) { return n = h(n) ? ti(n) : n, n.protocol === lc.protocol && n.host === lc.host } function uy() { this.$get = ot(n) } function uh(n) { function r(n) { try { return decodeURIComponent(n) } catch (t) { return n } } var f = n[0] || {}, t = {}, i = ""; return function () { var n, e, o, s, h; try { n = f.cookie || "" } catch (c) { n = "" } if (n !== i) for (i = n, n = i.split("; "), t = {}, o = 0; o < n.length; o++)e = n[o], s = e.indexOf("="), 0 < s && (h = r(e.substring(0, s)), u(t[h]) && (t[h] = r(e.substring(s + 1)))); return t } } function fy() { this.$get = uh } function fh(n) { function i(r, u) { if (s(r)) { var f = {}; return t(r, function (n, t) { f[t] = i(t, n) }), f } return n.factory(r + "Filter", u) } this.register = i; this.$get = ["$injector", function (n) { return function (t) { return n.get(t + "Filter") } }]; i("currency", eh); i("date", lh); i("filter", ey); i("json", cy); i("limitTo", ly); i("lowercase", yc); i("number", oh); i("orderBy", ah); i("uppercase", pc) } function ey() { return function (n, t, i, r) { if (!dt(n)) { if (null == n) return n; throw l("filter")("notarray", n); } r = r || "$"; var u; switch (he(t)) { case "function": break; case "boolean": case "null": case "number": case "string": u = !0; case "object": t = oy(t, i, r, u); break; default: return n }return Array.prototype.filter.call(n, t) } } function oy(n, t, i, r) { var e = s(n) && i in n; return !0 === t ? t = st : f(t) || (t = function (n, t) { return u(n) ? !1 : null === n || null === t ? n === t : s(t) || s(n) && !lf(n) ? !1 : (n = a("" + n), t = a("" + t), -1 !== n.indexOf(t)) }), function (u) { return e && !s(u) ? oi(u, n[i], t, i, !1) : oi(u, n, t, i, r) } } function oi(n, t, i, r, e, o) { var h = he(n), l = he(t), s; if ("string" === l && "!" === t.charAt(0)) return !oi(n, t.substring(1), i, r, e); if (c(n)) return n.some(function (n) { return oi(n, t, i, r, e) }); switch (h) { case "object": if (e) { for (s in n) if (s.charAt && "$" !== s.charAt(0) && oi(n[s], t, i, r, !0)) return !0; return o ? !1 : oi(n, t, i, r, !1) } if ("object" === l) { for (s in t) if (o = t[s], !f(o) && !u(o) && (h = s === r, !oi(h ? n : n[s], o, i, r, h, h))) return !1; return !0 } return i(n, t); case "function": return !1; default: return i(n, t) } } function he(n) { return null === n ? "null" : typeof n } function eh(n) { var t = n.NUMBER_FORMATS; return function (n, i, r) { return u(i) && (i = t.CURRENCY_SYM), u(r) && (r = t.PATTERNS[1].maxFrac), null == n ? n : sh(n, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, r).replace(/\u00A4/g, i) } } function oh(n) { var t = n.NUMBER_FORMATS; return function (n, i) { return null == n ? n : sh(n, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, i) } } function sy(n) { var e = 0, r, t, i, f, u; for (-1 < (t = n.indexOf(vc)) && (n = n.replace(vc, "")), 0 < (i = n.search(/e/i)) ? (0 > t && (t = i), t += +n.slice(i + 1), n = n.substring(0, i)) : 0 > t && (t = n.length), i = 0; n.charAt(i) === fo; i++); if (i === (u = n.length)) r = [0], t = 1; else { for (u--; n.charAt(u) === fo;)u--; for (t -= i, r = [], f = 0; i <= u; i++ , f++)r[f] = +n.charAt(i) } return t > ac && (r = r.splice(0, ac - 1), e = t - 1, t = 1), { d: r, e: e, i: t } } function hy(n, t, i, r) { var f = n.d, o = f.length - n.i, e; if (t = u(t) ? Math.min(Math.max(i, o), r) : +t, i = t + n.i, r = f[i], 0 < i) for (f.splice(Math.max(n.i, i)), e = i; e < f.length; e++)f[e] = 0; else for (o = Math.max(0, o), n.i = 1, f.length = Math.max(1, i = t + 1), f[0] = 0, e = 1; e < i; e++)f[e] = 0; if (5 <= r) if (0 > i - 1) { for (r = 0; r > i; r--)f.unshift(0), n.i++; f.unshift(1); n.i++ } else f[i - 1]++; for (; o < Math.max(0, t); o++)f.push(0); (t = f.reduceRight(function (n, t, i, r) { return t += n, r[i] = t % 10, Math.floor(t / 10) }, 0)) && (f.unshift(t), n.i++) } function sh(n, t, i, r, u) { if (!h(n) && !d(n) || isNaN(n)) return ""; var s = !isFinite(n), o = !1, e = Math.abs(n) + "", f = ""; if (s) f = "∞"; else { for (o = sy(e), hy(o, u, t.minFrac, t.maxFrac), f = o.d, e = o.i, u = o.e, s = [], o = f.reduce(function (n, t) { return n && !t }, !0); 0 > e;)f.unshift(0), e++; for (0 < e ? s = f.splice(e, f.length) : (s = f, f = [0]), e = [], f.length >= t.lgSize && e.unshift(f.splice(-t.lgSize, f.length).join("")); f.length > t.gSize;)e.unshift(f.splice(-t.gSize, f.length).join("")); f.length && e.unshift(f.join("")); f = e.join(i); s.length && (f += r + s.join("")); u && (f += "e+" + u) } return 0 > n && !o ? t.negPre + f + t.negSuf : t.posPre + f + t.posSuf } function yu(n, t, i, r) { var u = ""; for ((0 > n || r && 0 >= n) && (r ? n = -n + 1 : (n = -n, u = "-")), n = "" + n; n.length < t;)n = fo + n; return i && (n = n.substr(n.length - t)), u + n } function g(n, t, i, r, u) { return i = i || 0, function (f) { return f = f["get" + n](), (0 < i || f > -i) && (f += i), 0 === f && -12 === i && (f = 12), yu(f, t, r, u) } } function wr(n, t, i) { return function (r, u) { var f = r["get" + n](), e = ku((i ? "STANDALONE" : "") + (t ? "SHORT" : "") + n); return u[e][f] } } function hh(n) { var t = new Date(n, 0, 1).getDay(); return new Date(n, 0, (4 >= t ? 5 : 12) - t) } function ch(n) { return function (t) { var i = hh(t.getFullYear()); return t = +new Date(t.getFullYear(), t.getMonth(), t.getDate() + (4 - t.getDay())) - +i, t = 1 + Math.round(t / 6048e5), yu(t, n) } } function ce(n, t) { return 0 >= n.getFullYear() ? t.ERAS[0] : t.ERAS[1] } function lh(n) { function i(n) { var t; if (t = n.match(r)) { n = new Date(0); var i = 0, u = 0, f = t[8] ? n.setUTCFullYear : n.setFullYear, e = t[8] ? n.setUTCHours : n.setHours; t[9] && (i = tt(t[9] + t[10]), u = tt(t[9] + t[11])); f.call(n, tt(t[1]), tt(t[2]) - 1, tt(t[3])); i = tt(t[4] || 0) - i; u = tt(t[5] || 0) - u; f = tt(t[6] || 0); t = Math.round(1e3 * parseFloat("0." + (t[7] || 0))); e.call(n, i, u, f, t) } return n } var r = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/; return function (r, u, f) { var c = "", e = [], s, l, o; if (u = u || "mediumDate", u = n.DATETIME_FORMATS[u] || u, h(r) && (r = lw.test(r) ? tt(r) : i(r)), d(r) && (r = new Date(r)), !rt(r) || !isFinite(r.getTime())) return r; for (; u;)(l = cw.exec(u)) ? (e = or(e, l, 1), u = e.pop()) : (e.push(u), u = null); return o = r.getTimezoneOffset(), f && (o = ao(f, o), r = yf(r, f, !0)), t(e, function (t) { s = hw[t]; c += s ? s(r, n.DATETIME_FORMATS, o) : "''" === t ? "'" : t.replace(/(^'|'$)/g, "").replace(/''/g, "'") }), c } } function cy() { return function (n, t) { return u(t) && (t = 2), hr(n, t) } } function ly() { return function (n, t, i) { return (t = Infinity === Math.abs(Number(t)) ? Number(t) : tt(t), it(t)) ? n : (d(n) && (n = n.toString()), !dt(n)) ? n : (i = !i || isNaN(i) ? 0 : tt(i), i = 0 > i ? Math.max(0, n.length + i) : i, 0 <= t ? le(n, i, i + t) : 0 === i ? le(n, t, n.length) : le(n, Math.max(0, i + t), i)) } } function le(n, t, i) { return h(n) ? n.slice(t, i) : bt.call(n, t, i) } function ah(n) { function i(t) { return t.map(function (t) { var r = 1, i = ir, u; return f(t) ? i = t : h(t) && (("+" === t.charAt(0) || "-" === t.charAt(0)) && (r = "-" === t.charAt(0) ? -1 : 1, t = t.substring(1)), "" !== t && (i = n(t), i.constant) && (u = i(), i = function (n) { return n[u] })), { get: i, descending: r } }) } function t(n) { switch (typeof n) { case "number": case "boolean": case "string": return !0; default: return !1 } } function r(n, t) { var f = 0, u = n.type, i = t.type, r; return u === i ? (i = n.value, r = t.value, "string" === u ? (i = i.toLowerCase(), r = r.toLowerCase()) : "object" === u && (s(i) && (i = n.index), s(r) && (r = t.index)), i !== r && (f = i < r ? -1 : 1)) : f = u < i ? -1 : 1, f } return function (n, u, e, o) { if (null == n) return n; if (!dt(n)) throw l("orderBy")("notarray", n); c(u) || (u = [u]); 0 === u.length && (u = ["+"]); var s = i(u), h = e ? -1 : 1, a = f(o) ? o : r; return n = Array.prototype.map.call(n, function (n, i) { return { value: n, tieBreaker: { value: i, type: "number", index: i }, predicateValues: s.map(function (r) { var u = r.get(n); if (r = typeof u, null === u) r = "string", u = "null"; else if ("object" === r) n: { if (f(u.valueOf) && (u = u.valueOf(), t(u))) break n; lf(u) && (u = u.toString(), t(u)) } return { value: u, type: r, index: i } }) } }), n.sort(function (n, t) { for (var r, i = 0, u = s.length; i < u; i++)if (r = a(n.predicateValues[i], t.predicateValues[i]), r) return r * s[i].descending * h; return a(n.tieBreaker, t.tieBreaker) * h }), n.map(function (n) { return n.value }) } } function yi(n) { return f(n) && (n = { link: n }), n.restrict = n.restrict || "AC", ot(n) } function pu(n, t, i, r, u) { this.$$controls = []; this.$error = {}; this.$$success = {}; this.$pending = void 0; this.$name = u(t.name || t.ngForm || "")(i); this.$dirty = !1; this.$valid = this.$pristine = !0; this.$submitted = this.$invalid = !1; this.$$parentForm = gr; this.$$element = n; this.$$animate = r; vh(this) } function vh(n) { n.$$classCache = {}; n.$$classCache[fl] = !(n.$$classCache[nu] = n.$$element.hasClass(nu)) } function yh(n) { function i(n, t, i) { i && !n.$$classCache[t] ? (n.$$animate.addClass(n.$$element, t), n.$$classCache[t] = !0) : !i && n.$$classCache[t] && (n.$$animate.removeClass(n.$$element, t), n.$$classCache[t] = !1) } function r(n, t, r) { t = t ? "-" + wo(t, "-") : ""; i(n, nu + t, !0 === r); i(n, fl + t, !1 === r) } var f = n.set, t = n.unset; n.clazz.prototype.$setValidity = function (n, e, o) { u(e) ? (this.$pending || (this.$pending = {}), f(this.$pending, n, o)) : (this.$pending && t(this.$pending, n, o), ph(this.$pending) && (this.$pending = void 0)); gt(e) ? e ? (t(this.$error, n, o), f(this.$$success, n, o)) : (f(this.$error, n, o), t(this.$$success, n, o)) : (t(this.$error, n, o), t(this.$$success, n, o)); this.$pending ? (i(this, "ng-pending", !0), this.$valid = this.$invalid = void 0, r(this, "", null)) : (i(this, "ng-pending", !1), this.$valid = ph(this.$error), this.$invalid = !this.$valid, r(this, "", this.$valid)); e = this.$pending && this.$pending[n] ? void 0 : this.$error[n] ? !1 : this.$$success[n] ? !0 : null; r(this, n, e); this.$$parentForm.$setValidity(n, e, this) } } function ph(n) { if (n) for (var t in n) if (n.hasOwnProperty(t)) return !1; return !0 } function ae(n) { n.$formatters.push(function (t) { return n.$isEmpty(t) ? t : t.toString() }) } function pi(n, t, i, r, u, f) { var h = a(t[0].type), s, e, o, c; if (!u.android) { s = !1; t.on("compositionstart", function () { s = !0 }); t.on("compositionend", function () { s = !1; o() }) } if (o = function (n) { if (e && (f.defer.cancel(e), e = null), !s) { var u = t.val(); n = n && n.type; "password" === h || i.ngTrim && "false" === i.ngTrim || (u = y(u)); (r.$viewValue !== u || "" === u && r.$$hasNativeValidators) && r.$setViewValue(u, n) } }, u.hasEvent("input")) t.on("input", o); else { c = function (n, t, i) { e || (e = f.defer(function () { e = null; t && t.value === i || o(n) })) }; t.on("keydown", function (n) { var t = n.keyCode; 91 === t || 15 < t && 19 > t || 37 <= t && 40 >= t || c(n, this, this.value) }); if (u.hasEvent("paste")) t.on("paste cut", c) } t.on("change", o); if (tl[h] && r.$$hasNativeValidators && h === i.type) t.on("keydown wheel mousedown", function (n) { if (!e) { var t = this.validity, i = t.badInput, r = t.typeMismatch; e = f.defer(function () { e = null; t.badInput === i && t.typeMismatch === r || o(n) }) } }); r.$render = function () { var n = r.$isEmpty(r.$viewValue) ? "" : r.$viewValue; t.val() !== n && t.val(n) } } function wu(n, i) { return function (r, u) { var e, f; if (rt(r)) return r; if (h(r)) { if ('"' === r.charAt(0) && '"' === r.charAt(r.length - 1) && (r = r.substring(1, r.length - 1)), yw.test(r)) return new Date(r); if (n.lastIndex = 0, e = n.exec(r)) return e.shift(), f = u ? { yyyy: u.getFullYear(), MM: u.getMonth() + 1, dd: u.getDate(), HH: u.getHours(), mm: u.getMinutes(), ss: u.getSeconds(), sss: u.getMilliseconds() / 1e3 } : { yyyy: 1970, MM: 1, dd: 1, HH: 0, mm: 0, ss: 0, sss: 0 }, t(e, function (n, t) { t < i.length && (f[i[t]] = +n) }), new Date(f.yyyy, f.MM - 1, f.dd, f.HH, f.mm, f.ss || 0, 1e3 * f.sss || 0) } return NaN } } function br(n, t, i, f) { return function (e, o, s, h, c, l, a) { function p(n) { return n && !(n.getTime && n.getTime() !== n.getTime()) } function k(n) { return r(n) && !rt(n) ? i(n) || void 0 : n } var v, y, w, b; ve(e, o, s, h); pi(e, o, s, h, c, l); v = h && h.$options.getOption("timezone"); h.$$parserName = n; h.$parsers.push(function (n) { return h.$isEmpty(n) ? null : t.test(n) ? (n = i(n, y), v && (n = yf(n, v)), n) : void 0 }); h.$formatters.push(function (n) { if (n && !rt(n)) throw tu("datefmt", n); return p(n) ? ((y = n) && v && (y = yf(y, v, !0)), a("date")(n, f, v)) : (y = null, "") }); (r(s.min) || s.ngMin) && (h.$validators.min = function (n) { return !p(n) || u(w) || i(n) >= w }, s.$observe("min", function (n) { w = k(n); h.$validate() })); (r(s.max) || s.ngMax) && (h.$validators.max = function (n) { return !p(n) || u(b) || i(n) <= b }, s.$observe("max", function (n) { b = k(n); h.$validate() })) } } function ve(n, t, i, r) { (r.$$hasNativeValidators = s(t[0].validity)) && r.$parsers.push(function (n) { var i = t.prop("validity") || {}; if (!i.badInput && !i.typeMismatch) return n }) } function wh(n) { n.$$parserName = "number"; n.$parsers.push(function (t) { return n.$isEmpty(t) ? null : bw.test(t) ? parseFloat(t) : void 0 }); n.$formatters.push(function (t) { if (!n.$isEmpty(t)) { if (!d(t)) throw tu("numfmt", t); t = t.toString() } return t }) } function wi(n) { return r(n) && !d(n) && (n = parseFloat(n)), it(n) ? void 0 : n } function ye(n) { var t = n.toString(), i = t.indexOf("."); return -1 === i ? -1 < n && 1 > n && (n = /e-(\d+)$/.exec(t)) ? Number(n[1]) : 0 : t.length - i - 1 } function bh(n, t, i) { n = Number(n); var u = (n | 0) !== n, f = (t | 0) !== t, e = (i | 0) !== i; if (u || f || e) { var r = u ? ye(n) : 0, o = f ? ye(t) : 0, s = e ? ye(i) : 0, r = Math.max(r, o, s), r = Math.pow(10, r); n *= r; t *= r; i *= r; u && (n = Math.round(n)); f && (t = Math.round(t)); e && (i = Math.round(i)) } return 0 == (n - t) % i } function kh(n, t, i, u, f) { if (r(u)) { if (n = n(u), !n.constant) throw tu("constexpr", i, u); return n(t) } return f } function pe(n, i) { function f(n, t) { var u, i, f, r; if (!n || !n.length) return []; if (!t || !t.length) return n; u = []; i = 0; n: for (; i < n.length; i++) { for (f = n[i], r = 0; r < t.length; r++)if (f === t[r]) continue n; u.push(f) } return u } function r(n) { var t = n; return c(n) ? t = n.map(r).join(" ") : s(n) && (t = Object.keys(n).filter(function (t) { return n[t] }).join(" ")), t } n = "ngClass" + n; var u; return ["$parse", function (e) { return { restrict: "AC", link: function (o, s, c) { function v(n, i) { var r = []; return t(n, function (n) { (0 < i || l[n]) && (l[n] = (l[n] || 0) + i, l[n] === +(0 < i) && r.push(n)) }), r.join(" ") } function w(n) { if (n === i) { var t = a, t = v(t && t.split(" "), 1); c.$addClass(t) } else t = a, t = v(t && t.split(" "), -1), c.$removeClass(t); y = n } var l = s.data("$classCounts"), y = !0, a; l || (l = p(), s.data("$classCounts", l)); "ngClass" !== n && (u || (u = e("$index", function (n) { return n & 1 })), o.$watch(u, w)); o.$watch(e(c[n], r), function (n) { if (h(n) || (n = r(n)), y === i) { var t = n, u = a && a.split(" "), e = t && t.split(" "), t = f(u, e), u = f(e, u), t = v(t, -1), u = v(u, 1); c.$addClass(u); c.$removeClass(t) } a = n }) } } }] } function bu(n, t, i, r, u, f, e, o, s) { this.$modelValue = this.$viewValue = Number.NaN; this.$$rawModelValue = void 0; this.$validators = {}; this.$asyncValidators = {}; this.$parsers = []; this.$formatters = []; this.$viewChangeListeners = []; this.$untouched = !0; this.$touched = !1; this.$pristine = !0; this.$dirty = !1; this.$valid = !0; this.$invalid = !1; this.$error = {}; this.$$success = {}; this.$pending = void 0; this.$name = s(i.name || "", !1)(n); this.$$parentForm = gr; this.$options = of; this.$$parsedNgModel = u(i.ngModel); this.$$parsedNgModelAssign = this.$$parsedNgModel.assign; this.$$ngModelGet = this.$$parsedNgModel; this.$$ngModelSet = this.$$parsedNgModelAssign; this.$$pendingDebounce = null; this.$$parserValid = void 0; this.$$currentValidationRunId = 0; Object.defineProperty(this, "$$scope", { value: n }); this.$$attr = i; this.$$element = r; this.$$animate = f; this.$$timeout = e; this.$$parse = u; this.$$q = o; this.$$exceptionHandler = t; vh(this); ay(this) } function ay(n) { n.$$scope.$watch(function (t) { if (t = n.$$ngModelGet(t), t !== n.$modelValue && (n.$modelValue === n.$modelValue || t === t)) { n.$modelValue = n.$$rawModelValue = t; n.$$parserValid = void 0; for (var r = n.$formatters, u = r.length, i = t; u--;)i = r[u](i); n.$viewValue !== i && (n.$$updateEmptyClasses(i), n.$viewValue = n.$$lastCommittedViewValue = i, n.$render(), n.$$runValidators(n.$modelValue, n.$viewValue, o)) } return t }) } function we(n) { this.$$options = n } function dh(n, i) { t(i, function (t, i) { r(n[i]) || (n[i] = t) }) } function bi(n, t) { n.prop("selected", t); n.attr("selected", t) } var vy = /^\/(.+)\/([a-z]*)$/, pt = Object.prototype.hasOwnProperty, gh = { objectMaxDepth: 5 }, a = function (n) { return h(n) ? n.toLowerCase() : n }, ku = function (n) { return h(n) ? n.toUpperCase() : n }, wt, e, ii, bt = [].slice, yy = [].splice, py = [].push, ut = Object.prototype.toString, nc = Object.getPrototypeOf, si = l("ng"), ft = n.angular || (n.angular = {}), be, du = 0, it, di, rc, ge, no, uc, cc, ff, i, yc, pc, wc, dr, gr, el, of, ol; wt = n.document.documentMode; it = Number.isNaN || function (n) { return n !== n }; o.$inject = []; ir.$inject = []; var c = Array.isArray, wy = /^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/, y = function (n) { return h(n) ? n.trim() : n }, tc = function (n) { return n.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08") }, hi = function () { var i, t; if (!r(hi.rules)) if (i = n.document.querySelector("[ng-csp]") || n.document.querySelector("[data-ng-csp]"), i) t = i.getAttribute("ng-csp") || i.getAttribute("data-ng-csp"), hi.rules = { noUnsafeEval: !t || -1 !== t.indexOf("no-unsafe-eval"), noInlineStyle: !t || -1 !== t.indexOf("no-inline-style") }; else { i = hi; try { new Function(""); t = !1 } catch (u) { t = !0 } i.rules = { noUnsafeEval: t, noInlineStyle: !1 } } return hi.rules }, gu = function () { if (r(gu.name_)) return gu.name_; for (var u, e = ki.length, i, f, t = 0; t < e; ++t)if (i = ki[t], u = n.document.querySelector("[" + i.replace(":", "\\:") + "jq]")) { f = u.getAttribute(i + "jq"); break } return gu.name_ = f }, by = /:/g, ki = ["ng-", "data-ng-", "ng:", "x-ng-"], ky = function (t) { var i = t.currentScript; return i ? (i instanceof n.HTMLScriptElement || i instanceof n.SVGScriptElement) ? (i = i.attributes, [i.getNamedItem("src"), i.getNamedItem("href"), i.getNamedItem("xlink:href")].every(function (n) { if (!n) return !0; if (!n.value) return !1; var i = t.createElement("a"); if (i.href = n.value, t.location.origin === i.origin) return !0; switch (i.protocol) { case "http:": case "https:": case "ftp:": case "blob:": case "file:": case "data:": return !0; default: return !1 } })) : !1 : !0 }(n.document), dy = /[A-Z]/g, ic = !1, ri = 3, gy = { full: "1.6.4", major: 1, minor: 6, dot: 4, codeName: "phenomenal-footnote" }; w.expando = "ng339"; di = w.cache = {}; rc = 1; w._data = function (n) { return this.cache[n[this.expando]] || {} }; var np = /-([a-z])/g, tp = /^-ms-/, nf = { mouseleave: "mouseout", mouseenter: "mouseover" }, ke = l("jqLite"), ip = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, de = /<|&#?\w+;/, rp = /<([\w:-]+)/, up = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi, ht = { option: [1, '<select multiple="multiple">', "<\/select>"], thead: [1, "<table>", "<\/table>"], col: [2, "<table><colgroup>", "<\/colgroup><\/table>"], tr: [2, "<table><tbody>", "<\/tbody><\/table>"], td: [3, "<table><tbody><tr>", "<\/tr><\/tbody><\/table>"], _default: [0, "", ""] }; ht.optgroup = ht.option; ht.tbody = ht.tfoot = ht.colgroup = ht.caption = ht.thead; ht.th = ht.td; var fp = n.Node.prototype.contains || function (n) { return !!(this.compareDocumentPosition(n) & 16) }, gi = w.prototype = { ready: is, toString: function () { var n = []; return t(this, function (t) { n.push("" + t) }), "[" + n.join(", ") + "]" }, eq: function (n) { return 0 <= n ? e(this[n]) : e(this[this.length + n]) }, length: 0, push: py, sort: [].sort, splice: [].splice }, tf = {}; t("multiple selected checked disabled readOnly required open".split(" "), function (n) { tf[a(n)] = n }); ge = {}; t("input select option textarea button form details".split(" "), function (n) { ge[n] = !0 }); no = { ngMinlength: "minlength", ngMaxlength: "maxlength", ngMin: "min", ngMax: "max", ngPattern: "pattern", ngStep: "step" }; t({ data: gf, removeData: df, hasData: function (n) { for (var t in di[n.ng339]) return !0; return !1 }, cleanData: function (n) { for (var t = 0, i = n.length; t < i; t++)df(n[t]) } }, function (n, t) { w[t] = n }); t({ data: gf, inheritedData: cu, scope: function (n) { return e.data(n, "$scope") || cu(n.parentNode || n, ["$isolateScope", "$scope"]) }, isolateScope: function (n) { return e.data(n, "$isolateScope") || e.data(n, "$isolateScopeNoTemplate") }, controller: ns, injector: function (n) { return cu(n, "$injector") }, removeAttr: function (n, t) { n.removeAttribute(t) }, hasClass: ou, css: function (n, t, i) { if (t = uu(t.replace(tp, "ms-")), r(i)) n.style[t] = i; else return n.style[t] }, attr: function (n, t, i) { var u = n.nodeType, f; if (u !== ri && 2 !== u && 8 !== u && n.getAttribute) if (u = a(t), f = tf[u], r(i)) null === i || !1 === i && f ? n.removeAttribute(t) : n.setAttribute(t, f ? u : i); else return n = n.getAttribute(t), f && null !== n && (n = u), null === n ? void 0 : n }, prop: function (n, t, i) { if (r(i)) n[t] = i; else return n[t] }, text: function () { function n(n, t) { if (u(t)) { var i = n.nodeType; return 1 === i || i === ri ? n.textContent : "" } n.textContent = t } return n.$dv = "", n }(), val: function (n, i) { if (u(i)) { if (n.multiple && "select" === lt(n)) { var r = []; return t(n.options, function (n) { n.selected && r.push(n.value || n.text) }), r } return n.value } n.value = i }, html: function (n, t) { if (u(t)) return n.innerHTML; fu(n, !0); n.innerHTML = t }, empty: ts }, function (n, t) { w.prototype[t] = function (t, i) { var r, f, e = this.length, o; if (n !== ts && u(2 === n.length && n !== ou && n !== ns ? t : i)) { if (s(t)) { for (r = 0; r < e; r++)if (n === gf) n(this[r], t); else for (f in t) n(this[r], f, t[f]); return this } for (r = n.$dv, e = u(r) ? Math.min(e, 1) : e, f = 0; f < e; f++)o = n(this[f], t, i), r = r ? r + o : o; return r } for (r = 0; r < e; r++)n(this[r], t, i); return this } }); t({ removeData: df, on: function (n, t, i, u) { var f, e, s, o; if (r(u)) throw ke("onargs"); if (bf(n)) for (u = eu(n, !0), f = u.events, e = u.handle, e || (e = u.handle = fa(n, f)), u = 0 <= t.indexOf(" ") ? t.split(" ") : [t], s = u.length, o = function (t, r, u) { var o = f[t]; o || (o = f[t] = [], o.specialHandlerWrapper = r, "$destroy" === t || u || n.addEventListener(t, e)); o.push(i) }; s--;)t = u[s], nf[t] ? (o(nf[t], oa), o(t, void 0, !0)) : o(t) }, off: go, one: function (n, t, i) { n = e(n); n.on(t, function r() { n.off(t, i); n.off(t, r) }); n.on(t, i) }, replaceWith: function (n, i) { var r, u = n.parentNode; fu(n); t(new w(i), function (t) { r ? u.insertBefore(t, r.nextSibling) : u.replaceChild(t, n); r = t }) }, children: function (n) { var i = []; return t(n.childNodes, function (n) { 1 === n.nodeType && i.push(n) }), i }, contents: function (n) { return n.contentDocument || n.childNodes || [] }, append: function (n, t) { var i = n.nodeType, r; if (1 === i || 11 === i) for (t = new w(t), i = 0, r = t.length; i < r; i++)n.appendChild(t[i]) }, prepend: function (n, i) { if (1 === n.nodeType) { var r = n.firstChild; t(new w(i), function (t) { n.insertBefore(t, r) }) } }, wrap: function (n, t) { var i = e(t).eq(0).clone()[0], r = n.parentNode; r && r.replaceChild(i, n); i.appendChild(n) }, remove: lu, detach: function (n) { lu(n, !0) }, after: function (n, t) { var u = n, f = n.parentNode, i, e, r; if (f) for (t = new w(t), i = 0, e = t.length; i < e; i++)r = t[i], f.insertBefore(r, u.nextSibling), u = r }, addClass: hu, removeClass: su, toggleClass: function (n, i, r) { i && t(i.split(" "), function (t) { var i = r; u(i) && (i = !ou(n, t)); (i ? hu : su)(n, t) }) }, parent: function (n) { return (n = n.parentNode) && 11 !== n.nodeType ? n : null }, next: function (n) { return n.nextElementSibling }, find: function (n, t) { return n.getElementsByTagName ? n.getElementsByTagName(t) : [] }, clone: kf, triggerHandler: function (n, i, r) { var u, e, s = i.type || i, f = eu(n); (f = (f = f && f.events) && f[s]) && (u = { preventDefault: function () { this.defaultPrevented = !0 }, isDefaultPrevented: function () { return !0 === this.defaultPrevented }, stopImmediatePropagation: function () { this.immediatePropagationStopped = !0 }, isImmediatePropagationStopped: function () { return !0 === this.immediatePropagationStopped }, stopPropagation: o, type: s, target: n }, i.type && (u = v(u, i)), i = vt(f), e = r ? [u].concat(r) : [u], t(i, function (t) { u.isImmediatePropagationStopped() || t.apply(n, e) })) } }, function (n, t) { w.prototype[t] = function (t, i, f) { for (var o, s = 0, h = this.length; s < h; s++)u(o) ? (o = n(this[s], t, i, f), r(o) && (o = e(o))) : ne(o, n(this[s], t, i, f)); return r(o) ? o : this } }); w.prototype.bind = w.prototype.on; w.prototype.unbind = w.prototype.off; uc = Object.create(null); us.prototype = { _idx: function (n) { return n === this._lastKey ? this._lastIndex : (this._lastKey = n, this._lastIndex = this._keys.indexOf(n)) }, _transformKey: function (n) { return it(n) ? uc : n }, get: function (n) { return n = this._transformKey(n), n = this._idx(n), -1 !== n ? this._values[n] : void 0 }, set: function (n, t) { n = this._transformKey(n); var i = this._idx(n); -1 === i && (i = this._lastIndex = this._keys.length); this._keys[i] = n; this._values[i] = t }, "delete": function (n) { return (n = this._transformKey(n), n = this._idx(n), -1 === n) ? !1 : (this._keys.splice(n, 1), this._values.splice(n, 1), this._lastKey = NaN, this._lastIndex = -1, !0) } }; var rf = us, ep = [function () { this.$get = [function () { return rf }] }], op = /^([^(]+?)=>/, sp = /^[^(]*\(\s*([^)]*)\)/m, hp = /,/, cp = /^\s*(_?)(\S+?)\1\s*$/, lp = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg, ci = l("$injector"); vr.$$annotate = function (n, i, r) { var u; if ("function" == typeof n) { if (!(u = n.$inject)) { if (u = [], n.length) { if (i) throw h(r) && r || (r = n.name || ha(n)), ci("strictdi", r); i = fs(n); t(i[1].split(hp), function (n) { n.replace(cp, function (n, t, i) { u.push(i) }) }) } n.$inject = u } } else c(n) ? (i = n.length - 1, iu(n[i], "fn"), u = n.slice(0, i)) : iu(n, "fn", !0); return u }; var fc = l("$animate"), ap = function () { this.$get = o }, vp = function () { var n = new rf, i = []; this.$get = ["$$AnimateRunner", "$rootScope", function (r, u) { function f(n, i, r) { var u = !1; return i && (i = h(i) ? i.split(" ") : c(i) ? i : [], t(i, function (t) { t && (u = !0, n[t] = r) })), u } function e() { t(i, function (i) { var f = n.get(i); if (f) { var e = la(i.attr("class")), r = "", u = ""; t(f, function (n, t) { n !== !!e[t] && (n ? r += (r.length ? " " : "") + t : u += (u.length ? " " : "") + t) }); t(i, function (n) { r && hu(n, r); u && su(n, u) }); n.delete(i) } }); i.length = 0 } return { enabled: o, on: o, off: o, pin: o, push: function (t, o, s, h) { return h && h(), s = s || {}, s.from && t.css(s.from), s.to && t.css(s.to), (s.addClass || s.removeClass) && (o = s.addClass, h = s.removeClass, s = n.get(t) || {}, o = f(s, o, !0), h = f(s, h, !1), o || h) && (n.set(t, s), i.push(t), 1 === i.length && u.$$postDigest(e)), t = new r, t.complete(), t } } }] }, yp = ["$provide", function (n) { var i = this, t = null; this.$$registeredAnimations = Object.create(null); this.register = function (t, r) { if (t && "." !== t.charAt(0)) throw fc("notcsel", t); var u = t + "-animation"; i.$$registeredAnimations[t.substr(1)] = u; n.factory(u, r) }; this.classNameFilter = function (n) { if (1 === arguments.length && (t = n instanceof RegExp ? n : null) && /[(\s|\/)]ng-animate[(\s|\/)]/.test(t.toString())) throw t = null, fc("nongcls", "ng-animate"); return t }; this.$get = ["$$animateQueue", function (n) { function t(n, t, i) { var r, u; if (i) { n: { for (r = 0; r < i.length; r++)if (u = i[r], 1 === u.nodeType) { r = u; break n } r = void 0 } !r || r.parentNode || r.previousElementSibling || (i = null) } i ? i.after(n) : t.prepend(n) } return { on: n.on, off: n.off, pin: n.pin, enabled: n.enabled, cancel: function (n) { n.end && n.end() }, enter: function (i, r, u, f) { return r = r && e(r), u = u && e(u), r = r || u.parent(), t(i, r, u), n.push(i, "enter", fi(f)) }, move: function (i, r, u, f) { return r = r && e(r), u = u && e(u), r = r || u.parent(), t(i, r, u), n.push(i, "move", fi(f)) }, leave: function (t, i) { return n.push(t, "leave", fi(i), function () { t.remove() }) }, addClass: function (t, i, r) { return r = fi(r), r.addClass = yr(r.addclass, i), n.push(t, "addClass", r) }, removeClass: function (t, i, r) { return r = fi(r), r.removeClass = yr(r.removeClass, i), n.push(t, "removeClass", r) }, setClass: function (t, i, r, u) { return u = fi(u), u.addClass = yr(u.addClass, i), u.removeClass = yr(u.removeClass, r), n.push(t, "setClass", u) }, animate: function (t, i, r, u, f) { return f = fi(f), f.from = f.from ? v(f.from, i) : i, f.to = f.to ? v(f.to, r) : r, f.tempClasses = yr(f.tempClasses, u || "ng-inline-animate"), n.push(t, "animate", f) } } }] }], pp = function () { this.$get = ["$$rAF", function (n) { function i(i) { t.push(i); 1 < t.length || n(function () { for (var n = 0; n < t.length; n++)t[n](); t = [] }) } var t = []; return function () { var n = !1; return i(function () { n = !0 }), function (t) { n ? t() : i(t) } } }] }, wp = function () { this.$get = ["$q", "$sniffer", "$$animateAsyncRun", "$$isDocumentHidden", "$timeout", function (n, i, r, u, f) { function e(n) { this.setHost(n); var t = r(); this._doneCallbacks = []; this._tick = function (n) { u() ? f(n, 0, !1) : t(n) }; this._state = 0 } return e.chain = function (n, t) { function r() { i === n.length ? t(!0) : n[i](function (n) { !1 === n ? t(!1) : (i++ , r()) }) } var i = 0; r() }, e.all = function (n, i) { function u(t) { r = r && t; ++f === n.length && i(r) } var f = 0, r = !0; t(n, function (n) { n.done(u) }) }, e.prototype = { setHost: function (n) { this.host = n || {} }, done: function (n) { 2 === this._state ? n() : this._doneCallbacks.push(n) }, progress: o, getPromise: function () { if (!this.promise) { var t = this; this.promise = n(function (n, i) { t.done(function (t) { !1 === t ? i() : n() }) }) } return this.promise }, then: function (n, t) { return this.getPromise().then(n, t) }, "catch": function (n) { return this.getPromise()["catch"](n) }, "finally": function (n) { return this.getPromise()["finally"](n) }, pause: function () { this.host.pause && this.host.pause() }, resume: function () { this.host.resume && this.host.resume() }, end: function () { this.host.end && this.host.end(); this._resolve(!0) }, cancel: function () { this.host.cancel && this.host.cancel(); this._resolve(!1) }, complete: function (n) { var t = this; 0 === t._state && (t._state = 1, t._tick(function () { t._resolve(n) })) }, _resolve: function (n) { 2 !== this._state && (t(this._doneCallbacks, function (t) { t(n) }), this._doneCallbacks.length = 0, this._state = 2) } }, e }] }, bp = function () { this.$get = ["$$rAF", "$q", "$$AnimateRunner", function (n, t, i) { return function (t, r) { function e() { return n(function () { u.addClass && (t.addClass(u.addClass), u.addClass = null); u.removeClass && (t.removeClass(u.removeClass), u.removeClass = null); u.to && (t.css(u.to), u.to = null); o || f.complete(); o = !0 }), f } var u = r || {}, o, f; return u.$$prepared || (u = ni(u)), u.cleanupStyles && (u.from = u.to = null), u.from && (t.css(u.from), u.from = null), f = new i, { start: e, end: e } } }] }, k = l("$compile"), to = new function () { }; es.$inject = ["$provide", "$$sanitizeUriProvider"]; au.prototype.isFirstChange = function () { return this.previousValue === to }; var ec = /^((?:x|data)[:\-_])/i, kp = /[:\-_]+(.)/g, oc = l("$controller"), sc = /^(\S+)(\s+as\s+([\w$]+))?$/, dp = function () { this.$get = ["$document", function (n) { return function (t) { return t ? !t.nodeType && t instanceof e && (t = t[0]) : t = n[0].body, t.offsetWidth + 1 } }] }, hc = "application/json", io = { "Content-Type": hc + ";charset=utf-8" }, gp = /^\[|^\{(?!\{)/, nw = { "[": /]$/, "{": /}$/ }, tw = /^\)]\}',?\n/, ro = l("$http"), li = ft.$interpolateMinErr = l("$interpolate"); li.throwNoconcat = function (n) { throw li("noconcat", n); }; li.interr = function (n, t) { return li("interr", n, t.toString()) }; var iw = function () { this.$get = function () { function i(n) { var t = function (n) { t.data = n; t.called = !0 }; return t.id = n, t } var t = ft.callbacks, n = {}; return { createCallback: function (r) { r = "_" + (t.$$counter++).toString(36); var u = "angular.callbacks." + r, f = i(r); return n[u] = t[r] = f, u }, wasCalled: function (t) { return n[t].called }, getResponse: function (t) { return n[t].data }, removeCallback: function (i) { delete t[n[i].id]; delete n[i] } } } }, rw = /^([^?#]*)(\?([^#]*))?(#(.*))?$/, uw = { http: 80, https: 443, ftp: 21 }, kr = l("$location"), fw = /^\s*[\\/]{2,}/, ew = { $$absUrl: "", $$html5: !1, $$replace: !1, absUrl: vu("$$absUrl"), url: function (n) { if (u(n)) return this.$$url; var t = rw.exec(n); return (t[1] || "" === n) && this.path(decodeURIComponent(t[1])), (t[2] || t[1] || "" === n) && this.search(t[3] || ""), this.hash(t[5] || ""), this }, protocol: vu("$$protocol"), host: vu("$$host"), port: vu("$$port"), path: ps("$$path", function (n) { return n = null !== n ? n.toString() : "", "/" === n.charAt(0) ? n : "/" + n }), search: function (n, i) { switch (arguments.length) { case 0: return this.$$search; case 1: if (h(n) || d(n)) n = n.toString(), this.$$search = yo(n); else if (s(n)) n = ni(n, {}), t(n, function (t, i) { null == t && delete n[i] }), this.$$search = n; else throw kr("isrcharg"); break; default: u(i) || null === i ? delete this.$$search[n] : this.$$search[n] = i }return this.$$compose(), this }, hash: ps("$$hash", function (n) { return null !== n ? n.toString() : "" }), replace: function () { return this.$$replace = !0, this } }; t([ys, ee, fe], function (n) { n.prototype = Object.create(ew); n.prototype.state = function (t) { if (!arguments.length) return this.$$state; if (n !== fe || !this.$$html5) throw kr("nostate"); return this.$$state = u(t) ? null : t, this.$$urlUpdatedByLocation = !0, this } }); var nr = l("$parse"), ow = {}.constructor.prototype.valueOf, uf = p(); t("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function (n) { uf[n] = !0 }); cc = { n: "\n", f: "\f", r: "\r", t: "\t", v: "\v", "'": "'", '"': '"' }; ff = function (n) { this.options = n }; ff.prototype = { constructor: ff, lex: function (n) { for (this.text = n, this.index = 0, this.tokens = []; this.index < this.text.length;)if (n = this.text.charAt(this.index), '"' === n || "'" === n) this.readString(n); else if (this.isNumber(n) || "." === n && this.isNumber(this.peek())) this.readNumber(); else if (this.isIdentifierStart(this.peekMultichar())) this.readIdent(); else if (this.is(n, "(){}[].,;:?")) this.tokens.push({ index: this.index, text: n }), this.index++; else if (this.isWhitespace(n)) this.index++; else { var t = n + this.peek(), i = t + this.peek(2), r = uf[t], u = uf[i]; uf[n] || r || u ? (n = u ? i : r ? t : n, this.tokens.push({ index: this.index, text: n, operator: !0 }), this.index += n.length) : this.throwError("Unexpected next character ", this.index, this.index + 1) } return this.tokens }, is: function (n, t) { return -1 !== t.indexOf(n) }, peek: function (n) { return n = n || 1, this.index + n < this.text.length ? this.text.charAt(this.index + n) : !1 }, isNumber: function (n) { return "0" <= n && "9" >= n && "string" == typeof n }, isWhitespace: function (n) { return " " === n || "\r" === n || "\t" === n || "\n" === n || "\v" === n || " " === n }, isIdentifierStart: function (n) { return this.options.isIdentifierStart ? this.options.isIdentifierStart(n, this.codePointAt(n)) : this.isValidIdentifierStart(n) }, isValidIdentifierStart: function (n) { return "a" <= n && "z" >= n || "A" <= n && "Z" >= n || "_" === n || "$" === n }, isIdentifierContinue: function (n) { return this.options.isIdentifierContinue ? this.options.isIdentifierContinue(n, this.codePointAt(n)) : this.isValidIdentifierContinue(n) }, isValidIdentifierContinue: function (n, t) { return this.isValidIdentifierStart(n, t) || this.isNumber(n) }, codePointAt: function (n) { return 1 === n.length ? n.charCodeAt(0) : (n.charCodeAt(0) << 10) + n.charCodeAt(1) - 56613888 }, peekMultichar: function () { var n = this.text.charAt(this.index), t = this.peek(), i, r; return t ? (i = n.charCodeAt(0), r = t.charCodeAt(0), 55296 <= i && 56319 >= i && 56320 <= r && 57343 >= r ? n + t : n) : n }, isExpOperator: function (n) { return "-" === n || "+" === n || this.isNumber(n) }, throwError: function (n, t, i) { i = i || this.index; t = r(t) ? "s " + t + "-" + this.index + " [" + this.text.substring(t, i) + "]" : " " + i; throw nr("lexerr", n, t, this.text); }, readNumber: function () { for (var t, i, n = "", r = this.index; this.index < this.text.length;) { if (t = a(this.text.charAt(this.index)), "." === t || this.isNumber(t)) n += t; else if (i = this.peek(), "e" === t && this.isExpOperator(i)) n += t; else if (this.isExpOperator(t) && i && this.isNumber(i) && "e" === n.charAt(n.length - 1)) n += t; else if (!this.isExpOperator(t) || i && this.isNumber(i) || "e" !== n.charAt(n.length - 1)) break; else this.throwError("Invalid exponent"); this.index++ } this.tokens.push({ index: r, text: n, constant: !0, value: Number(n) }) }, readIdent: function () { var t = this.index, n; for (this.index += this.peekMultichar().length; this.index < this.text.length;) { if (n = this.peekMultichar(), !this.isIdentifierContinue(n)) break; this.index += n.length } this.tokens.push({ index: t, text: this.text.slice(t, this.index), identifier: !0 }) }, readString: function (n) { var f = this.index, t, u; this.index++; for (var r = "", u = n, i = !1; this.index < this.text.length;) { if (t = this.text.charAt(this.index), u = u + t, i) "u" === t ? (i = this.text.substring(this.index + 1, this.index + 5), i.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + i + "]"), this.index += 4, r += String.fromCharCode(parseInt(i, 16))) : r += cc[t] || t, i = !1; else if ("\\" === t) i = !0; else { if (t === n) { this.index++; this.tokens.push({ index: f, text: u, constant: !0, value: r }); return } r += t } this.index++ } this.throwError("Unterminated quote", f) } }; i = function (n, t) { this.lexer = n; this.options = t }; i.Program = "Program"; i.ExpressionStatement = "ExpressionStatement"; i.AssignmentExpression = "AssignmentExpression"; i.ConditionalExpression = "ConditionalExpression"; i.LogicalExpression = "LogicalExpression"; i.BinaryExpression = "BinaryExpression"; i.UnaryExpression = "UnaryExpression"; i.CallExpression = "CallExpression"; i.MemberExpression = "MemberExpression"; i.Identifier = "Identifier"; i.Literal = "Literal"; i.ArrayExpression = "ArrayExpression"; i.Property = "Property"; i.ObjectExpression = "ObjectExpression"; i.ThisExpression = "ThisExpression"; i.LocalsExpression = "LocalsExpression"; i.NGValueParameter = "NGValueParameter"; i.prototype = { ast: function (n) { return this.text = n, this.tokens = this.lexer.lex(n), n = this.program(), 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), n }, program: function () { for (var n = []; ;)if (0 < this.tokens.length && !this.peek("}", ")", ";", "]") && n.push(this.expressionStatement()), !this.expect(";")) return { type: i.Program, body: n } }, expressionStatement: function () { return { type: i.ExpressionStatement, expression: this.filterChain() } }, filterChain: function () { for (var n = this.expression(); this.expect("|");)n = this.filter(n); return n }, expression: function () { return this.assignment() }, assignment: function () { var n = this.ternary(); if (this.expect("=")) { if (!ks(n)) throw nr("lval"); n = { type: i.AssignmentExpression, left: n, right: this.assignment(), operator: "=" } } return n }, ternary: function () { var n = this.logicalOR(), t, r; return this.expect("?") && (t = this.expression(), this.consume(":")) ? (r = this.expression(), { type: i.ConditionalExpression, test: n, alternate: t, consequent: r }) : n }, logicalOR: function () { for (var n = this.logicalAND(); this.expect("||");)n = { type: i.LogicalExpression, operator: "||", left: n, right: this.logicalAND() }; return n }, logicalAND: function () { for (var n = this.equality(); this.expect("&&");)n = { type: i.LogicalExpression, operator: "&&", left: n, right: this.equality() }; return n }, equality: function () { for (var n = this.relational(), t; t = this.expect("==", "!=", "===", "!==");)n = { type: i.BinaryExpression, operator: t.text, left: n, right: this.relational() }; return n }, relational: function () { for (var n = this.additive(), t; t = this.expect("<", ">", "<=", ">=");)n = { type: i.BinaryExpression, operator: t.text, left: n, right: this.additive() }; return n }, additive: function () { for (var n = this.multiplicative(), t; t = this.expect("+", "-");)n = { type: i.BinaryExpression, operator: t.text, left: n, right: this.multiplicative() }; return n }, multiplicative: function () { for (var n = this.unary(), t; t = this.expect("*", "/", "%");)n = { type: i.BinaryExpression, operator: t.text, left: n, right: this.unary() }; return n }, unary: function () { var n; return (n = this.expect("+", "-", "!")) ? { type: i.UnaryExpression, operator: n.text, prefix: !0, argument: this.unary() } : this.primary() }, primary: function () { var n, t; for (this.expect("(") ? (n = this.filterChain(), this.consume(")")) : this.expect("[") ? n = this.arrayDeclaration() : this.expect("{") ? n = this.object() : this.selfReferential.hasOwnProperty(this.peek().text) ? n = ni(this.selfReferential[this.consume().text]) : this.options.literals.hasOwnProperty(this.peek().text) ? n = { type: i.Literal, value: this.options.literals[this.consume().text] } : this.peek().identifier ? n = this.identifier() : this.peek().constant ? n = this.constant() : this.throwError("not a primary expression", this.peek()); t = this.expect("(", "[", ".");)"(" === t.text ? (n = { type: i.CallExpression, callee: n, arguments: this.parseArguments() }, this.consume(")")) : "[" === t.text ? (n = { type: i.MemberExpression, object: n, property: this.expression(), computed: !0 }, this.consume("]")) : "." === t.text ? n = { type: i.MemberExpression, object: n, property: this.identifier(), computed: !1 } : this.throwError("IMPOSSIBLE"); return n }, filter: function (n) { n = [n]; for (var t = { type: i.CallExpression, callee: this.identifier(), arguments: n, filter: !0 }; this.expect(":");)n.push(this.expression()); return t }, parseArguments: function () { var n = []; if (")" !== this.peekToken().text) do n.push(this.filterChain()); while (this.expect(",")); return n }, identifier: function () { var n = this.consume(); return n.identifier || this.throwError("is not a valid identifier", n), { type: i.Identifier, name: n.text } }, constant: function () { return { type: i.Literal, value: this.consume().value } }, arrayDeclaration: function () { var n = []; if ("]" !== this.peekToken().text) do { if (this.peek("]")) break; n.push(this.expression()) } while (this.expect(",")); return this.consume("]"), { type: i.ArrayExpression, elements: n } }, object: function () { var t = [], n; if ("}" !== this.peekToken().text) do { if (this.peek("}")) break; n = { type: i.Property, kind: "init" }; this.peek().constant ? (n.key = this.constant(), n.computed = !1, this.consume(":"), n.value = this.expression()) : this.peek().identifier ? (n.key = this.identifier(), n.computed = !1, this.peek(":") ? (this.consume(":"), n.value = this.expression()) : n.value = n.key) : this.peek("[") ? (this.consume("["), n.key = this.expression(), this.consume("]"), n.computed = !0, this.consume(":"), n.value = this.expression()) : this.throwError("invalid key", this.peek()); t.push(n) } while (this.expect(",")); return this.consume("}"), { type: i.ObjectExpression, properties: t } }, throwError: function (n, t) { throw nr("syntax", t.text, n, t.index + 1, this.text, this.text.substring(t.index)); }, consume: function (n) { if (0 === this.tokens.length) throw nr("ueoe", this.text); var t = this.expect(n); return t || this.throwError("is unexpected, expecting [" + n + "]", this.peek()), t }, peekToken: function () { if (0 === this.tokens.length) throw nr("ueoe", this.text); return this.tokens[0] }, peek: function (n, t, i, r) { return this.peekAhead(0, n, t, i, r) }, peekAhead: function (n, t, i, r, u) { if (this.tokens.length > n) { n = this.tokens[n]; var f = n.text; if (f === t || f === i || f === r || f === u || !(t || i || r || u)) return n } return !1 }, expect: function (n, t, i, r) { return (n = this.peek(n, t, i, r)) ? (this.tokens.shift(), n) : !1 }, selfReferential: { "this": { type: i.ThisExpression }, $locals: { type: i.LocalsExpression } } }; gs.prototype = { compile: function (n) { var i = this, r, u; return this.state = { nextId: 0, filters: {}, fn: { vars: [], body: [], own: {} }, assign: { vars: [], body: [], own: {} }, inputs: [] }, b(n, i.$filter), r = "", this.stage = "assign", (u = ds(n)) && (this.state.computing = "assign", r = this.nextId(), this.recurse(u, r), this.return_(r), r = "fn.assign=" + this.generateFunction("assign", "s,v,l")), u = bs(n.body), i.stage = "inputs", t(u, function (n, t) { var r = "fn" + t, u; i.state[r] = { vars: [], body: [], own: {} }; i.state.computing = r; u = i.nextId(); i.recurse(n, u); i.return_(u); i.state.inputs.push(r); n.watchId = t }), this.state.computing = "fn", this.stage = "main", this.recurse(n), n = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + r + this.watchFns() + "return fn;", n = new Function("$filter", "getStringValue", "ifDefined", "plus", n)(this.$filter, cv, lv, ws), this.state = this.stage = void 0, n }, USE: "use", STRICT: "strict", watchFns: function () { var n = [], i = this.state.inputs, r = this; return t(i, function (t) { n.push("var " + t + "=" + r.generateFunction(t, "s")) }), i.length && n.push("fn.inputs=[" + i.join(",") + "];"), n.join("") }, generateFunction: function (n, t) { return "function(" + t + "){" + this.varsPrefix(n) + this.body(n) + "};" }, filterPrefix: function () { var n = [], i = this; return t(this.state.filters, function (t, r) { n.push(t + "=$filter(" + i.escape(r) + ")") }), n.length ? "var " + n.join(",") + ";" : "" }, varsPrefix: function (n) { return this.state[n].vars.length ? "var " + this.state[n].vars.join(",") + ";" : "" }, body: function (n) { return this.state[n].body.join("") }, recurse: function (n, u, f, e, s, h) { var l, a, c = this, y, v, p; if (e = e || o, !h && r(n.watchId)) u = u || this.nextId(), this.if_("i", this.lazyAssign(u, this.computedMember("i", n.watchId)), this.lazyRecurse(n, u, f, e, s, !0)); else switch (n.type) { case i.Program: t(n.body, function (t, i) { c.recurse(t.expression, void 0, void 0, function (n) { a = n }); i !== n.body.length - 1 ? c.current().body.push(a, ";") : c.return_(a) }); break; case i.Literal: v = this.escape(n.value); this.assign(u, v); e(u || v); break; case i.UnaryExpression: this.recurse(n.argument, void 0, void 0, function (n) { a = n }); v = n.operator + "(" + this.ifDefined(a, 0) + ")"; this.assign(u, v); e(v); break; case i.BinaryExpression: this.recurse(n.left, void 0, void 0, function (n) { l = n }); this.recurse(n.right, void 0, void 0, function (n) { a = n }); v = "+" === n.operator ? this.plus(l, a) : "-" === n.operator ? this.ifDefined(l, 0) + n.operator + this.ifDefined(a, 0) : "(" + l + ")" + n.operator + "(" + a + ")"; this.assign(u, v); e(v); break; case i.LogicalExpression: u = u || this.nextId(); c.recurse(n.left, u); c.if_("&&" === n.operator ? u : c.not(u), c.lazyRecurse(n.right, u)); e(u); break; case i.ConditionalExpression: u = u || this.nextId(); c.recurse(n.test, u); c.if_(u, c.lazyRecurse(n.alternate, u), c.lazyRecurse(n.consequent, u)); e(u); break; case i.Identifier: u = u || this.nextId(); f && (f.context = "inputs" === c.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", n.name) + "?l:s"), f.computed = !1, f.name = n.name); c.if_("inputs" === c.stage || c.not(c.getHasOwnProperty("l", n.name)), function () { c.if_("inputs" === c.stage || "s", function () { s && 1 !== s && c.if_(c.isNull(c.nonComputedMember("s", n.name)), c.lazyAssign(c.nonComputedMember("s", n.name), "{}")); c.assign(u, c.nonComputedMember("s", n.name)) }) }, u && c.lazyAssign(u, c.nonComputedMember("l", n.name))); e(u); break; case i.MemberExpression: l = f && (f.context = this.nextId()) || this.nextId(); u = u || this.nextId(); c.recurse(n.object, l, void 0, function () { c.if_(c.notNull(l), function () { n.computed ? (a = c.nextId(), c.recurse(n.property, a), c.getStringValue(a), s && 1 !== s && c.if_(c.not(c.computedMember(l, a)), c.lazyAssign(c.computedMember(l, a), "{}")), v = c.computedMember(l, a), c.assign(u, v), f && (f.computed = !0, f.name = a)) : (s && 1 !== s && c.if_(c.isNull(c.nonComputedMember(l, n.property.name)), c.lazyAssign(c.nonComputedMember(l, n.property.name), "{}")), v = c.nonComputedMember(l, n.property.name), c.assign(u, v), f && (f.computed = !1, f.name = n.property.name)) }, function () { c.assign(u, "undefined") }); e(u) }, !!s); break; case i.CallExpression: u = u || this.nextId(); n.filter ? (a = c.filter(n.callee.name), y = [], t(n.arguments, function (n) { var t = c.nextId(); c.recurse(n, t); y.push(t) }), v = a + "(" + y.join(",") + ")", c.assign(u, v), e(u)) : (a = c.nextId(), l = {}, y = [], c.recurse(n.callee, a, l, function () { c.if_(c.notNull(a), function () { t(n.arguments, function (t) { c.recurse(t, n.constant ? void 0 : c.nextId(), void 0, function (n) { y.push(n) }) }); v = l.name ? c.member(l.context, l.name, l.computed) + "(" + y.join(",") + ")" : a + "(" + y.join(",") + ")"; c.assign(u, v) }, function () { c.assign(u, "undefined") }); e(u) })); break; case i.AssignmentExpression: a = this.nextId(); l = {}; this.recurse(n.left, void 0, l, function () { c.if_(c.notNull(l.context), function () { c.recurse(n.right, a); v = c.member(l.context, l.name, l.computed) + n.operator + a; c.assign(u, v); e(u || v) }) }, 1); break; case i.ArrayExpression: y = []; t(n.elements, function (t) { c.recurse(t, n.constant ? void 0 : c.nextId(), void 0, function (n) { y.push(n) }) }); v = "[" + y.join(",") + "]"; this.assign(u, v); e(u || v); break; case i.ObjectExpression: y = []; p = !1; t(n.properties, function (n) { n.computed && (p = !0) }); p ? (u = u || this.nextId(), this.assign(u, "{}"), t(n.properties, function (n) { n.computed ? (l = c.nextId(), c.recurse(n.key, l)) : l = n.key.type === i.Identifier ? n.key.name : "" + n.key.value; a = c.nextId(); c.recurse(n.value, a); c.assign(c.member(u, l, n.computed), a) })) : (t(n.properties, function (t) { c.recurse(t.value, n.constant ? void 0 : c.nextId(), void 0, function (n) { y.push(c.escape(t.key.type === i.Identifier ? t.key.name : "" + t.key.value) + ":" + n) }) }), v = "{" + y.join(",") + "}", this.assign(u, v)); e(u || v); break; case i.ThisExpression: this.assign(u, "s"); e(u || "s"); break; case i.LocalsExpression: this.assign(u, "l"); e(u || "l"); break; case i.NGValueParameter: this.assign(u, "v"); e(u || "v") } }, getHasOwnProperty: function (n, t) { var i = n + "." + t, r = this.current().own; return r.hasOwnProperty(i) || (r[i] = this.nextId(!1, n + "&&(" + this.escape(t) + " in " + n + ")")), r[i] }, assign: function (n, t) { if (n) return this.current().body.push(n, "=", t, ";"), n }, filter: function (n) { return this.state.filters.hasOwnProperty(n) || (this.state.filters[n] = this.nextId(!0)), this.state.filters[n] }, ifDefined: function (n, t) { return "ifDefined(" + n + "," + this.escape(t) + ")" }, plus: function (n, t) { return "plus(" + n + "," + t + ")" }, return_: function (n) { this.current().body.push("return ", n, ";") }, if_: function (n, t, i) { if (!0 === n) t(); else { var r = this.current().body; r.push("if(", n, "){"); t(); r.push("}"); i && (r.push("else{"), i(), r.push("}")) } }, not: function (n) { return "!(" + n + ")" }, isNull: function (n) { return n + "==null" }, notNull: function (n) { return n + "!=null" }, nonComputedMember: function (n, t) { return /^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t) ? n + "." + t : n + '["' + t.replace(/[^$_a-zA-Z0-9]/g, this.stringEscapeFn) + '"]' }, computedMember: function (n, t) { return n + "[" + t + "]" }, member: function (n, t, i) { return i ? this.computedMember(n, t) : this.nonComputedMember(n, t) }, getStringValue: function (n) { this.assign(n, "getStringValue(" + n + ")") }, lazyRecurse: function (n, t, i, r, u, f) { var e = this; return function () { e.recurse(n, t, i, r, u, f) } }, lazyAssign: function (n, t) { var i = this; return function () { i.assign(n, t) } }, stringEscapeRegex: /[^ a-zA-Z0-9]/g, stringEscapeFn: function (n) { return "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4) }, escape: function (n) { if (h(n)) return "'" + n.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'"; if (d(n)) return n.toString(); if (!0 === n) return "true"; if (!1 === n) return "false"; if (null === n) return "null"; if ("undefined" == typeof n) return "undefined"; throw nr("esc"); }, nextId: function (n, t) { var i = "v" + this.state.nextId++; return n || this.current().vars.push(i + (t ? "=" + t : "")), i }, current: function () { return this.state[this.state.computing] } }; nh.prototype = { compile: function (n) { var f = this, i, e, r, u; return b(n, f.$filter), (i = ds(n)) && (e = this.recurse(i)), i = bs(n.body), i && (r = [], t(i, function (n, t) { var i = f.recurse(n); n.input = i; r.push(i); n.watchId = t })), u = [], t(n.body, function (n) { u.push(f.recurse(n.expression)) }), n = 0 === n.body.length ? o : 1 === n.body.length ? u[0] : function (n, i) { var r; return t(u, function (t) { r = t(n, i) }), r }, e && (n.assign = function (n, t, i) { return e(n, i, t) }), r && (n.inputs = r), n }, recurse: function (n, r, u) { var o, e, s = this, f; if (n.input) return this.inputs(n.input, n.watchId); switch (n.type) { case i.Literal: return this.value(n.value, r); case i.UnaryExpression: return e = this.recurse(n.argument), this["unary" + n.operator](e, r); case i.BinaryExpression: return o = this.recurse(n.left), e = this.recurse(n.right), this["binary" + n.operator](o, e, r); case i.LogicalExpression: return o = this.recurse(n.left), e = this.recurse(n.right), this["binary" + n.operator](o, e, r); case i.ConditionalExpression: return this["ternary?:"](this.recurse(n.test), this.recurse(n.alternate), this.recurse(n.consequent), r); case i.Identifier: return s.identifier(n.name, r, u); case i.MemberExpression: return o = this.recurse(n.object, !1, !!u), n.computed || (e = n.property.name), n.computed && (e = this.recurse(n.property)), n.computed ? this.computedMember(o, e, r, u) : this.nonComputedMember(o, e, r, u); case i.CallExpression: return f = [], t(n.arguments, function (n) { f.push(s.recurse(n)) }), n.filter && (e = this.$filter(n.callee.name)), n.filter || (e = this.recurse(n.callee, !0)), n.filter ? function (n, t, i, u) { for (var s = [], o = 0; o < f.length; ++o)s.push(f[o](n, t, i, u)); return n = e.apply(void 0, s, u), r ? { context: void 0, name: void 0, value: n } : n } : function (n, t, i, u) { var h = e(n, t, i, u), o, s; if (null != h.value) { for (o = [], s = 0; s < f.length; ++s)o.push(f[s](n, t, i, u)); o = h.value.apply(h.context, o) } return r ? { value: o } : o }; case i.AssignmentExpression: return o = this.recurse(n.left, !0, 1), e = this.recurse(n.right), function (n, t, i, u) { var f = o(n, t, i, u); return n = e(n, t, i, u), f.context[f.name] = n, r ? { value: n } : n }; case i.ArrayExpression: return f = [], t(n.elements, function (n) { f.push(s.recurse(n)) }), function (n, t, i, u) { for (var e = [], o = 0; o < f.length; ++o)e.push(f[o](n, t, i, u)); return r ? { value: e } : e }; case i.ObjectExpression: return f = [], t(n.properties, function (n) { n.computed ? f.push({ key: s.recurse(n.key), computed: !0, value: s.recurse(n.value) }) : f.push({ key: n.key.type === i.Identifier ? n.key.name : "" + n.key.value, computed: !1, value: s.recurse(n.value) }) }), function (n, t, i, u) { for (var o = {}, e = 0; e < f.length; ++e)f[e].computed ? o[f[e].key(n, t, i, u)] = f[e].value(n, t, i, u) : o[f[e].key] = f[e].value(n, t, i, u); return r ? { value: o } : o }; case i.ThisExpression: return function (n) { return r ? { value: n } : n }; case i.LocalsExpression: return function (n, t) { return r ? { value: t } : t }; case i.NGValueParameter: return function (n, t, i) { return r ? { value: i } : i } } }, "unary+": function (n, t) { return function (i, u, f, e) { return i = n(i, u, f, e), i = r(i) ? +i : 0, t ? { value: i } : i } }, "unary-": function (n, t) { return function (i, u, f, e) { return i = n(i, u, f, e), i = r(i) ? -i : -0, t ? { value: i } : i } }, "unary!": function (n, t) { return function (i, r, u, f) { return i = !n(i, r, u, f), t ? { value: i } : i } }, "binary+": function (n, t, i) { return function (r, u, f, e) { var o = n(r, u, f, e); return r = t(r, u, f, e), o = ws(o, r), i ? { value: o } : o } }, "binary-": function (n, t, i) { return function (u, f, e, o) { var s = n(u, f, e, o); return u = t(u, f, e, o), s = (r(s) ? s : 0) - (r(u) ? u : 0), i ? { value: s } : s } }, "binary*": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) * t(r, u, f, e), i ? { value: r } : r } }, "binary/": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) / t(r, u, f, e), i ? { value: r } : r } }, "binary%": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) % t(r, u, f, e), i ? { value: r } : r } }, "binary===": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) === t(r, u, f, e), i ? { value: r } : r } }, "binary!==": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) !== t(r, u, f, e), i ? { value: r } : r } }, "binary==": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) == t(r, u, f, e), i ? { value: r } : r } }, "binary!=": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) != t(r, u, f, e), i ? { value: r } : r } }, "binary<": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) < t(r, u, f, e), i ? { value: r } : r } }, "binary>": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) > t(r, u, f, e), i ? { value: r } : r } }, "binary<=": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) <= t(r, u, f, e), i ? { value: r } : r } }, "binary>=": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) >= t(r, u, f, e), i ? { value: r } : r } }, "binary&&": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) && t(r, u, f, e), i ? { value: r } : r } }, "binary||": function (n, t, i) { return function (r, u, f, e) { return r = n(r, u, f, e) || t(r, u, f, e), i ? { value: r } : r } }, "ternary?:": function (n, t, i, r) { return function (u, f, e, o) { return u = n(u, f, e, o) ? t(u, f, e, o) : i(u, f, e, o), r ? { value: u } : u } }, value: function (n, t) { return function () { return t ? { context: void 0, name: void 0, value: n } : n } }, identifier: function (n, t, i) { return function (r, u) { return r = u && n in u ? u : r, i && 1 !== i && r && null == r[n] && (r[n] = {}), u = r ? r[n] : void 0, t ? { context: r, name: n, value: u } : u } }, computedMember: function (n, t, i, r) { return function (u, f, e, o) { var s = n(u, f, e, o), h, c; return null != s && (h = t(u, f, e, o), h += "", r && 1 !== r && s && !s[h] && (s[h] = {}), c = s[h]), i ? { context: s, name: h, value: c } : c } }, nonComputedMember: function (n, t, i, r) { return function (u, f, e, o) { return u = n(u, f, e, o), r && 1 !== r && u && null == u[t] && (u[t] = {}), f = null != u ? u[t] : void 0, i ? { context: u, name: t, value: f } : f } }, inputs: function (n, t) { return function (i, r, u, f) { return f ? f[t] : n(i, r, u) } } }; oe.prototype = { constructor: oe, parse: function (n) { n = this.ast.ast(n); var t = this.astCompiler.compile(n); return t.literal = 0 === n.body.length || 1 === n.body.length && (n.body[0].expression.type === i.Literal || n.body[0].expression.type === i.ArrayExpression || n.body[0].expression.type === i.ObjectExpression), t.constant = n.constant, t } }; var ui = l("$sce"), ct = { HTML: "html", CSS: "css", URL: "url", RESOURCE_URL: "resourceUrl", JS: "js" }, uo = /_([a-z])/g, sw = l("$compile"), nt = n.document.createElement("a"), lc = ti(n.location.href); uh.$inject = ["$document"]; fh.$inject = ["$provide"]; var ac = 22, vc = ".", fo = "0"; eh.$inject = ["$locale"]; oh.$inject = ["$locale"]; var hw = { yyyy: g("FullYear", 4, 0, !1, !0), yy: g("FullYear", 2, 0, !0, !0), y: g("FullYear", 1, 0, !1, !0), MMMM: wr("Month"), MMM: wr("Month", !0), MM: g("Month", 2, 1), M: g("Month", 1, 1), LLLL: wr("Month", !1, !0), dd: g("Date", 2), d: g("Date", 1), HH: g("Hours", 2), H: g("Hours", 1), hh: g("Hours", 2, -12), h: g("Hours", 1, -12), mm: g("Minutes", 2), m: g("Minutes", 1), ss: g("Seconds", 2), s: g("Seconds", 1), sss: g("Milliseconds", 3), EEEE: wr("Day"), EEE: wr("Day", !0), a: function (n, t) { return 12 > n.getHours() ? t.AMPMS[0] : t.AMPMS[1] }, Z: function (n, t, i) { return n = -1 * i, (0 <= n ? "+" : "") + (yu(Math[0 < n ? "floor" : "ceil"](n / 60), 2) + yu(Math.abs(n % 60), 2)) }, ww: ch(2), w: ch(1), G: ce, GG: ce, GGG: ce, GGGG: function (n, t) { return 0 >= n.getFullYear() ? t.ERANAMES[0] : t.ERANAMES[1] } }, cw = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/, lw = /^-?\d+$/; lh.$inject = ["$locale"]; yc = ot(a); pc = ot(ku); ah.$inject = ["$parse"]; wc = ot({ restrict: "E", compile: function (n, t) { if (!t.href && !t.xlinkHref) return function (n, t) { if ("a" === t[0].nodeName.toLowerCase()) { var i = "[object SVGAnimatedString]" === ut.call(t.prop("href")) ? "xlink:href" : "href"; t.on("click", function (n) { t.attr(i) || n.preventDefault() }) } } } }); dr = {}; t(tf, function (n, t) { function r(n, r, u) { n.$watch(u[i], function (n) { u.$set(t, !!n) }) } if ("multiple" !== n) { var i = yt("ng-" + t), u = r; "checked" === n && (u = function (n, t, u) { u.ngModel !== u[i] && r(n, t, u) }); dr[i] = function () { return { restrict: "A", priority: 100, link: u } } } }); t(no, function (n, t) { dr[t] = function () { return { priority: 100, link: function (n, i, r) { if ("ngPattern" === t && "/" === r.ngPattern.charAt(0) && (i = r.ngPattern.match(vy))) { r.$set("ngPattern", new RegExp(i[1], i[2])); return } n.$watch(r[t], function (n) { r.$set(t, n) }) } } } }); t(["src", "srcset", "href"], function (n) { var t = yt("ng-" + n); dr[t] = function () { return { priority: 99, link: function (i, r, u) { var e = n, f = n; "href" === n && "[object SVGAnimatedString]" === ut.call(r.prop("href")) && (f = "xlinkHref", u.$attr[f] = "xlink:href", e = null); u.$observe(t, function (t) { t ? (u.$set(f, t), wt && e && r.prop(e, u[f])) : "href" === n && u.$set(f, null) }) } } } }); gr = { $addControl: o, $$renameControl: function (n, t) { n.$name = t }, $removeControl: o, $setValidity: o, $setDirty: o, $setPristine: o, $setSubmitted: o }; pu.$inject = ["$element", "$attrs", "$scope", "$animate", "$interpolate"]; pu.prototype = { $rollbackViewValue: function () { t(this.$$controls, function (n) { n.$rollbackViewValue() }) }, $commitViewValue: function () { t(this.$$controls, function (n) { n.$commitViewValue() }) }, $addControl: function (n) { ai(n.$name, "input"); this.$$controls.push(n); n.$name && (this[n.$name] = n); n.$$parentForm = this }, $$renameControl: function (n, t) { var i = n.$name; this[i] === n && delete this[i]; this[t] = n; n.$name = t }, $removeControl: function (n) { n.$name && this[n.$name] === n && delete this[n.$name]; t(this.$pending, function (t, i) { this.$setValidity(i, null, n) }, this); t(this.$error, function (t, i) { this.$setValidity(i, null, n) }, this); t(this.$$success, function (t, i) { this.$setValidity(i, null, n) }, this); er(this.$$controls, n); n.$$parentForm = gr }, $setDirty: function () { this.$$animate.removeClass(this.$$element, tr); this.$$animate.addClass(this.$$element, ef); this.$dirty = !0; this.$pristine = !1; this.$$parentForm.$setDirty() }, $setPristine: function () { this.$$animate.setClass(this.$$element, tr, ef + " ng-submitted"); this.$dirty = !1; this.$pristine = !0; this.$submitted = !1; t(this.$$controls, function (n) { n.$setPristine() }) }, $setUntouched: function () { t(this.$$controls, function (n) { n.$setUntouched() }) }, $setSubmitted: function () { this.$$animate.addClass(this.$$element, "ng-submitted"); this.$submitted = !0; this.$$parentForm.$setSubmitted() } }; yh({ clazz: pu, set: function (n, t, i) { var r = n[t]; r ? -1 === r.indexOf(i) && r.push(i) : n[t] = [i] }, unset: function (n, t, i) { var r = n[t]; r && (er(r, i), 0 === r.length && delete n[t]) } }); var bc = function (n) { return ["$timeout", "$parse", function (t, i) { function r(n) { return "" === n ? i('this[""]').assign : i(n).assign || o } return { name: "form", restrict: n ? "EAC" : "E", require: ["form", "^^?form"], controller: pu, compile: function (i, u) { i.addClass(tr).addClass(nu); var f = u.name ? "name" : n && u.ngForm ? "ngForm" : !1; return { pre: function (n, i, u, e) { var s = e[0], c, h; if (!("action" in u)) { c = function (t) { n.$apply(function () { s.$commitViewValue(); s.$setSubmitted() }); t.preventDefault() }; i[0].addEventListener("submit", c); i.on("$destroy", function () { t(function () { i[0].removeEventListener("submit", c) }, 0, !1) }) } (e[1] || s.$$parentForm).$addControl(s); h = f ? r(s.$name) : o; f && (h(n, s), u.$observe(f, function (t) { s.$name !== t && (h(n, void 0), s.$$parentForm.$$renameControl(s, t), h = r(s.$name), h(n, s)) })); i.on("$destroy", function () { s.$$parentForm.$removeControl(s); h(n, void 0); v(s, gr) }) } } } } }] }, aw = bc(), vw = bc(!0), yw = /^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/, pw = /^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i, ww = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/, bw = /^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/, kc = /^(\d{4,})-(\d{2})-(\d{2})$/, dc = /^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, eo = /^(\d{4,})-W(\d\d)$/, gc = /^(\d{4,})-(\d\d)$/, nl = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, tl = p(); t(["date", "datetime-local", "month", "time", "week"], function (n) { tl[n] = !0 }); var il = { text: function (n, t, i, r, u, f) { pi(n, t, i, r, u, f); ae(r) }, date: br("date", kc, wu(kc, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"), "datetime-local": br("datetimelocal", dc, wu(dc, "yyyy MM dd HH mm ss sss".split(" ")), "yyyy-MM-ddTHH:mm:ss.sss"), time: br("time", nl, wu(nl, ["HH", "mm", "ss", "sss"]), "HH:mm:ss.sss"), week: br("week", eo, function (n, t) { var i; if (rt(n)) return n; if (h(n) && (eo.lastIndex = 0, i = eo.exec(n), i)) { var u = +i[1], r = +i[2], f = i = 0, e = 0, o = 0, s = hh(u), r = 7 * (r - 1); return t && (i = t.getHours(), f = t.getMinutes(), e = t.getSeconds(), o = t.getMilliseconds()), new Date(u, 0, s.getDate() + r, i, f, e, o) } return NaN }, "yyyy-Www"), month: br("month", gc, wu(gc, ["yyyy", "MM"]), "yyyy-MM"), number: function (n, t, i, f, e, o) { var s, h, c; ve(n, t, i, f); wh(f); pi(n, t, i, f, e, o); (r(i.min) || i.ngMin) && (f.$validators.min = function (n) { return f.$isEmpty(n) || u(s) || n >= s }, i.$observe("min", function (n) { s = wi(n); f.$validate() })); (r(i.max) || i.ngMax) && (f.$validators.max = function (n) { return f.$isEmpty(n) || u(h) || n <= h }, i.$observe("max", function (n) { h = wi(n); f.$validate() })); (r(i.step) || i.ngStep) && (f.$validators.step = function (n, t) { return f.$isEmpty(t) || u(c) || bh(t, s || 0, c) }, i.$observe("step", function (n) { c = wi(n); f.$validate() })) }, url: function (n, t, i, r, u, f) { pi(n, t, i, r, u, f); ae(r); r.$$parserName = "url"; r.$validators.url = function (n, t) { var i = n || t; return r.$isEmpty(i) || pw.test(i) } }, email: function (n, t, i, r, u, f) { pi(n, t, i, r, u, f); ae(r); r.$$parserName = "email"; r.$validators.email = function (n, t) { var i = n || t; return r.$isEmpty(i) || ww.test(i) } }, radio: function (n, t, i, r) { var f = !i.ngTrim || "false" !== y(i.ngTrim); u(i.name) && t.attr("name", ++du); t.on("click", function (n) { var u; t[0].checked && (u = i.value, f && (u = y(u)), r.$setViewValue(u, n && n.type)) }); r.$render = function () { var n = i.value; f && (n = y(n)); t[0].checked = n === r.$viewValue }; i.$observe("value", r.$render) }, range: function (n, t, i, f, e, o) { function l(n, r) { t.attr(n, i[n]); i.$observe(n, r) } function p(n) { h = wi(n); it(f.$modelValue) || (s ? (n = t.val(), h > n && (n = h, t.val(n)), f.$setViewValue(n)) : f.$validate()) } function w(n) { c = wi(n); it(f.$modelValue) || (s ? (n = t.val(), c < n && (t.val(c), n = c < h ? h : c), f.$setViewValue(n)) : f.$validate()) } function b(n) { a = wi(n); it(f.$modelValue) || (s && f.$viewValue !== t.val() ? f.$setViewValue(t.val()) : f.$validate()) } var y; ve(n, t, i, f); wh(f); pi(n, t, i, f, e, o); var s = f.$$hasNativeValidators && "range" === t[0].type, h = s ? 0 : void 0, c = s ? 100 : void 0, a = s ? 1 : void 0, v = t[0].validity; n = r(i.min); e = r(i.max); o = r(i.step); y = f.$render; f.$render = s && r(v.rangeUnderflow) && r(v.rangeOverflow) ? function () { y(); f.$setViewValue(t.val()) } : y; n && (f.$validators.min = s ? function () { return !0 } : function (n, t) { return f.$isEmpty(t) || u(h) || t >= h }, l("min", p)); e && (f.$validators.max = s ? function () { return !0 } : function (n, t) { return f.$isEmpty(t) || u(c) || t <= c }, l("max", w)); o && (f.$validators.step = s ? function () { return !v.stepMismatch } : function (n, t) { return f.$isEmpty(t) || u(a) || bh(t, h || 0, a) }, l("step", b)) }, checkbox: function (n, t, i, r, u, f, e, o) { var s = kh(o, n, "ngTrueValue", i.ngTrueValue, !0), h = kh(o, n, "ngFalseValue", i.ngFalseValue, !1); t.on("click", function (n) { r.$setViewValue(t[0].checked, n && n.type) }); r.$render = function () { t[0].checked = r.$viewValue }; r.$isEmpty = function (n) { return !1 === n }; r.$formatters.push(function (n) { return st(n, s) }); r.$parsers.push(function (n) { return n ? s : h }) }, hidden: o, button: o, submit: o, reset: o, file: o }, rl = ["$browser", "$sniffer", "$filter", "$parse", function (n, t, i, r) { return { restrict: "E", require: ["?ngModel"], link: { pre: function (u, f, e, o) { o[0] && (il[a(e.type)] || il.text)(u, f, e, o[0], t, n, i, r) } } } }], kw = /^(true|false|\d+)$/, dw = function () { function n(n, t, i) { var u = r(i) ? i : 9 === wt ? "" : null; n.prop("value", u); t.$set("value", i) } return { restrict: "A", priority: 100, compile: function (t, i) { return kw.test(i.ngValue) ? function (t, i, r) { t = t.$eval(r.ngValue); n(i, r, t) } : function (t, i, r) { t.$watch(r.ngValue, function (t) { n(i, r, t) }) } } } }, gw = ["$compile", function (n) { return { restrict: "AC", compile: function (t) { return n.$$addBindingClass(t), function (t, i, r) { n.$$addBindingInfo(i, r.ngBind); i = i[0]; t.$watch(r.ngBind, function (n) { i.textContent = wf(n) }) } } } }], nb = ["$interpolate", "$compile", function (n, t) { return { compile: function (i) { return t.$$addBindingClass(i), function (i, r, f) { i = n(r.attr(f.$attr.ngBindTemplate)); t.$$addBindingInfo(r, i.expressions); r = r[0]; f.$observe("ngBindTemplate", function (n) { r.textContent = u(n) ? "" : n }) } } } }], tb = ["$sce", "$parse", "$compile", function (n, t, i) { return { restrict: "A", compile: function (r, u) { var f = t(u.ngBindHtml), e = t(u.ngBindHtml, function (t) { return n.valueOf(t) }); return i.$$addBindingClass(r), function (t, r, u) { i.$$addBindingInfo(r, u.ngBindHtml); t.$watch(e, function () { var i = f(t); r.html(n.getTrustedHtml(i) || "") }) } } } }], ib = ot({ restrict: "A", require: "ngModel", link: function (n, t, i, r) { r.$viewChangeListeners.push(function () { n.$eval(i.ngChange) }) } }), rb = pe("", !0), ub = pe("Odd", 0), fb = pe("Even", 1), eb = yi({ compile: function (n, t) { t.$set("ngCloak", void 0); n.removeClass("ng-cloak") } }), ob = [function () { return { restrict: "A", scope: !0, controller: "@", priority: 500 } }], ul = {}, sb = { blur: !0, focus: !0 }; t("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function (n) { var t = yt("ng-" + n); ul[t] = ["$parse", "$rootScope", function (i, r) { return { restrict: "A", compile: function (u, f) { var e = i(f[t]); return function (t, i) { i.on(n, function (i) { var u = function () { e(t, { $event: i }) }; sb[n] && r.$$phase ? t.$evalAsync(u) : t.$apply(u) }) } } } }] }); var hb = ["$animate", "$compile", function (n, t) { return { multiElement: !0, transclude: "element", priority: 600, terminal: !0, restrict: "A", $$tlb: !0, link: function (i, r, u, f, e) { var h, s, o; i.$watch(u.ngIf, function (i) { i ? s || e(function (i, f) { s = f; i[i.length++] = t.$$createComment("end ngIf", u.ngIf); h = { clone: i }; n.enter(i, r.parent(), r) }) : (o && (o.remove(), o = null), s && (s.$destroy(), s = null), h && (o = ru(h.clone), n.leave(o).done(function (n) { !1 !== n && (o = null) }), h = null)) }) } } }], cb = ["$templateRequest", "$anchorScroll", "$animate", function (n, t, i) { return { restrict: "ECA", priority: 400, terminal: !0, transclude: "element", controller: ft.noop, compile: function (u, f) { var o = f.ngInclude || f.src, s = f.onload || "", e = f.autoscroll; return function (u, f, h, c, l) { var p = 0, a, v, y, w = function () { v && (v.remove(), v = null); a && (a.$destroy(), a = null); y && (i.leave(y).done(function (n) { !1 !== n && (v = null) }), v = y, y = null) }; u.$watch(o, function (o) { var v = function (n) { !1 !== n && r(e) && (!e || u.$eval(e)) && t() }, h = ++p; o ? (n(o, !0).then(function (n) { if (!u.$$destroyed && h === p) { var t = u.$new(); c.template = n; n = l(t, function (n) { w(); i.enter(n, null, f).done(v) }); a = t; y = n; a.$emit("$includeContentLoaded", o); u.$eval(s) } }, function () { u.$$destroyed || h !== p || (w(), u.$emit("$includeContentError", o)) }), u.$emit("$includeContentRequested", o)) : (w(), c.template = null) }) } } } }], lb = ["$compile", function (t) { return { restrict: "ECA", priority: -400, require: "ngInclude", link: function (i, r, u, f) { ut.call(r[0]).match(/SVG/) ? (r.empty(), t(ko(f.template, n.document).childNodes)(i, function (n) { r.append(n) }, { futureParentElement: r })) : (r.html(f.template), t(r.contents())(i)) } } }], ab = yi({ priority: 450, compile: function () { return { pre: function (n, t, i) { n.$eval(i.ngInit) } } } }), vb = function () { return { restrict: "A", priority: 100, require: "ngModel", link: function (n, i, r, f) { var e = r.ngList || ", ", o = "false" !== r.ngTrim, s = o ? y(e) : e; f.$parsers.push(function (n) { if (!u(n)) { var i = []; return n && t(n.split(s), function (n) { n && i.push(o ? y(n) : n) }), i } }); f.$formatters.push(function (n) { if (c(n)) return n.join(e) }); f.$isEmpty = function (n) { return !n || !n.length } } } }, nu = "ng-valid", fl = "ng-invalid", tr = "ng-pristine", ef = "ng-dirty", tu = l("ngModel"); bu.$inject = "$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "); bu.prototype = { $$initGetterSetters: function () { if (this.$options.getOption("getterSetter")) { var n = this.$$parse(this.$$attr.ngModel + "()"), t = this.$$parse(this.$$attr.ngModel + "($$$p)"); this.$$ngModelGet = function (t) { var i = this.$$parsedNgModel(t); return f(i) && (i = n(t)), i }; this.$$ngModelSet = function (n, i) { f(this.$$parsedNgModel(n)) ? t(n, { $$$p: i }) : this.$$parsedNgModelAssign(n, i) } } else if (!this.$$parsedNgModel.assign) throw tu("nonassign", this.$$attr.ngModel, at(this.$$element)); }, $render: o, $isEmpty: function (n) { return u(n) || "" === n || null === n || n !== n }, $$updateEmptyClasses: function (n) { this.$isEmpty(n) ? (this.$$animate.removeClass(this.$$element, "ng-not-empty"), this.$$animate.addClass(this.$$element, "ng-empty")) : (this.$$animate.removeClass(this.$$element, "ng-empty"), this.$$animate.addClass(this.$$element, "ng-not-empty")) }, $setPristine: function () { this.$dirty = !1; this.$pristine = !0; this.$$animate.removeClass(this.$$element, ef); this.$$animate.addClass(this.$$element, tr) }, $setDirty: function () { this.$dirty = !0; this.$pristine = !1; this.$$animate.removeClass(this.$$element, tr); this.$$animate.addClass(this.$$element, ef); this.$$parentForm.$setDirty() }, $setUntouched: function () { this.$touched = !1; this.$untouched = !0; this.$$animate.setClass(this.$$element, "ng-untouched", "ng-touched") }, $setTouched: function () { this.$touched = !0; this.$untouched = !1; this.$$animate.setClass(this.$$element, "ng-touched", "ng-untouched") }, $rollbackViewValue: function () { this.$$timeout.cancel(this.$$pendingDebounce); this.$viewValue = this.$$lastCommittedViewValue; this.$render() }, $validate: function () { if (!it(this.$modelValue)) { var i = this.$$lastCommittedViewValue, t = this.$$rawModelValue, r = this.$valid, u = this.$modelValue, f = this.$options.getOption("allowInvalid"), n = this; this.$$runValidators(t, i, function (i) { f || r === i || (n.$modelValue = i ? t : void 0, n.$modelValue !== u && n.$$writeModelToScope()) }) } }, $$runValidators: function (n, i, r) { function l() { var r = !0; return t(e.$validators, function (t, u) { var f = Boolean(t(n, i)); r = r && f; s(u, f) }), r ? !0 : (t(e.$asyncValidators, function (n, t) { s(t, null) }), !1) } function a() { var r = [], u = !0; t(e.$asyncValidators, function (t, e) { var o = t(n, i); if (!o || !f(o.then)) throw tu("nopromise", o); s(e, void 0); r.push(o.then(function () { s(e, !0) }, function () { u = !1; s(e, !1) })) }); r.length ? e.$$q.all(r).then(function () { h(u) }, o) : h(!0) } function s(n, t) { c === e.$$currentValidationRunId && e.$setValidity(n, t) } function h(n) { c === e.$$currentValidationRunId && r(n) } this.$$currentValidationRunId++; var c = this.$$currentValidationRunId, e = this; (function () { var n = e.$$parserName || "parse"; if (u(e.$$parserValid)) s(n, null); else return e.$$parserValid || (t(e.$validators, function (n, t) { s(t, null) }), t(e.$asyncValidators, function (n, t) { s(t, null) })), s(n, e.$$parserValid), e.$$parserValid; return !0 })() ? l() ? a() : h(!1) : h(!1) }, $commitViewValue: function () { var n = this.$viewValue; this.$$timeout.cancel(this.$$pendingDebounce); (this.$$lastCommittedViewValue !== n || "" === n && this.$$hasNativeValidators) && (this.$$updateEmptyClasses(n), this.$$lastCommittedViewValue = n, this.$pristine && this.$setDirty(), this.$$parseAndValidate()) }, $$parseAndValidate: function () { var n = this.$$lastCommittedViewValue, t = this, i, r, f; if (this.$$parserValid = u(n) ? void 0 : !0) for (i = 0; i < this.$parsers.length; i++)if (n = this.$parsers[i](n), u(n)) { this.$$parserValid = !1; break } it(this.$modelValue) && (this.$modelValue = this.$$ngModelGet(this.$$scope)); r = this.$modelValue; f = this.$options.getOption("allowInvalid"); this.$$rawModelValue = n; f && (this.$modelValue = n, t.$modelValue !== r && t.$$writeModelToScope()); this.$$runValidators(n, this.$$lastCommittedViewValue, function (i) { f || (t.$modelValue = i ? n : void 0, t.$modelValue !== r && t.$$writeModelToScope()) }) }, $$writeModelToScope: function () { this.$$ngModelSet(this.$$scope, this.$modelValue); t(this.$viewChangeListeners, function (n) { try { n() } catch (t) { this.$$exceptionHandler(t) } }, this) }, $setViewValue: function (n, t) { this.$viewValue = n; this.$options.getOption("updateOnDefault") && this.$$debounceViewValueCommit(t) }, $$debounceViewValueCommit: function (n) { var t = this.$options.getOption("debounce"), i; d(t[n]) ? t = t[n] : d(t["default"]) && (t = t["default"]); this.$$timeout.cancel(this.$$pendingDebounce); i = this; 0 < t ? this.$$pendingDebounce = this.$$timeout(function () { i.$commitViewValue() }, t) : this.$$scope.$root.$$phase ? this.$commitViewValue() : this.$$scope.$apply(function () { i.$commitViewValue() }) }, $overrideModelOptions: function (n) { this.$options = this.$options.createChild(n) } }; yh({ clazz: bu, set: function (n, t) { n[t] = !0 }, unset: function (n, t) { delete n[t] } }); el = ["$rootScope", function (n) { return { restrict: "A", require: ["ngModel", "^?form", "^?ngModelOptions"], controller: bu, priority: 1, compile: function (t) { return t.addClass(tr).addClass("ng-untouched").addClass(nu), { pre: function (n, t, i, r) { var u = r[0]; t = r[1] || u.$$parentForm; (r = r[2]) && (u.$options = r.$options); u.$$initGetterSetters(); t.$addControl(u); i.$observe("name", function (n) { u.$name !== n && u.$$parentForm.$$renameControl(u, n) }); n.$on("$destroy", function () { u.$$parentForm.$removeControl(u) }) }, post: function (t, i, r, u) { function e() { f.$setTouched() } var f = u[0]; if (f.$options.getOption("updateOn")) i.on(f.$options.getOption("updateOn"), function (n) { f.$$debounceViewValueCommit(n && n.type) }); i.on("blur", function () { f.$touched || (n.$$phase ? t.$evalAsync(e) : t.$apply(e)) }) } } } } }]; ol = /(\s+|^)default(\s+|$)/; we.prototype = { getOption: function (n) { return this.$$options[n] }, createChild: function (n) { var i = !1; return n = v({}, n), t(n, function (t, r) { "$inherit" === t ? "*" === r ? i = !0 : (n[r] = this.$$options[r], "updateOn" === r && (n.updateOnDefault = this.$$options.updateOnDefault)) : "updateOn" === r && (n.updateOnDefault = !1, n[r] = y(t.replace(ol, function () { return n.updateOnDefault = !0, " " }))) }, this), i && (delete n["*"], dh(n, this.$$options)), dh(n, of.$$options), new we(n) } }; of = new we({ updateOn: "", updateOnDefault: !0, debounce: 0, getterSetter: !1, allowInvalid: !1, timezone: null }); var yb = function () { function n(n, t) { this.$$attrs = n; this.$$scope = t } return n.$inject = ["$attrs", "$scope"], n.prototype = { $onInit: function () { var n = this.parentCtrl ? this.parentCtrl.$options : of, t = this.$$scope.$eval(this.$$attrs.ngModelOptions); this.$options = n.createChild(t) } }, { restrict: "A", priority: 10, require: { parentCtrl: "?^^ngModelOptions" }, bindToController: !0, controller: n } }, pb = yi({ terminal: !0, priority: 1e3 }), wb = l("ngOptions"), bb = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, kb = ["$compile", "$document", "$parse", function (i, u, f) { function h(n, t, i) { function w(n, t, i, r, u) { this.selectValue = n; this.viewValue = t; this.label = i; this.group = r; this.disabled = u } function l(n) { var t, i; if (!s && dt(n)) t = n; else { t = []; for (i in n) n.hasOwnProperty(i) && "$" !== i.charAt(0) && t.push(i) } return t } var r = n.match(bb), o, s, u; if (!r) throw wb("iexp", n, at(t)); o = r[5] || r[7]; s = r[6]; n = / as /.test(r[0]) && r[1]; u = r[9]; t = f(r[2] ? r[1] : o); var b = n && f(n) || t, k = u && f(u), h = u ? function (n, t) { return k(i, t) } : function (n) { return vi(n) }, a = function (n, t) { return h(n, c(n, t)) }, v = f(r[2] || r[1]), d = f(r[3] || ""), y = f(r[4] || ""), p = f(r[8]), e = {}, c = s ? function (n, t) { return e[s] = t, e[o] = n, e } : function (n) { return e[o] = n, e }; return { trackBy: u, getTrackByValue: a, getWatchables: f(p, function (n) { var f = []; n = n || []; for (var o = l(n), s = o.length, e = 0; e < s; e++) { var t = n === o ? e : o[e], u = n[t], t = c(u, t), u = h(u, t); f.push(u); (r[2] || r[1]) && (u = v(i, t), f.push(u)); r[4] && (t = y(i, t), f.push(t)) } return f }), getOptions: function () { for (var k = [], e = {}, o = p(i) || [], s = l(o), g = s.length, f = 0; f < g; f++) { var t = o === s ? f : s[f], n = c(o[t], t), r = b(i, n), t = h(r, n), nt = v(i, n), tt = d(i, n), n = y(i, n), r = new w(t, r, nt, tt, n); k.push(r); e[t] = r } return { items: k, selectValueMap: e, getOptionFromViewValue: function (n) { return e[a(n)] }, getViewValueFromOption: function (n) { return u ? ni(n.viewValue) : n.viewValue } } } } } var s = n.document.createElement("option"), l = n.document.createElement("optgroup"); return { restrict: "A", terminal: !0, require: ["select", "ngModel"], link: { pre: function (n, t, i, r) { r[0].registerOption = o }, post: function (n, f, o, a) { function it(n) { var t = (n = y.getOptionFromViewValue(n)) && n.element; return t && !t.selected && (t.selected = !0), n } function rt(n, t) { n.element = t; t.disabled = n.disabled; n.label !== t.label && (t.label = n.label, t.textContent = n.label); t.value = n.selectValue } function g() { var i = y && v.readValue(), n, t, u; if (y) for (n = y.items.length - 1; 0 <= n; n--)t = y.items[n], r(t.group) ? lu(t.element.parentNode) : lu(t.element); y = w.getOptions(); u = {}; k && f.prepend(v.emptyOption); y.items.forEach(function (n) { var t, i; r(n.group) ? (t = u[n.group], t || (t = l.cloneNode(!1), d.appendChild(t), t.label = null === n.group ? "null" : n.group, u[n.group] = t), i = s.cloneNode(!1)) : (t = d, i = s.cloneNode(!1)); t.appendChild(i); rt(n, i) }); f[0].appendChild(d); p.$render(); p.$isEmpty(i) || (n = v.readValue(), (w.trackBy || nt ? st(i, n) : i === n) || (p.$setViewValue(n), p.$render())) } var v = a[0], p = a[1], nt = o.multiple, b, tt, k, y, w, d; for (a = 0, b = f.children(), tt = b.length; a < tt; a++)if ("" === b[a].value) { v.hasEmptyOption = !0; v.emptyOption = b.eq(a); break } k = !!v.emptyOption; e(s.cloneNode(!1)).val("?"); w = h(o.ngOptions, f, n); d = u[0].createDocumentFragment(); v.generateUnknownOptionValue = function () { return "?" }; nt ? (v.writeValue = function (n) { var t = n && n.map(it) || []; y.items.forEach(function (n) { n.element.selected && -1 === Array.prototype.indexOf.call(t, n) && (n.element.selected = !1) }) }, v.readValue = function () { var i = f.val() || [], n = []; return t(i, function (t) { (t = y.selectValueMap[t]) && !t.disabled && n.push(y.getViewValueFromOption(t)) }), n }, w.trackBy && n.$watchCollection(function () { if (c(p.$viewValue)) return p.$viewValue.map(function (n) { return w.getTrackByValue(n) }) }, function () { p.$render() })) : (v.writeValue = function (n) { var i = y.selectValueMap[f.val()], t = y.getOptionFromViewValue(n); i && i.element.removeAttribute("selected"); t ? (f[0].value !== t.selectValue && (v.removeUnknownOption(), v.unselectEmptyOption(), f[0].value = t.selectValue, t.element.selected = !0), t.element.setAttribute("selected", "selected")) : k ? v.selectEmptyOption() : v.unknownOption.parent().length ? v.updateUnknownOption(n) : v.renderUnknownOption(n) }, v.readValue = function () { var n = y.selectValueMap[f.val()]; return n && !n.disabled ? (v.unselectEmptyOption(), v.removeUnknownOption(), y.getViewValueFromOption(n)) : null }, w.trackBy && n.$watch(function () { return w.getTrackByValue(p.$viewValue) }, function () { p.$render() })); k && (v.emptyOption.remove(), i(v.emptyOption)(n), 8 === v.emptyOption[0].nodeType ? (v.hasEmptyOption = !1, v.registerOption = function (n, t) { "" === t.val() && (v.hasEmptyOption = !0, v.emptyOption = t, v.emptyOption.removeClass("ng-scope"), p.$render(), t.on("$destroy", function () { v.hasEmptyOption = !1; v.emptyOption = void 0 })) }) : v.emptyOption.removeClass("ng-scope")); f.empty(); g(); n.$watchCollection(w.getWatchables, g) } } } }], db = ["$locale", "$interpolate", "$log", function (n, i, r) { var f = /{}/g, e = /^when(Minus)?(.+)$/; return { link: function (s, h, c) { function p(n) { h.text(n || "") } var w = c.count, b = c.$attr.when && h.attr(c.$attr.when), k = c.offset || 0, l = s.$eval(b) || {}, d = {}, g = i.startSymbol(), nt = i.endSymbol(), tt = g + w + "-" + k + nt, v = ft.noop, y; t(c, function (n, t) { var i = e.exec(t); i && (i = (i[1] ? "-" : "") + a(i[2]), l[i] = h.attr(c.$attr[t])) }); t(l, function (n, t) { d[t] = i(n.replace(f, tt)) }); s.$watch(w, function (t) { var i = parseFloat(t), f = it(i); f || i in l || (i = n.pluralCat(i - k)); i === y || f && it(y) || (v(), f = d[i], u(f) ? (null != t && r.debug("ngPluralize: no rule defined for '" + i + "' in " + b), v = o, p()) : v = s.$watch(f, p), y = i) }) } } }], gb = ["$parse", "$animate", "$compile", function (n, i, r) { var u = l("ngRepeat"), f = function (n, t, i, r, u, f, e) { n[i] = r; u && (n[u] = f); n.$index = t; n.$first = 0 === t; n.$last = t === e - 1; n.$middle = !(n.$first || n.$last); n.$odd = !(n.$even = 0 == (t & 1)) }; return { restrict: "A", multiElement: !0, transclude: "element", priority: 1e3, terminal: !0, $$tlb: !0, compile: function (e, o) { var a = o.ngRepeat, nt = r.$$createComment("end ngRepeat", a), s = a.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/), v, c, y, w, d, g, l; if (!s) throw u("iexp", a); var b = s[1], tt = s[2], h = s[3], k = s[4], s = b.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/); if (!s) throw u("iidexp", b); if (v = s[3] || s[1], c = s[2], h && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(h) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(h))) throw u("badident", h); return l = { $id: vi }, k ? y = n(k) : (d = function (n, t) { return vi(t) }, g = function (n) { return n }), function (n, r, e, o, s) { y && (w = function (t, i, r) { return c && (l[c] = t), l[v] = i, l.$index = r, y(n, l) }); var b = p(); n.$watchCollection(tt, function (e) { var o, et, ot = r[0], tt, st = p(), ut, rt, ft, y, it, l, k; if (h && (n[h] = e), dt(e)) it = e, et = w || d; else for (k in et = w || g, it = [], e) pt.call(e, k) && "$" !== k.charAt(0) && it.push(k); for (ut = it.length, k = Array(ut), o = 0; o < ut; o++)if (rt = e === it ? o : it[o], ft = e[rt], y = et(rt, ft, o), b[y]) l = b[y], delete b[y], st[y] = l, k[o] = l; else { if (st[y]) throw t(k, function (n) { n && n.scope && (b[n.id] = n) }), u("dupes", a, y, ft); k[o] = { id: y, scope: void 0, clone: void 0 }; st[y] = !0 } for (tt in b) { if (l = b[tt], y = ru(l.clone), i.leave(y), y[0].parentNode) for (o = 0, et = y.length; o < et; o++)y[o].$$NG_REMOVED = !0; l.scope.$destroy() } for (o = 0; o < ut; o++)if (rt = e === it ? o : it[o], ft = e[rt], l = k[o], l.scope) { tt = ot; do tt = tt.nextSibling; while (tt && tt.$$NG_REMOVED); l.clone[0] !== tt && i.move(ru(l.clone), null, ot); ot = l.clone[l.clone.length - 1]; f(l.scope, o, v, ft, c, rt, ut) } else s(function (n, t) { l.scope = t; var r = nt.cloneNode(!1); n[n.length++] = r; i.enter(n, null, ot); ot = r; l.clone = n; st[l.id] = l; f(l.scope, o, v, ft, c, rt, ut) }); b = st }) } } } }], nk = ["$animate", function (n) { return { restrict: "A", multiElement: !0, link: function (t, i, r) { t.$watch(r.ngShow, function (t) { n[t ? "removeClass" : "addClass"](i, "ng-hide", { tempClasses: "ng-hide-animate" }) }) } } }], tk = ["$animate", function (n) { return { restrict: "A", multiElement: !0, link: function (t, i, r) { t.$watch(r.ngHide, function (t) { n[t ? "addClass" : "removeClass"](i, "ng-hide", { tempClasses: "ng-hide-animate" }) }) } } }], ik = yi(function (n, i, r) { n.$watch(r.ngStyle, function (n, r) { r && n !== r && t(r, function (n, t) { i.css(t, "") }); n && i.css(n) }, !0) }), rk = ["$animate", "$compile", function (n, i) { return { require: "ngSwitch", controller: ["$scope", function () { this.cases = {} }], link: function (r, u, f, e) { var c = [], h = [], o = [], s = [], l = function (n, t) { return function (i) { !1 !== i && n.splice(t, 1) } }; r.$watch(f.ngSwitch || f.on, function (r) { for (var u, f, a; o.length;)n.cancel(o.pop()); for (u = 0, f = s.length; u < f; ++u)a = ru(h[u].clone), s[u].$destroy(), (o[u] = n.leave(a)).done(l(o, u)); h.length = 0; s.length = 0; (c = e.cases["!" + r] || e.cases["?"]) && t(c, function (t) { t.transclude(function (r, u) { s.push(u); var f = t.element; r[r.length++] = i.$$createComment("end ngSwitchWhen"); h.push({ clone: r }); n.enter(r, f.parent(), f) }) }) }) } } }], uk = yi({ transclude: "element", priority: 1200, require: "^ngSwitch", multiElement: !0, link: function (n, i, r, u, f) { n = r.ngSwitchWhen.split(r.ngSwitchWhenSeparator).sort().filter(function (n, t, i) { return i[t - 1] !== n }); t(n, function (n) { u.cases["!" + n] = u.cases["!" + n] || []; u.cases["!" + n].push({ transclude: f, element: i }) }) } }), fk = yi({ transclude: "element", priority: 1200, require: "^ngSwitch", multiElement: !0, link: function (n, t, i, r, u) { r.cases["?"] = r.cases["?"] || []; r.cases["?"].push({ transclude: u, element: t }) } }), ek = l("ngTransclude"), ok = ["$compile", function (n) { return { restrict: "EAC", terminal: !0, compile: function (t) { var i = n(t.contents()); return t.empty(), function (n, t, r, u, f) { function e() { i(n, function (n) { t.append(n) }) } if (!f) throw ek("orphan", at(t)); r.ngTransclude === r.$attr.ngTransclude && (r.ngTransclude = ""); r = r.ngTransclude || r.ngTranscludeSlot; f(function (n, i) { var r, f, u; if (r = n.length) n: { for (r = 0, f = n.length; r < f; r++)if (u = n[r], u.nodeType !== ri || u.nodeValue.trim()) { r = !0; break n } r = void 0 } r ? t.append(n) : (e(), i.$destroy()) }, null, r); r && !f.isSlotFilled(r) && e() } } } }], sk = ["$templateCache", function (n) { return { restrict: "E", terminal: !0, compile: function (t, i) { "text/ng-template" === i.type && n.put(i.id, t[0].text) } } }], hk = { $setViewValue: o, $render: o }, ck = ["$element", "$scope", function (t, i) { function l() { h || (h = !0, i.$$postDigest(function () { h = !1; u.ngModelCtrl.$render() })) } function s(n) { c || (c = !0, i.$$postDigest(function () { i.$$destroyed || (c = !1, u.ngModelCtrl.$setViewValue(u.readValue()), n && u.ngModelCtrl.$render()) })) } var u = this, f = new rf, h, c; u.selectValueMap = {}; u.ngModelCtrl = hk; u.multiple = !1; u.unknownOption = e(n.document.createElement("option")); u.hasEmptyOption = !1; u.emptyOption = void 0; u.renderUnknownOption = function (n) { n = u.generateUnknownOptionValue(n); u.unknownOption.val(n); t.prepend(u.unknownOption); bi(u.unknownOption, !0); t.val(n) }; u.updateUnknownOption = function (n) { n = u.generateUnknownOptionValue(n); u.unknownOption.val(n); bi(u.unknownOption, !0); t.val(n) }; u.generateUnknownOptionValue = function (n) { return "? " + vi(n) + " ?" }; u.removeUnknownOption = function () { u.unknownOption.parent() && u.unknownOption.remove() }; u.selectEmptyOption = function () { u.emptyOption && (t.val(""), bi(u.emptyOption, !0)) }; u.unselectEmptyOption = function () { u.hasEmptyOption && u.emptyOption.removeAttr("selected") }; i.$on("$destroy", function () { u.renderUnknownOption = o }); u.readValue = function () { var n = t.val(), n = n in u.selectValueMap ? u.selectValueMap[n] : n; return u.hasOption(n) ? n : null }; u.writeValue = function (n) { var i = t[0].options[t[0].selectedIndex]; i && bi(e(i), !1); u.hasOption(n) ? (u.removeUnknownOption(), i = vi(n), t.val(i in u.selectValueMap ? i : n), bi(e(t[0].options[t[0].selectedIndex]), !0)) : null == n && u.emptyOption ? (u.removeUnknownOption(), u.selectEmptyOption()) : u.unknownOption.parent().length ? u.updateUnknownOption(n) : u.renderUnknownOption(n) }; u.addOption = function (n, t) { if (8 !== t[0].nodeType) { ai(n, '"option value"'); "" === n && (u.hasEmptyOption = !0, u.emptyOption = t); var i = f.get(n) || 0; f.set(n, i + 1); l() } }; u.removeOption = function (n) { var t = f.get(n); t && (1 === t ? (f.delete(n), "" === n && (u.hasEmptyOption = !1, u.emptyOption = void 0)) : f.set(n, t - 1)) }; u.hasOption = function (n) { return !!f.get(n) }; h = !1; c = !1; u.registerOption = function (n, t, i, f, e) { if (i.$attr.ngValue) { var o, h = NaN; i.$observe("value", function (n) { var i, f = t.prop("selected"); r(h) && (u.removeOption(o), delete u.selectValueMap[h], i = !0); h = vi(n); o = n; u.selectValueMap[h] = n; u.addOption(n, t); t.attr("value", h); i && f && s() }) } else f ? i.$observe("value", function (n) { u.readValue(); var i, f = t.prop("selected"); r(o) && (u.removeOption(o), i = !0); o = n; u.addOption(n, t); i && f && s() }) : e ? n.$watch(e, function (n, r) { i.$set("value", n); var f = t.prop("selected"); r !== n && u.removeOption(r); u.addOption(n, t); r && f && s() }) : u.addOption(i.value, t); i.$observe("disabled", function (n) { ("true" === n || n && t.prop("selected")) && (u.multiple ? s(!0) : (u.ngModelCtrl.$setViewValue(null), u.ngModelCtrl.$render())) }); t.on("$destroy", function () { var n = u.readValue(), t = i.value; u.removeOption(t); l(); (u.multiple && n && -1 !== n.indexOf(t) || n === t) && s(!0) }) } }], lk = function () { return { restrict: "E", require: ["select", "?ngModel"], controller: ck, priority: 1, link: { pre: function (n, i, r, u) { var f = u[0], s = u[1], c, h; s ? (f.ngModelCtrl = s, i.on("change", function () { f.removeUnknownOption(); n.$apply(function () { s.$setViewValue(f.readValue()) }) }), r.multiple) && (f.multiple = !0, f.readValue = function () { var n = []; return t(i.find("option"), function (t) { t.selected && !t.disabled && (t = t.value, n.push(t in f.selectValueMap ? f.selectValueMap[t] : t)) }), n }, f.writeValue = function (n) { t(i.find("option"), function (t) { var i = !!n && (-1 !== Array.prototype.indexOf.call(n, t.value) || -1 !== Array.prototype.indexOf.call(n, f.selectValueMap[t.value])); i !== t.selected && bi(e(t), i) }) }, h = NaN, n.$watch(function () { h !== s.$viewValue || st(c, s.$viewValue) || (c = vt(s.$viewValue), s.$render()); h = s.$viewValue }), s.$isEmpty = function (n) { return !n || 0 === n.length }) : f.registerOption = o }, post: function (n, t, i, r) { var u = r[1], f; u && (f = r[0], u.$render = function () { f.writeValue(u.$viewValue) }) } } } }, ak = ["$interpolate", function (n) { return { restrict: "E", priority: 100, compile: function (t, i) { var u, f; return r(i.ngValue) || (r(i.value) ? u = n(i.value, !0) : (f = n(t.text(), !0)) || i.$set("value", t.text())), function (n, t, i) { var r = t.parent(); (r = r.data("$selectController") || r.parent().data("$selectController")) && r.registerOption(n, t, i, u, f) } } } }], sl = function () { return { restrict: "A", require: "?ngModel", link: function (n, t, i, r) { r && (i.required = !0, r.$validators.required = function (n, t) { return !i.required || !r.$isEmpty(t) }, i.$observe("required", function () { r.$validate() })) } } }, hl = function () { return { restrict: "A", require: "?ngModel", link: function (n, t, i, r) { if (r) { var f, e = i.ngPattern || i.pattern; i.$observe("pattern", function (n) { if (h(n) && 0 < n.length && (n = new RegExp("^" + n + "$")), n && !n.test) throw l("ngPattern")("noregexp", e, n, at(t)); f = n || void 0; r.$validate() }); r.$validators.pattern = function (n, t) { return r.$isEmpty(t) || u(f) || f.test(t) } } } } }, cl = function () { return { restrict: "A", require: "?ngModel", link: function (n, t, i, r) { if (r) { var u = -1; i.$observe("maxlength", function (n) { n = tt(n); u = it(n) ? -1 : n; r.$validate() }); r.$validators.maxlength = function (n, t) { return 0 > u || r.$isEmpty(t) || t.length <= u } } } } }, ll = function () { return { restrict: "A", require: "?ngModel", link: function (n, t, i, r) { if (r) { var u = 0; i.$observe("minlength", function (n) { u = tt(n) || 0; r.$validate() }); r.$validators.minlength = function (n, t) { return r.$isEmpty(t) || t.length >= u } } } } }; n.angular.bootstrap ? n.console && console.log("WARNING: Tried to load angular more than once.") : (na(), ra(ft), ft.module("ngLocale", [], ["$provide", function (n) { function t(n) { n += ""; var t = n.indexOf("."); return -1 == t ? 0 : n.length - t - 1 } n.value("$locale", { DATETIME_FORMATS: { AMPMS: ["AM", "PM"], DAY: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), ERANAMES: ["Before Christ", "Anno Domini"], ERAS: ["BC", "AD"], FIRSTDAYOFWEEK: 6, MONTH: "January February March April May June July August September October November December".split(" "), SHORTDAY: "Sun Mon Tue Wed Thu Fri Sat".split(" "), SHORTMONTH: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "), STANDALONEMONTH: "January February March April May June July August September October November December".split(" "), WEEKENDRANGE: [5, 6], fullDate: "EEEE, MMMM d, y", longDate: "MMMM d, y", medium: "MMM d, y h:mm:ss a", mediumDate: "MMM d, y", mediumTime: "h:mm:ss a", short: "M/d/yy h:mm a", shortDate: "M/d/yy", shortTime: "h:mm a" }, NUMBER_FORMATS: { CURRENCY_SYM: "$", DECIMAL_SEP: ".", GROUP_SEP: ",", PATTERNS: [{ gSize: 3, lgSize: 3, maxFrac: 3, minFrac: 0, minInt: 1, negPre: "-", negSuf: "", posPre: "", posSuf: "" }, { gSize: 3, lgSize: 3, maxFrac: 2, minFrac: 2, minInt: 1, negPre: "-¤", negSuf: "", posPre: "¤", posSuf: "" }] }, id: "en-us", localeID: "en_US", pluralCat: function (n, i) { var u = n | 0, r = i; return void 0 === r && (r = Math.min(t(n), 3)), Math.pow(10, r), 1 == u && 0 == r ? "one" : "other" } }) }]), e(function () { kl(n.document, po) })) })(window); window.angular.$$csp().noInlineStyle || window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}<\/style>'), function (n, t) { "use strict"; function at(n, t, i) { if (!n) throw oi("areq", t || "?", i || "required"); return n } function vt(n, t) { return !n && !t ? "" : n ? t ? (c(n) && (n = n.join(" ")), c(t) && (t = t.join(" ")), n + " " + t) : n : t } function ti(n) { var t = {}; return n && (n.to || n.from) && (t.to = n.to, t.from = n.from), t } function s(n, t, r) { var u = ""; return n = c(n) ? n : n && o(n) && n.length ? n.split(/\s+/) : [], i(n, function (n, i) { n && 0 < n.length && (u += 0 < i ? " " : "", u += r ? t + n : n + t) }), u } function yt(n) { if (n instanceof r) switch (n.length) { case 0: return n; case 1: if (1 === n[0].nodeType) return n; break; default: return r(it(n)) }if (1 === n.nodeType) return r(n) } function it(n) { var t, i; if (!n[0]) return n; for (t = 0; t < n.length; t++)if (i = n[t], 1 === i.nodeType) return i } function ii(n, t, r) { i(t, function (t) { n.addClass(t, r) }) } function ri(n, t, r) { i(t, function (t) { n.removeClass(t, r) }) } function w(n) { return function (t, i) { i.addClass && (ii(n, t, i.addClass), i.addClass = null); i.removeClass && (ri(n, t, i.removeClass), i.removeClass = null) } } function b(n) { if (n = n || {}, !n.$$prepared) { var t = n.domOperation || u; n.domOperation = function () { n.$$domOperationFired = !0; t(); t = u }; n.$$prepared = !0 } return n } function l(n, t) { pt(n, t); wt(n, t) } function pt(n, t) { t.from && (n.css(t.from), t.from = null) } function wt(n, t) { t.to && (n.css(t.to), t.to = null) } function v(n, t, i) { var r = t.options || {}, f, e; return i = i.options || {}, f = (r.addClass || "") + " " + (i.addClass || ""), e = (r.removeClass || "") + " " + (i.removeClass || ""), n = ui(n.attr("class"), f, e), i.preparationClasses && (r.preparationClasses = d(i.preparationClasses, r.preparationClasses), delete i.preparationClasses), f = r.domOperation !== u ? r.domOperation : null, ht(r, i), f && (r.domOperation = f), r.addClass = n.addClass ? n.addClass : null, r.removeClass = n.removeClass ? n.removeClass : null, t.addClass = r.addClass, t.removeClass = r.removeClass, r } function ui(n, t, r) { function e(n) { o(n) && (n = n.split(" ")); var t = {}; return i(n, function (n) { n.length && (t[n] = !0) }), t } var f = {}, u; return n = e(n), t = e(t), i(t, function (n, t) { f[t] = 1 }), r = e(r), i(r, function (n, t) { f[t] = 1 === f[t] ? null : -1 }), u = { addClass: "", removeClass: "" }, i(f, function (t, i) { var r, f; 1 === t ? (r = "addClass", f = !n[i] || n[i + "-remove"]) : -1 === t && (r = "removeClass", f = n[i] || n[i + "-add"]); f && (u[r].length && (u[r] += " "), u[r] += i) }), u } function f(n) { return n instanceof r ? n[0] : n } function fi(n, t, i) { var r = ""; t && (r = s(t, "ng-", !0)); i.addClass && (r = d(r, s(i.addClass, "-add"))); i.removeClass && (r = d(r, s(i.removeClass, "-remove"))); r.length && (i.preparationClasses = r, n.addClass(r)) } function k(n, t) { var i = t ? "-" + t + "s" : ""; return y(n, [p, i]), [p, i] } function rt(n, t) { var i = t ? "paused" : "", r = h + "PlayState"; return y(n, [r, i]), [r, i] } function y(n, t) { n.style[t[0]] = t[1] } function d(n, t) { return n ? t ? n + " " + t : n : t } function bt(n, t, r) { var u = Object.create(null), f = n.getComputedStyle(t) || {}; return i(r, function (n, t) { var i = f[n], r; i && (r = i.charAt(0), ("-" === r || "+" === r || 0 <= r) && (i = ei(i)), 0 === i && (i = null), u[t] = i) }), u } function ei(n) { var t = 0; return n = n.split(/\s*,\s*/), i(n, function (n) { "s" === n.charAt(n.length - 1) && (n = n.substring(0, n.length - 1)); n = parseFloat(n) || 0; t = t ? Math.max(n, t) : n }), t } function ut(n) { return 0 === n || null != n } function kt(n, t) { var i = e, r = n + "s"; return t ? i += "Duration" : r += " linear all", [i, r] } function dt() { var n = Object.create(null); return { flush: function () { n = Object.create(null) }, count: function (t) { return (t = n[t]) ? t.total : 0 }, get: function (t) { return (t = n[t]) && t.value }, put: function (t, i) { n[t] ? n[t].total++ : n[t] = { total: 1, value: i } } } } function gt(n, t, r) { i(r, function (i) { n[i] = ct(n[i]) ? n[i] : t.style.getPropertyValue(i) }) } var e, ft, h, et; void 0 === n.ontransitionend && void 0 !== n.onwebkittransitionend ? (e = "WebkitTransition", ft = "webkitTransitionEnd transitionend") : (e = "transition", ft = "transitionend"); void 0 === n.onanimationend && void 0 !== n.onwebkitanimationend ? (h = "WebkitAnimation", et = "webkitAnimationEnd animationend") : (h = "animation", et = "animationend"); var g = h + "Delay", ot = h + "Duration", p = e + "Delay", ni = e + "Duration", oi = t.$$minErr("ng"), si = { transitionDuration: ni, transitionDelay: p, transitionProperty: e + "Property", animationDuration: ot, animationDelay: g, animationIterationCount: h + "IterationCount" }, hi = { transitionDuration: ni, transitionDelay: p, animationDuration: ot, animationDelay: g }, st, ht, i, c, ct, nt, lt, tt, o, a, r, u; t.module("ngAnimate", [], function () { u = t.noop; st = t.copy; ht = t.extend; r = t.element; i = t.forEach; c = t.isArray; o = t.isString; tt = t.isObject; a = t.isUndefined; ct = t.isDefined; lt = t.isFunction; nt = t.isElement }).info({ angularVersion: "1.6.4" }).directive("ngAnimateSwap", ["$animate", "$rootScope", function (n) { return { restrict: "A", transclude: "element", terminal: !0, priority: 600, link: function (t, i, r, u, f) { var o, e; t.$watchCollection(r.ngAnimateSwap || r["for"], function (r) { o && n.leave(o); e && (e.$destroy(), e = null); (r || 0 === r) && (e = t.$new(), f(e, function (t) { o = t; n.enter(t, null, i) })) }) } } }]).directive("ngAnimateChildren", ["$interpolate", function (n) { return { link: function (t, i, r) { function f(n) { i.data("$$ngAnimateChildren", "on" === n || "true" === n) } var u = r.ngAnimateChildren; o(u) && 0 === u.length ? i.data("$$ngAnimateChildren", !0) : (f(n(u)(t)), r.$observe("ngAnimateChildren", f)) } } }]).factory("$$rAFScheduler", ["$$rAF", function (n) { function r(n) { i = i.concat(n); u() } function u() { if (i.length) { for (var f = i.shift(), r = 0; r < f.length; r++)f[r](); t || n(function () { t || u() }) } } var i, t; return i = r.queue = [], r.waitUntilQuiet = function (i) { t && t(); t = n(function () { t = null; i(); u() }) }, r }]).provider("$$animateQueue", ["$animateProvider", function (t) { function y(n) { if (!n) return null; n = n.split(" "); var t = Object.create(null); return i(n, function (n) { t[n] = !0 }), t } function h(n, t) { if (n && t) { var i = y(t); return n.split(" ").some(function (n) { return i[n] }) } } function s(n, t, i) { return u[n].some(function (n) { return n(t, i) }) } function e(n, t) { var i = 0 < (n.addClass || "").length, r = 0 < (n.removeClass || "").length; return t ? i && r : i || r } var u = this.rules = { skip: [], cancel: [], join: [] }; u.join.push(function (n) { return !n.structural && e(n) }); u.skip.push(function (n) { return !n.structural && !e(n) }); u.skip.push(function (n, t) { return "leave" === t.event && n.structural }); u.skip.push(function (n, t) { return t.structural && 2 === t.state && !n.structural }); u.cancel.push(function (n, t) { return t.structural && n.structural }); u.cancel.push(function (n, t) { return 2 === t.state && n.structural }); u.cancel.push(function (n, t) { if (t.structural) return !1; var i = n.addClass, r = n.removeClass, u = t.addClass, f = t.removeClass; return a(i) && a(r) || a(u) && a(f) ? !1 : h(i, f) || h(r, u) }); this.$get = ["$$rAF", "$rootScope", "$rootElement", "$document", "$$Map", "$$animation", "$$AnimateRunner", "$templateRequest", "$$jqLite", "$$forceReflow", "$$isDocumentHidden", function (u, h, y, p, k, d, g, rt, ut, ft, et) { function ii() { var n = !1; return function (t) { n ? t() : h.$$postDigest(function () { n = !0; t() }) } } function ri(n, t, r) { var u = [], f = lt[r]; return f && i(f, function (i) { ti.call(i.node, t) ? u.push(i.callback) : "leave" === r && ti.call(i.node, n) && u.push(i.callback) }), u } function kt(n, t, i) { var r = it(t); return n.filter(function (n) { return !(n.node === r && (!i || n.callback === i)) }) } function ui(n, t, r) { function rt(n, t, r, f) { lt(function () { var n = ri(ct, y, t); n.length ? u(function () { i(n, function (n) { n(w, r, f) }); "close" !== r || y.parentNode || wt.off(y) }) : "close" !== r || y.parentNode || wt.off(y) }); n.progress(t, r, f) } function nt(n) { var i = w, t = a; t.preparationClasses && (i.removeClass(t.preparationClasses), t.preparationClasses = null); t.activeClasses && (i.removeClass(t.activeClasses), t.activeClasses = null); ni(w, a); l(w, a); a.domOperation(); k.complete(!n) } var a = st(r), w = yt(n), y = f(w), ct = y && y.parentNode, a = b(a), k = new g, lt = ii(), it, ht; if ((c(a.addClass) && (a.addClass = a.addClass.join(" ")), a.addClass && !o(a.addClass) && (a.addClass = null), c(a.removeClass) && (a.removeClass = a.removeClass.join(" ")), a.removeClass && !o(a.removeClass) && (a.removeClass = null), a.from && !tt(a.from) && (a.from = null), a.to && !tt(a.to) && (a.to = null), !y) || (r = [y.getAttribute("class"), a.addClass, a.removeClass].join(" "), !hi(r))) return nt(), k; var ut = 0 <= ["enter", "move", "leave"].indexOf(t), p = et(), ft = !pt || p || vt.get(y); if (r = !ft && ot.get(y) || {}, it = !!r.state, ft || it && 1 === r.state || (ft = !oi(y, ct, t)), ft) return p && rt(k, t, "start"), nt(), p && rt(k, t, "close"), k; if (ut && ei(y), p = { structural: ut, element: w, event: t, addClass: a.addClass, removeClass: a.removeClass, close: nt, options: a, runner: k }, it) { if (s("skip", p, r)) return 2 === r.state ? (nt(), k) : (v(w, r, p), r.runner); if (s("cancel", p, r)) if (2 === r.state) r.runner.end(); else if (r.structural) r.close(); else return v(w, r, p), r.runner; else if (s("join", p, r)) if (2 === r.state) v(w, p, {}); else return fi(w, ut ? t : null, a), t = p.event = r.event, a = v(w, r, p), r.runner } else v(w, p, {}); return ((it = p.structural) || (it = "animate" === p.event && 0 < Object.keys(p.options.to || {}).length || e(p)), !it) ? (nt(), bt(y), k) : (ht = (r.counter || 0) + 1, p.counter = ht, dt(y, 1, p), h.$$postDigest(function () { w = yt(n); var i = ot.get(y), r = !i, i = i || {}, u = 0 < (w.parent() || []).length && ("animate" === i.event || i.structural || e(i)); r || i.counter !== ht || !u ? (r && (ni(w, a), l(w, a)), (r || ut && i.event !== t) && (a.domOperation(), k.end()), u || bt(y)) : (t = !i.structural && e(i, !0) ? "setClass" : i.event, dt(y, 2), i = d(w, t, i.options), k.setHost(i), rt(k, t, "start", {}), i.done(function (n) { nt(!n); (n = ot.get(y)) && n.counter === ht && bt(y); rt(k, t, "close", {}) })) }), k) } function ei(n) { n = n.querySelectorAll("[data-ng-animate]"); i(n, function (n) { var i = parseInt(n.getAttribute("data-ng-animate"), 10), t = ot.get(n); if (t) switch (i) { case 2: t.runner.end(); case 1: ot.delete(n) } }) } function bt(n) { n.removeAttribute("data-ng-animate"); ot.delete(n) } function oi(n, t, i) { var c; i = p[0].body; var l = f(y), o = n === i || "HTML" === n.nodeName, u = n === l, s = !1, h = vt.get(n), e; for ((n = r.data(n, "$ngAnimatePin")) && (t = f(n)); t;) { if (u || (u = t === l), 1 !== t.nodeType) break; if (n = ot.get(t) || {}, !s) { if (c = vt.get(t), !0 === c && !1 !== h) { h = !0; break } else !1 === c && (h = !1); s = n.structural } if ((a(e) || !0 === e) && (n = r.data(t, "$$ngAnimateChildren"), ct(n) && (e = n)), s && !1 === e) break; if (o || (o = t === i), o && u) break; if (!u && (n = r.data(t, "$ngAnimatePin"))) { t = f(n); continue } t = t.parentNode } return (!s || e) && !0 !== h && u && o } function dt(n, t, i) { i = i || {}; i.state = t; n.setAttribute("data-ng-animate", t); i = (t = ot.get(n)) ? ht(t, i) : i; ot.set(n, i) } var ot = new k, vt = new k, pt = null, si = h.$watch(function () { return 0 === rt.totalPendingRequests }, function (n) { n && (si(), h.$$postDigest(function () { h.$$postDigest(function () { null === pt && (pt = !0) }) })) }), lt = Object.create(null), gt = t.classNameFilter(), hi = gt ? function (n) { return gt.test(n) } : function () { return !0 }, ni = w(ut), ti = n.Node.prototype.contains || function (n) { return this === n || !!(this.compareDocumentPosition(n) & 16) }, wt = { on: function (n, t, i) { var u = it(t); lt[n] = lt[n] || []; lt[n].push({ node: u, callback: i }); r(t).on("$destroy", function () { ot.get(u) || wt.off(n, t, i) }) }, off: function (n, t, i) { if (1 !== arguments.length || o(arguments[0])) { var r = lt[n]; r && (lt[n] = 1 === arguments.length ? null : kt(r, t, i)) } else for (r in t = arguments[0], lt) lt[r] = kt(lt[r], t) }, pin: function (n, t) { at(nt(n), "element", "not an element"); at(nt(t), "parentElement", "not an element"); n.data("$ngAnimatePin", t) }, push: function (n, t, i, r) { return i = i || {}, i.domOperation = r, ui(n, t, i) }, enabled: function (n, t) { var r = arguments.length, i; return 0 === r ? t = !!pt : nt(n) ? (i = f(n), 1 === r ? t = !vt.get(i) : vt.set(i, !t)) : t = pt = !!n, t } }; return wt }] }]).provider("$$animation", ["$animateProvider", function () { var n = this.drivers = []; this.$get = ["$$jqLite", "$rootScope", "$injector", "$$AnimateRunner", "$$Map", "$$rAFScheduler", function (t, u, e, o, s, h) { function a(n) { function u(n) { var e, t, i; if (n.processed) return n; for (n.processed = !0, e = n.domNode, t = e.parentNode, r.set(e, n); t;) { if (i = r.get(t)) { i.processed || (i = u(i)); break } t = t.parentNode } return (i || f).children.push(n), n } for (var f = { children: [] }, r = new s, i, t = 0; t < n.length; t++)i = n[t], r.set(i.domNode, n[t] = { domNode: i.domNode, fn: i.fn, children: [] }); for (t = 0; t < n.length; t++)u(n[t]); return function (n) { for (var f = [], r = [], u, i, e, t = 0; t < n.children.length; t++)r.push(n.children[t]); for (n = r.length, u = 0, i = [], t = 0; t < r.length; t++)e = r[t], 0 >= n && (n = u, u = 0, f.push(i), i = []), i.push(e.fn), e.children.forEach(function (n) { u++; r.push(n) }), n--; return i.length && f.push(i), f }(f) } var c = [], v = w(t); return function (s, y, p) { function rt(n) { n = n.hasAttribute("ng-animate-ref") ? [n] : n.querySelectorAll("[ng-animate-ref]"); var t = []; return i(n, function (n) { var i = n.getAttribute("ng-animate-ref"); i && i.length && t.push(n) }), t } function ut(n) { var t = [], u = {}, o, e; return i(n, function (n, e) { var o = f(n.element), h = 0 <= ["enter", "move"].indexOf(n.event), o = n.structural ? rt(o) : [], s; o.length ? (s = h ? "to" : "from", i(o, function (n) { var t = n.getAttribute("ng-animate-ref"); u[t] = u[t] || {}; u[t][s] = { animationID: e, element: r(n) } })) : t.push(n) }), o = {}, e = {}, i(u, function (i) { var r = i.from, u = i.to, c; if (r && u) { var f = n[r.animationID], s = n[u.animationID], h = r.animationID.toString(); e[h] || (c = e[h] = { structural: !0, beforeStart: function () { f.beforeStart(); s.beforeStart() }, close: function () { f.close(); s.close() }, classes: ft(f.classes, s.classes), from: f, to: s, anchors: [] }, c.classes.length ? t.push(c) : (t.push(f), t.push(s))); e[h].anchors.push({ out: r.element, "in": u.element }) } else r = r ? r.animationID : u.animationID, u = r.toString(), o[u] || (o[u] = !0, t.push(n[r])) }), t } function ft(n, t) { var f, i, r, u; for (n = n.split(" "), t = t.split(" "), f = [], i = 0; i < n.length; i++)if (r = n[i], "ng-" !== r.substring(0, 3)) for (u = 0; u < t.length; u++)if (r === t[u]) { f.push(r); break } return f.join(" ") } function et(t) { for (var r, i = n.length - 1; 0 <= i; i--)if (r = e.get(n[i])(t), r) return r } function ot(n, t) { function i(n) { (n = n.data("$$animationRunner")) && n.setHost(t) } n.from && n.to ? (i(n.from.element), i(n.to.element)) : i(n.element) } function it() { var n = s.data("$$animationRunner"); !n || "leave" === y && p.$$domOperationFired || n.end() } function g(n) { s.off("$destroy", it); s.removeData("$$animationRunner"); v(s, p); l(s, p); p.domOperation(); w && t.removeClass(s, w); s.removeClass("ng-animate"); k.complete(!n) } var nt, k, tt, w, d; if (p = b(p), nt = 0 <= ["enter", "move", "leave"].indexOf(y), k = new o({ end: function () { g() }, cancel: function () { g(!0) } }), !n.length) return g(), k; s.data("$$animationRunner", k); tt = vt(s.attr("class"), vt(p.addClass, p.removeClass)); w = p.tempClasses; w && (tt += " " + w, p.tempClasses = null); nt && (d = "ng-" + y + "-prepare", t.addClass(s, d)); c.push({ element: s, classes: tt, event: y, structural: nt, options: p, beforeStart: function () { s.addClass("ng-animate"); w && t.addClass(s, w); d && (t.removeClass(s, d), d = null) }, close: g }); s.on("$destroy", it); return 1 < c.length ? k : (u.$$postDigest(function () { var t = [], r, n; i(c, function (n) { n.element.data("$$animationRunner") ? t.push(n) : n.close() }); c.length = 0; r = ut(t); n = []; i(r, function (t) { n.push({ domNode: f(t.from ? t.from.element : t.element), fn: function () { var n, i, r; t.beforeStart(); i = t.close; (t.anchors ? t.from.element || t.to.element : t.element).data("$$animationRunner") && (r = et(t), r && (n = r.start)); n ? (n = n(), n.done(function (n) { i(!n) }), ot(t, n)) : i() } }) }); h(a(n)) }), k) } }] }]).provider("$animateCss", ["$animateProvider", function () { var n = dt(), t = dt(); this.$get = ["$window", "$$jqLite", "$$AnimateRunner", "$timeout", "$$forceReflow", "$sniffer", "$$rAFScheduler", "$$animateQueue", function (r, o, a, v, d, nt, tt, it) { function lt(n, t) { var i = n.parentNode; return (i.$$ngAnimateParentKey || (i.$$ngAnimateParentKey = ++dt)) + "-" + n.getAttribute("class") + "-" + t } function yt(i, u, f, e) { var h; return 0 < n.count(f) && (h = t.get(f), h || (u = s(u, "-stagger"), o.addClass(i, u), h = bt(r, i, e), h.animationDuration = Math.max(h.animationDuration, 0), h.transitionDuration = Math.max(h.transitionDuration, 0), o.removeClass(i, u), t.put(f, h))), h || {} } function at(i) { ht.push(i); tt.waitUntilQuiet(function () { n.flush(); t.flush(); for (var r = d(), i = 0; i < ht.length; i++)ht[i](r); ht.length = 0 }) } function vt(t, i, u) { return i = n.get(u), i || (i = bt(r, t, si), "infinite" === i.animationIterationCount && (i.animationIterationCount = 1)), n.put(u, i), t = i, u = t.animationDelay, i = t.transitionDelay, t.maxDelay = u && i ? Math.max(u, i) : u || i, t.maxDuration = Math.max(t.animationDuration * t.animationIterationCount, t.transitionDuration), t } var ct = w(o), dt = 0, ht = []; return function (t, r) { function ki() { ii() } function or() { ii(!0) } function ii(n) { if (!(wi || rr && ei)) { wi = !0; ei = !1; w.$$skipPreparationClasses || o.removeClass(t, ci); o.removeClass(t, cr); rt(tt, !1); k(tt, !1); i(dt, function (n) { tt.style[n[0]] = "" }); ct(t, w); l(t, w); Object.keys(pi).length && i(pi, function (n, t) { n ? tt.style.setProperty(t, n) : tt.style.removeProperty(t) }); w.onDone && w.onDone(); oi && oi.length && t.off(oi.join(" "), hr); var r = t.data("$$animateCss"); r && (v.cancel(r[0].timer), t.removeData("$$animateCss")); li && li.complete(!n) } } function sr(n) { d.blockTransition && k(tt, n); d.blockKeyframeAnimation && rt(tt, !!n) } function di() { return li = new a({ end: ki, cancel: or }), at(u), ii(), { $$willAnimate: !1, start: function () { return li }, end: ki } } function hr(n) { n.stopPropagation(); var t = n.originalEvent || n; n = t.$manualTimeStamp || Date.now(); t = parseFloat(t.elapsedTime.toFixed(3)); Math.max(n - fr, 0) >= tr && t >= ni && (rr = !0, ii()) } function lr() { function n() { var r, u, n, s, c; if (!wi) { if (sr(!1), i(dt, function (n) { tt.style[n[0]] = n[1] }), ct(t, w), o.addClass(t, cr), d.recalculateTimingStyles) { if (bi = tt.getAttribute("class") + " " + ci, yi = lt(tt, bi), ht = vt(tt, bi, yi), ui = ht.maxDelay, ai = Math.max(ui, 0), ni = ht.maxDuration, 0 === ni) { ii(); return } d.hasTransitions = 0 < ht.transitionDuration; d.hasAnimations = 0 < ht.animationDuration } if (d.applyAnimationDelay && (ui = "boolean" != typeof w.delay && ut(w.delay) ? parseFloat(w.delay) : ui, ai = Math.max(ui, 0), ht.animationDelay = ui, fi = [g, ui + "s"], dt.push(fi), tt.style[fi[0]] = fi[1]), tr = 1e3 * ai, ur = 1e3 * ni, w.easing && (n = w.easing, d.hasTransitions && (r = e + "TimingFunction", dt.push([r, n]), tt.style[r] = n), d.hasAnimations && (r = h + "TimingFunction", dt.push([r, n]), tt.style[r] = n)), ht.transitionDuration && oi.push(ft), ht.animationDuration && oi.push(et), fr = Date.now(), u = tr + 1.5 * ur, r = fr + u, n = t.data("$$animateCss") || [], s = !0, n.length && (c = n[0], (s = r > c.expectedEndTime) ? v.cancel(c.timer) : n.push(ii)), s && (u = v(f, u, !1), n[0] = { timer: u, expectedEndTime: r }, n.push(ii), t.data("$$animateCss", n)), oi.length) t.on(oi.join(" "), hr); w.to && (w.cleanupStyles && gt(pi, tt, Object.keys(w.to)), wt(t, w)) } } function f() { var i = t.data("$$animateCss"), n; if (i) { for (n = 1; n < i.length; n++)i[n](); t.removeData("$$animateCss") } } if (!wi) if (tt.parentNode) { var r = function (n) { if (rr) ei && n && (ei = !1, ii()); else if (ei = !n, ht.animationDuration) if (n = rt(tt, ei), ei) dt.push(n); else { var t = dt, i = t.indexOf(n); 0 <= n && t.splice(i, 1) } }, u = 0 < ir && (ht.transitionDuration && 0 === ri.transitionDuration || ht.animationDuration && 0 === ri.animationDuration) && Math.max(ri.animationDelay, ri.transitionDelay); u ? v(n, Math.floor(u * ir * 1e3), !1) : n(); nr.resume = function () { r(!0) }; nr.pause = function () { r(!1) } } else ii() } var w = r || {}, pi, tt, yi, ri, ir, ht, ui, d, fi; if (w.$$prepared || (w = b(st(w))), pi = {}, tt = f(t), !tt || !tt.parentNode || !it.enabled()) return di(); var dt = [], gi = t.attr("class"), bt = ti(w), wi, ei, rr, li, nr, ai, tr, ni, ur, fr, oi = []; if (0 === w.duration || !nt.animations && !nt.transitions) return di(); var vi = w.event && c(w.event) ? w.event.join(" ") : w.event, er = "", si = ""; vi && w.structural ? er = s(vi, "ng-", !0) : vi && (er = vi); w.addClass && (si += s(w.addClass, "-add")); w.removeClass && (si.length && (si += " "), si += s(w.removeClass, "-remove")); w.applyClassesEarly && si.length && ct(t, w); var ci = [er, si].join(" ").trim(), bi = gi + " " + ci, cr = s(ci, "-active"), gi = bt.to && 0 < Object.keys(bt.to).length; return (0 < (w.keyframeStyle || "").length || gi || ci) ? (0 < w.stagger ? (bt = parseFloat(w.stagger), ri = { transitionDelay: bt, animationDelay: bt, transitionDuration: 0, animationDuration: 0 }) : (yi = lt(tt, bi), ri = yt(tt, ci, yi, hi)), w.$$skipPreparationClasses || o.addClass(t, ci), w.transitionStyle && (bt = [e, w.transitionStyle], y(tt, bt), dt.push(bt)), 0 <= w.duration && (bt = 0 < tt.style[e].length, bt = kt(w.duration, bt), y(tt, bt), dt.push(bt)), w.keyframeStyle && (bt = [h, w.keyframeStyle], y(tt, bt), dt.push(bt)), ir = ri ? 0 <= w.staggerIndex ? w.staggerIndex : n.count(yi) : 0, (vi = 0 === ir) && !w.skipBlocking && k(tt, 9999), ht = vt(tt, bi, yi), ui = ht.maxDelay, ai = Math.max(ui, 0), ni = ht.maxDuration, d = {}, d.hasTransitions = 0 < ht.transitionDuration, d.hasAnimations = 0 < ht.animationDuration, d.hasTransitionAll = d.hasTransitions && "all" === ht.transitionProperty, d.applyTransitionDuration = gi && (d.hasTransitions && !d.hasTransitionAll || d.hasAnimations && !d.hasTransitions), d.applyAnimationDuration = w.duration && d.hasAnimations, d.applyTransitionDelay = ut(w.delay) && (d.applyTransitionDuration || d.hasTransitions), d.applyAnimationDelay = ut(w.delay) && d.hasAnimations, d.recalculateTimingStyles = 0 < si.length, (d.applyTransitionDuration || d.applyAnimationDuration) && (ni = w.duration ? parseFloat(w.duration) : ni, d.applyTransitionDuration && (d.hasTransitions = !0, ht.transitionDuration = ni, bt = 0 < tt.style[e + "Property"].length, dt.push(kt(ni, bt))), d.applyAnimationDuration && (d.hasAnimations = !0, ht.animationDuration = ni, dt.push([ot, ni + "s"]))), 0 === ni && !d.recalculateTimingStyles) ? di() : (null != w.delay && ("boolean" != typeof w.delay && (fi = parseFloat(w.delay), ai = Math.max(fi, 0)), d.applyTransitionDelay && dt.push([p, fi + "s"]), d.applyAnimationDelay && dt.push([g, fi + "s"])), null == w.duration && 0 < ht.transitionDuration && (d.recalculateTimingStyles = d.recalculateTimingStyles || vi), tr = 1e3 * ai, ur = 1e3 * ni, w.skipBlocking || (d.blockTransition = 0 < ht.transitionDuration, d.blockKeyframeAnimation = 0 < ht.animationDuration && 0 < ri.animationDelay && 0 === ri.animationDuration), w.from && (w.cleanupStyles && gt(pi, tt, Object.keys(w.from)), pt(t, w)), d.blockTransition || d.blockKeyframeAnimation ? sr(ni) : w.skipBlocking || k(tt, !1), { $$willAnimate: !0, end: ki, start: function () { if (!wi) return nr = { end: ki, cancel: or, resume: null, pause: null }, li = new a(nr), at(lr), li } }) : di() } }] }]).provider("$$animateCssDriver", ["$$animationProvider", function (n) { n.drivers.push("$$animateCssDriver"); this.$get = ["$animateCss", "$rootScope", "$$AnimateRunner", "$rootElement", "$sniffer", "$$jqLite", "$document", function (n, t, e, s, h, c, l) { function y(n) { return n.replace(/\bng-\S+\b/g, "") } function p(n, t) { return o(n) && (n = n.split(" ")), o(t) && (t = t.split(" ")), n.filter(function (n) { return -1 === t.indexOf(n) }).join(" ") } function b(t, u, o) { function l(n) { var t = {}, r = f(n).getBoundingClientRect(); return i(["width", "height", "top", "left"], function (n) { var i = r[n]; switch (n) { case "top": i += a.scrollTop; break; case "left": i += a.scrollLeft }t[n] = Math.floor(i) + "px" }), t } function v() { var t = y(o.attr("class") || ""), i = p(t, b), t = p(b, t), i = n(s, { to: l(o), addClass: "ng-anchor-in " + i, removeClass: "ng-anchor-out " + t, delay: !0 }); return i.$$willAnimate ? i : null } function c() { s.remove(); u.removeClass("ng-animate-shim"); o.removeClass("ng-animate-shim") } var s = r(f(u).cloneNode(!0)), b = y(s.attr("class") || ""), h, k; return (u.addClass("ng-animate-shim"), o.addClass("ng-animate-shim"), s.addClass("ng-anchor"), w.append(s), t = function () { var t = n(s, { addClass: "ng-anchor-out", delay: !0, from: l(u) }); return t.$$willAnimate ? t : null }(), !t && (h = v(), !h)) ? c() : (k = t || h, { start: function () { function i() { n && n.end() } var t, n = k.start(); return n.done(function () { if (n = null, !h && (h = v())) return n = h.start(), n.done(function () { n = null; c(); t.complete() }), n; c(); t.complete() }), t = new e({ end: i, cancel: i }) } }) } function k(n, t, r, f) { var o = v(n, u), s = v(t, u), h = []; return i(f, function (n) { (n = b(r, n.out, n["in"])) && h.push(n) }), o || s || 0 !== h.length ? { start: function () { function r() { i(n, function (n) { n.end() }) } var n = [], t; return o && n.push(o.start()), s && n.push(s.start()), i(h, function (t) { n.push(t.start()) }), t = new e({ end: r, cancel: r }), e.all(n, function (n) { t.complete(n) }), t } } : void 0 } function v(t) { var r = t.element, i = t.options || {}; return t.structural && (i.event = t.event, i.structural = !0, i.applyClassesEarly = !0, "leave" === t.event && (i.onDone = i.domOperation)), i.preparationClasses && (i.event = d(i.event, i.preparationClasses)), t = n(r, i), t.$$willAnimate ? t : null } var a, w; return !h.animations && !h.transitions ? u : (a = l[0].body, t = f(s), w = r(t.parentNode && 11 === t.parentNode.nodeType || a.contains(t) ? t : a), function (n) { return n.from && n.to ? k(n.from, n.to, n.classes, n.anchors) : v(n) }) }] }]).provider("$$animateJs", ["$animateProvider", function (n) { this.$get = ["$injector", "$$AnimateRunner", "$$jqLite", function (t, r, f) { function e(i) { var r, f; i = c(i) ? i : i.split(" "); for (var e = [], o = {}, u = 0; u < i.length; u++)r = i[u], f = n.$$registeredAnimations[r], f && !o[r] && (e.push(t.get(f)), o[r] = !0); return e } var o = w(f); return function (n, t, f, s) { function a() { s.domOperation(); o(n, s) } function rt(n, t, i, f, e) { switch (i) { case "animate": t = [t, f.from, f.to, e]; break; case "setClass": t = [t, nt, it, e]; break; case "addClass": t = [t, nt, e]; break; case "removeClass": t = [t, it, e]; break; default: t = [t, e] }if (t.push(f), n = n.apply(n, t)) if (lt(n.start) && (n = n.start()), n instanceof r) n.done(e); else if (lt(n)) return n; return u } function c(n, t, f, e, o) { var s = []; return i(e, function (i) { var e = i[o]; e && s.push(function () { var i, s, h = !1, o = function (n) { h || (h = !0, (s || u)(n), i.complete(!n)) }; return i = new r({ end: function () { o() }, cancel: function () { o(!0) } }), s = rt(e, n, t, f, function (n) { o(!1 === n) }), i }) }), s } function g(n, t, u, f, e) { var o = c(n, t, u, f, e), s, h; return 0 === o.length && ("beforeSetClass" === e ? (s = c(n, "removeClass", u, f, "beforeRemoveClass"), h = c(n, "addClass", u, f, "beforeAddClass")) : "setClass" === e && (s = c(n, "removeClass", u, f, "removeClass"), h = c(n, "addClass", u, f, "addClass")), s && (o = o.concat(s)), h && (o = o.concat(h))), 0 !== o.length ? function (n) { var t = []; return o.length && i(o, function (n) { t.push(n()) }), t.length ? r.all(t, n) : n(), function (n) { i(t, function (t) { n ? t.cancel() : t.end() }) } } : void 0 } var v = !1, k, d, h; 3 === arguments.length && tt(f) && (s = f, f = null); s = b(s); f || (f = n.attr("class") || "", s.addClass && (f += " " + s.addClass), s.removeClass && (f += " " + s.removeClass)); var nt = s.addClass, it = s.removeClass, w = e(f), y, p; return w.length && ("leave" === t ? (d = "leave", k = "afterLeave") : (d = "before" + t.charAt(0).toUpperCase() + t.substr(1), k = t), "enter" !== t && "move" !== t && (y = g(n, t, s, w, d)), p = g(n, t, s, w, k)), y || p ? { $$willAnimate: !0, end: function () { return h ? h.end() : (v = !0, a(), l(n, s), h = new r, h.complete(!0)), h }, start: function () { function f(t) { v = !0; a(); l(n, s); h.complete(t) } if (h) return h; h = new r; var i, t = []; return y && t.push(function (n) { i = y(n) }), t.length ? t.push(function (n) { a(); n(!0) }) : a(), p && t.push(function (n) { i = p(n) }), h.setHost({ end: function () { v || ((i || u)(void 0), f(void 0)) }, cancel: function () { v || ((i || u)(!0), f(!0)) } }), r.chain(t, f), h } } : void 0 } }] }]).provider("$$animateJsDriver", ["$$animationProvider", function (n) { n.drivers.push("$$animateJsDriver"); this.$get = ["$$animateJs", "$$AnimateRunner", function (n, t) { function r(t) { return n(t.element, t.event, t.classes, t.options) } return function (n) { if (n.from && n.to) { var u = r(n.from), f = r(n.to); if (u || f) return { start: function () { function r() { return function () { i(n, function (n) { n.end() }) } } var n = [], e; return u && n.push(u.start()), f && n.push(f.start()), t.all(n, function (n) { e.complete(n) }), e = new t({ end: r(), cancel: r() }) } } } else return r(n) } }] }]) }(window, window.angular), function (n, t) { "use strict"; var i = "BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "), r = function (n, t) { if (-1 !== t.indexOf(n[0].nodeName)) return !0 }; t.module("ngAria", ["ng"]).info({ angularVersion: "1.6.4" }).provider("$aria", function () { function i(t, i, u, f) { return function (e, o, s) { var h = s.$normalize(i); !n[h] || r(o, u) || s[h] || e.$watch(s[t], function (n) { n = f ? !n : !!n; o.attr(i, n) }) } } var n = { ariaHidden: !0, ariaChecked: !0, ariaReadonly: !0, ariaDisabled: !0, ariaRequired: !0, ariaInvalid: !0, ariaValue: !0, tabindex: !0, bindKeydown: !0, bindRoleForClick: !0 }; this.config = function (i) { n = t.extend(n, i) }; this.$get = function () { return { config: function (t) { return n[t] }, $$watchExpr: i } } }).directive("ngShow", ["$aria", function (n) { return n.$$watchExpr("ngShow", "aria-hidden", [], !0) }]).directive("ngHide", ["$aria", function (n) { return n.$$watchExpr("ngHide", "aria-hidden", [], !1) }]).directive("ngValue", ["$aria", function (n) { return n.$$watchExpr("ngValue", "aria-checked", i, !1) }]).directive("ngChecked", ["$aria", function (n) { return n.$$watchExpr("ngChecked", "aria-checked", i, !1) }]).directive("ngReadonly", ["$aria", function (n) { return n.$$watchExpr("ngReadonly", "aria-readonly", i, !1) }]).directive("ngRequired", ["$aria", function (n) { return n.$$watchExpr("ngRequired", "aria-required", i, !1) }]).directive("ngModel", ["$aria", function (n) { function t(t, u, f, e) { return n.config(u) && !f.attr(t) && (e || !r(f, i)) } function u(n, t) { return !t.attr("role") && t.attr("type") === n && !r(t, i) } function f(n) { var i = n.type, t = n.role; return "checkbox" === (i || t) || "menuitemcheckbox" === t ? "checkbox" : "radio" === (i || t) || "menuitemradio" === t ? "radio" : "range" === i || "progressbar" === t || "slider" === t ? "range" : "" } return { restrict: "A", require: "ngModel", priority: 200, compile: function (i, r) { var e = f(r, i); return { post: function (i, r, f, o) { function s() { return o.$modelValue } function c() { r.attr("aria-checked", f.value == o.$viewValue) } function l() { r.attr("aria-checked", !o.$isEmpty(o.$viewValue)) } var h = t("tabindex", "tabindex", r, !1); switch (e) { case "radio": case "checkbox": u(e, r) && r.attr("role", e); t("aria-checked", "ariaChecked", r, !1) && i.$watch(s, "radio" === e ? c : l); h && r.attr("tabindex", 0); break; case "range": if (u(e, r) && r.attr("role", "slider"), n.config("ariaValue")) { var a = !r.attr("aria-valuemin") && (f.hasOwnProperty("min") || f.hasOwnProperty("ngMin")), v = !r.attr("aria-valuemax") && (f.hasOwnProperty("max") || f.hasOwnProperty("ngMax")), y = !r.attr("aria-valuenow"); a && f.$observe("min", function (n) { r.attr("aria-valuemin", n) }); v && f.$observe("max", function (n) { r.attr("aria-valuemax", n) }); y && i.$watch(s, function (n) { r.attr("aria-valuenow", n) }) } h && r.attr("tabindex", 0) }!f.hasOwnProperty("ngRequired") && o.$validators.required && t("aria-required", "ariaRequired", r, !1) && f.$observe("required", function () { r.attr("aria-required", !!f.required) }); t("aria-invalid", "ariaInvalid", r, !0) && i.$watch(function () { return o.$invalid }, function (n) { r.attr("aria-invalid", !!n) }) } } } } }]).directive("ngDisabled", ["$aria", function (n) { return n.$$watchExpr("ngDisabled", "aria-disabled", i, !1) }]).directive("ngMessages", function () { return { restrict: "A", require: "?ngMessages", link: function (n, t) { t.attr("aria-live") || t.attr("aria-live", "assertive") } } }).directive("ngClick", ["$aria", "$parse", function (n, t) { return { restrict: "A", compile: function (u, f) { var e = t(f.ngClick); return function (t, u, f) { if (!r(u, i) && (n.config("bindRoleForClick") && !u.attr("role") && u.attr("role", "button"), n.config("tabindex") && !u.attr("tabindex") && u.attr("tabindex", 0), n.config("bindKeydown") && !f.ngKeydown && !f.ngKeypress && !f.ngKeyup)) u.on("keydown", function (n) { function r() { e(t, { $event: n }) } var i = n.which || n.keyCode; 32 !== i && 13 !== i || t.$apply(r) }) } } } }]).directive("ngDblclick", ["$aria", function (n) { return function (t, u) { !n.config("tabindex") || u.attr("tabindex") || r(u, i) || u.attr("tabindex", 0) } }]) }(window, window.angular), function (n, t) { "use strict"; function f() { return ["$animate", function (n) { return { restrict: "AE", transclude: "element", priority: 1, terminal: !0, require: "^^ngMessages", link: function (t, i, r, f, e) { var h = i[0], c, a = r.ngMessage || r.when, s, o, l; r = r.ngMessageExp || r.whenExp; s = function (n) { c = n ? u(n) ? n : n.split(/[\s,]+/) : null; f.reRender() }; r ? (s(t.$eval(r)), t.$watchCollection(r, s)) : s(a); f.register(h, l = { test: function (n) { var t = c; if (t) return u(t) ? 0 <= t.indexOf(n) : t.hasOwnProperty(n) }, attach: function () { o || e(function (t, r) { n.enter(t, null, i); o = t; var u = o.$$attachId = f.getAttachId(); o.on("$destroy", function () { o && o.$$attachId === u && (f.deregister(h), l.detach()); r.$destroy() }) }) }, detach: function () { if (o) { var t = o; o = null; n.leave(t) } } }) } } }] } var i, u, r, e; t.module("ngMessages", [], function () { i = t.forEach; u = t.isArray; r = t.isString; e = t.element }).info({ angularVersion: "1.6.4" }).directive("ngMessages", ["$animate", function (n) { function t(n, t) { return r(t) && 0 === t.length || u(n.$eval(t)) } function u(n) { return r(n) ? n.length : !!n } return { require: "ngMessages", restrict: "AE", controller: ["$element", "$scope", "$attrs", function (r, f, e) { function l(n, t) { for (var u, i = t, r = []; i && i !== n;) { if (u = i.$$ngMessageNode, u && u.length) return s[u]; i.childNodes.length && -1 === r.indexOf(i) ? (r.push(i), i = i.childNodes[i.childNodes.length - 1]) : i.previousSibling ? i = i.previousSibling : (i = i.parentNode, r.push(i)) } } var o = this, a = 0, v = 0, s, h, c; this.getAttachId = function () { return v++ }; s = this.messages = {}; this.render = function (s) { var a, v; s = s || {}; h = !1; c = s; for (var k = t(f, e.ngMessagesMultiple) || t(f, e.multiple), y = [], p = {}, l = o.head, w = !1, b = 0; null != l;)b++ , a = l.message, v = !1, w || i(s, function (n, t) { !v && u(n) && a.test(t) && !p[t] && (v = p[t] = !0, a.attach()) }), v ? w = !k : y.push(a), l = l.next; i(y, function (n) { n.detach() }); y.length !== b ? n.setClass(r, "ng-active", "ng-inactive") : n.setClass(r, "ng-inactive", "ng-active") }; f.$watchCollection(e.ngMessages || e["for"], o.render); r.on("$destroy", function () { i(s, function (n) { n.message.detach() }) }); this.reRender = function () { h || (h = !0, f.$evalAsync(function () { h && c && o.render(c) })) }; this.register = function (n, t) { var f = a.toString(), u, i; s[f] = { message: t }; u = r[0]; i = s[f]; o.head ? (u = l(u, n)) ? (i.next = u.next, u.next = i) : (i.next = o.head, o.head = i) : o.head = i; n.$$ngMessageNode = f; a++; o.reRender() }; this.deregister = function (n) { var i = n.$$ngMessageNode, t; delete n.$$ngMessageNode; t = s[i]; (n = l(r[0], n)) ? n.next = t.next : o.head = t.next; delete s[i]; o.reRender() } }] } }]).directive("ngMessagesInclude", ["$templateRequest", "$document", "$compile", function (n, t, i) { function u(n, r) { var u = i.$$createComment ? i.$$createComment("ngMessagesInclude", r) : t[0].createComment(" ngMessagesInclude: " + r + " "), u = e(u); n.after(u); n.remove() } return { restrict: "AE", require: "^^ngMessages", link: function (t, f, e) { var o = e.ngMessagesInclude || e.src; n(o).then(function (n) { t.$$destroyed || (r(n) && !n.trim() ? u(f, o) : i(n)(t, function (n) { f.after(n); u(f, o) })) }) } } }]).directive("ngMessage", f()).directive("ngMessageExp", f()) }(window, window.angular), function (n, t) { "use strict"; function l() { function a(n, t) { for (var f = {}, u = n.split(","), i = 0; i < u.length; i++)f[t ? r(u[i]) : u[i]] = !0; return f } function ct(t, i) { var e, r, u; t === null || t === undefined ? t = "" : typeof t != "string" && (t = "" + t); l.innerHTML = t; e = 5; do { if (e === 0) throw f("uinput", "Failed to sanitize html because the input is unstable"); e--; n.document.documentMode && g(l); t = l.innerHTML; l.innerHTML = t } while (t !== l.innerHTML); for (r = l.firstChild; r;) { switch (r.nodeType) { case 1: i.start(r.nodeName.toLowerCase(), lt(r.attributes)); break; case 3: i.chars(r.textContent) }if (!(u = r.firstChild) && (r.nodeType === 1 && i.end(r.nodeName.toLowerCase()), u = r.nextSibling, !u)) while (u == null) { if (r = r.parentNode, r === l) break; u = r.nextSibling; r.nodeType === 1 && i.end(r.nodeName.toLowerCase()) } r = u } while (r = l.firstChild) l.removeChild(r) } function lt(n) { for (var r = {}, i, t = 0, u = n.length; t < u; t++)i = n[t], r[i.name] = i.value; return r } function d(n) { return n.replace(/&/g, "&amp;").replace(nt, function (n) { var t = n.charCodeAt(0), i = n.charCodeAt(1); return "&#" + ((t - 55296) * 1024 + (i - 56320) + 65536) + ";" }).replace(tt, function (n) { return "&#" + n.charCodeAt(0) + ";" }).replace(/</g, "&lt;").replace(/>/g, "&gt;") } function at(n, t) { var u = !1, i = e(n, n.push); return { start: function (n, f) { n = r(n); !u && et[n] && (u = n); u || y[n] !== !0 || (i("<"), i(n), o(f, function (u, f) { var e = r(f), o = n === "img" && e === "src" || e === "background"; ht[e] === !0 && (k[e] !== !0 || t(u, o)) && (i(" "), i(f), i('="'), i(d(u)), i('"')) }), i(">")) }, end: function (n) { n = r(n); u || y[n] !== !0 || p[n] === !0 || (i("<\/"), i(n), i(">")); n == u && (u = !1) }, chars: function (n) { u || i(d(n)) } } } function g(t) { for (var r, i, u, f, e, o; t;) { if (t.nodeType === n.Node.ELEMENT_NODE) for (r = t.attributes, i = 0, u = r.length; i < u; i++)f = r[i], e = f.name.toLowerCase(), (e === "xmlns:ns1" || e.lastIndexOf("ns1:", 0) === 0) && (t.removeAttributeNode(f), i-- , u--); o = t.firstChild; o && g(o); t = t.nextSibling } } var v = !1, l; this.$get = ["$$sanitizeUri", function (n) { return v && i(y, ft), function (t) { var i = []; return c(t, u(i, function (t, i) { return !/^unsafe:/.test(n(t, i)) })), i.join("") } }]; this.enableSvg = function (n) { return s(n) ? (v = n, this) : v }; e = t.bind; i = t.extend; o = t.forEach; s = t.isDefined; r = t.lowercase; h = t.noop; c = ct; u = at; var nt = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, tt = /([^#-~ |!])/g, p = a("area,br,col,hr,img,wbr"), w = a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), b = a("rp,rt"), it = i({}, b, w), rt = i({}, w, a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")), ut = i({}, b, a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")), ft = a("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"), et = a("script,style"), y = i({}, p, rt, ut, it), k = a("background,cite,href,longdesc,src,xlink:href"), ot = a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"), st = a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan", !0), ht = i({}, k, st, ot); (function (n) { var t, u, i, r; if (n.document && n.document.implementation) t = n.document.implementation.createHTMLDocument("inert"); else throw f("noinert", "Can't create an inert html document"); u = t.documentElement || t.getDocumentElement(); i = u.getElementsByTagName("body"); i.length === 1 ? l = i[0] : (r = t.createElement("html"), l = t.createElement("body"), r.appendChild(l), t.appendChild(r)) })(n) } function a(n) { var t = [], i = u(t, h); return i.chars(n), t.join("") } var f = t.$$minErr("$sanitize"), e, i, o, s, r, h, c, u; t.module("ngSanitize", []).provider("$sanitize", l); t.module("ngSanitize").filter("linky", ["$sanitize", function (n) { var i = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i, r = /^mailto:/i, u = t.$$minErr("linky"), f = t.isDefined, e = t.isFunction, o = t.isObject, s = t.isString; return function (t, h, c) { function b(n) { n && v.push(a(n)) } function d(n, t) { var i, r = k(n); v.push("<a "); for (i in r) v.push(i + '="' + r[i] + '" '); !f(h) || "target" in r || v.push('target="', h, '" '); v.push('href="', n.replace(/"/g, "&quot;"), '">'); b(t); v.push("<\/a>") } if (t == null || t === "") return t; if (!s(t)) throw u("notstring", "Expected string but received: {0}", t); for (var k = e(c) ? c : o(c) ? function () { return c } : function () { return {} }, l, y = t, v = [], p, w; l = y.match(i);)p = l[0], l[2] || l[4] || (p = (l[3] ? "http://" : "mailto:") + p), w = l.index, b(y.substr(0, w)), d(p, l[0].replace(r, "")), y = y.substring(w + l[0].length); return b(y), n(v.join("")) } }]) }(window, window.angular); angular.module("ui.bootstrap", ["ui.bootstrap.tpls", "ui.bootstrap.tabs", "ui.bootstrap.chetterfoxcarousel", "ui.bootstrap.modal", "ui.bootstrap.multiMap", "ui.bootstrap.stackedMap", "ui.bootstrap.position"]); angular.module("ui.bootstrap.tpls", ["uib/template/tabs/tab.html", "uib/template/tabs/tabset.html", "uib/template/chetterfoxcarousel/chetterfoxcarousel.html", "uib/template/chetterfoxcarousel/slide.html", "uib/template/modal/window.html"]); angular.module("ui.bootstrap.tabs", []).controller("UibTabsetController", ["$scope", function (n) { function r(n) { for (var i = 0; i < t.tabs.length; i++)if (t.tabs[i].index === n) return i } var t = this, i, u; t.tabs = []; t.select = function (n, f) { var s, o, e; if (!u) { if (s = r(i), o = t.tabs[s], o) { o.tab.onDeselect({ $event: f, $selectedIndex: n }); if (f && f.isDefaultPrevented()) return; o.tab.active = !1 } if (e = t.tabs[n], e) { e.tab.onSelect({ $event: f }); e.tab.active = !0; t.active = e.index; i = e.index } else !e && angular.isDefined(i) && (t.active = null, i = null) } }; t.addTab = function (n) { if (t.tabs.push({ tab: n, index: n.index }), t.tabs.sort(function (n, t) { return n.index > t.index ? 1 : n.index < t.index ? -1 : 0 }), n.index === t.active || !angular.isDefined(t.active) && t.tabs.length === 1) { var i = r(n.index); t.select(i) } }; t.removeTab = function (n) { for (var i, u, r = 0; r < t.tabs.length; r++)if (t.tabs[r].tab === n) { i = r; break } t.tabs[i].index === t.active && (u = i === t.tabs.length - 1 ? i - 1 : i + 1 % t.tabs.length, t.select(u)); t.tabs.splice(i, 1) }; n.$watch("tabset.active", function (n) { angular.isDefined(n) && n !== i && t.select(r(n)) }); n.$on("$destroy", function () { u = !0 }) }]).directive("uibTabset", function () { return { transclude: !0, replace: !0, scope: {}, bindToController: { active: "=?", type: "@" }, controller: "UibTabsetController", controllerAs: "tabset", templateUrl: function (n, t) { return t.templateUrl || "uib/template/tabs/tabset.html" }, link: function (n, t, i) { n.vertical = angular.isDefined(i.vertical) ? n.$parent.$eval(i.vertical) : !1; n.justified = angular.isDefined(i.justified) ? n.$parent.$eval(i.justified) : !1 } } }).directive("uibTab", ["$parse", function (n) { return { require: "^uibTabset", replace: !0, templateUrl: function (n, t) { return t.templateUrl || "uib/template/tabs/tab.html" }, transclude: !0, scope: { heading: "@", index: "=?", classes: "@?", onSelect: "&select", onDeselect: "&deselect" }, controller: function () { }, controllerAs: "tab", link: function (t, i, r, u, f) { t.disabled = !1; r.disable && t.$parent.$watch(n(r.disable), function (n) { t.disabled = !!n }); angular.isUndefined(r.index) && (t.index = u.tabs && u.tabs.length ? Math.max.apply(null, u.tabs.map(function (n) { return n.index })) + 1 : 0); angular.isUndefined(r.classes) && (t.classes = ""); t.select = function (n) { var r, i; if (!t.disabled) { for (i = 0; i < u.tabs.length; i++)if (u.tabs[i].tab === t) { r = i; break } u.select(r, n) } }; u.addTab(t); t.$on("$destroy", function () { u.removeTab(t) }); t.$transcludeFn = f } } }]).directive("uibTabHeadingTransclude", function () { return { restrict: "A", require: "^uibTab", link: function (n, t) { n.$watch("headingElement", function (n) { n && (t.html(""), t.append(n)) }) } } }).directive("uibTabContentTransclude", function () { function n(n) { return n.tagName && (n.hasAttribute("uib-tab-heading") || n.hasAttribute("data-uib-tab-heading") || n.hasAttribute("x-uib-tab-heading") || n.tagName.toLowerCase() === "uib-tab-heading" || n.tagName.toLowerCase() === "data-uib-tab-heading" || n.tagName.toLowerCase() === "x-uib-tab-heading" || n.tagName.toLowerCase() === "uib:tab-heading") } return { restrict: "A", require: "^uibTabset", link: function (t, i, r) { var u = t.$eval(r.uibTabContentTransclude).tab; u.$transcludeFn(u.$parent, function (t) { angular.forEach(t, function (t) { n(t) ? u.headingElement = t : i.append(t) }) }) } } }); angular.module("ui.bootstrap.chetterfoxcarousel", []).controller("UibchetterfoxcarouselController", ["$scope", "$element", "$interval", "$timeout", "$animate", function (n, t, i, r, u) { function s(n) { for (var t = 0; t < f.length; t++)f[t].slide.active = t === n } function w(i, r, h) { if (!p) { if (angular.extend(i, { direction: h }), angular.extend(f[o].slide || {}, { direction: h }), u.enabled(t) && !n.$currentTransition && f[r].element && e.slides.length > 1) { f[r].element.data(y, i.direction); var c = e.getCurrentIndex(); angular.isNumber(c) && f[c].element && f[c].element.data(y, i.direction); n.$currentTransition = !0; u.on("addClass", f[r].element, function (t, i) { i === "close" && (n.$currentTransition = null, u.off("addClass", t)) }) } n.active = i.index; o = i.index; s(r); v() } } function l(n) { for (var t = 0; t < f.length; t++)if (f[t].slide === n) return t } function a() { h && (i.cancel(h), h = null) } function b(t) { t.length || (n.$currentTransition = null) } function v() { a(); var t = +n.interval; !isNaN(t) && t > 0 && (h = i(k, t)) } function k() { var t = +n.interval; c && !isNaN(t) && t > 0 && f.length ? n.next() : n.pause() } var e = this, f = e.slides = n.slides = [], y = "uib-slideDirection", o = n.active, h, c, p = !1; t.addClass("chetterfoxcarousel"); e.addSlide = function (t, i) { f.push({ slide: t, element: i }); f.sort(function (n, t) { return +n.slide.index - +t.slide.index }); t.index !== n.active && (f.length !== 1 || angular.isNumber(n.active)) || (n.$currentTransition && (n.$currentTransition = null), o = t.index, n.active = t.index, s(o), e.select(f[l(t)]), f.length === 1 && n.play()) }; e.getCurrentIndex = function () { for (var n = 0; n < f.length; n++)if (f[n].slide.index === o) return n }; e.next = n.next = function () { var t = (e.getCurrentIndex() + 1) % f.length; if (t === 0 && n.noWrap()) { n.pause(); return } return e.select(f[t], "next") }; e.prev = n.prev = function () { var t = e.getCurrentIndex() - 1 < 0 ? f.length - 1 : e.getCurrentIndex() - 1; if (n.noWrap() && t === f.length - 1) { n.pause(); return } return e.select(f[t], "prev") }; e.removeSlide = function (t) { var i = l(t); f.splice(i, 1); f.length > 0 && o === i ? i >= f.length ? (o = f.length - 1, n.active = o, s(o), e.select(f[f.length - 1])) : (o = i, n.active = o, s(o), e.select(f[i])) : o > i && (o-- , n.active = o); f.length === 0 && (o = null, n.active = null) }; e.select = n.select = function (t, i) { var r = l(t.slide); i === undefined && (i = r > e.getCurrentIndex() ? "next" : "prev"); t.slide.index === o || n.$currentTransition || w(t.slide, r, i) }; n.indexOfSlide = function (n) { return +n.slide.index }; n.isActive = function (t) { return n.active === t.slide.index }; n.isPrevDisabled = function () { return n.active === 0 && n.noWrap() }; n.isNextDisabled = function () { return n.active === f.length - 1 && n.noWrap() }; n.pause = function () { n.noPause || (c = !1, a()) }; n.play = function () { c || (c = !0, v()) }; t.on("mouseenter", n.pause); t.on("mouseleave", n.play); n.$on("$destroy", function () { p = !0; a() }); n.$watch("noTransition", function (n) { u.enabled(t, !n) }); n.$watch("interval", v); n.$watchCollection("slides", b); n.$watch("active", function (n) { var t, i; if (angular.isNumber(n) && o !== n) { for (t = 0; t < f.length; t++)if (f[t].slide.index === n) { n = t; break } i = f[n]; i && (s(n), e.select(f[n]), o = n) } }) }]).directive("uibChetterfoxcarousel", function () { return { transclude: !0, controller: "UibchetterfoxcarouselController", controllerAs: "chetterfoxcarousel", restrict: "A", templateUrl: function (n, t) { return t.templateUrl || "uib/template/chetterfoxcarousel/chetterfoxcarousel.html" }, scope: { active: "=", interval: "=", noTransition: "=", noPause: "=", noWrap: "&" } } }).directive("uibSlide", ["$animate", function (n) { return { require: "^uibChetterfoxcarousel", restrict: "A", transclude: !0, templateUrl: function (n, t) { return t.templateUrl || "uib/template/chetterfoxcarousel/slide.html" }, scope: { actual: "=?", index: "=?" }, link: function (t, i, r, u) { i.addClass("item"); u.addSlide(t, i); t.$on("$destroy", function () { u.removeSlide(t) }); t.$watch("active", function (t) { n[t ? "addClass" : "removeClass"](i, "active") }) } } }]).animation(".item", ["$animateCss", function (n) { function i(n, t, i) { n.removeClass(t); i && i() } var t = "uib-slideDirection"; return { beforeAddClass: function (r, u, f) { if (u === "active") { var s = !1, e = r.data(t), o = e === "next" ? "left" : "right", h = i.bind(this, r, o + " " + e, f); return r.addClass(e), n(r, { addClass: o }).start().done(h), function () { s = !0 } } f() }, beforeRemoveClass: function (r, u, f) { if (u === "active") { var o = !1, s = r.data(t), e = s === "next" ? "left" : "right", h = i.bind(this, r, e, f); return n(r, { addClass: e }).start().done(h), function () { o = !0 } } f() } } }]); angular.module("ui.bootstrap.modal", ["ui.bootstrap.multiMap", "ui.bootstrap.stackedMap", "ui.bootstrap.position"]).provider("$uibResolve", function () { var n = this; this.resolver = null; this.setResolver = function (n) { this.resolver = n }; this.$get = ["$injector", "$q", function (t, i) { var r = n.resolver ? t.get(n.resolver) : null; return { resolve: function (n, u, f, e) { if (r) return r.resolve(n, u, f, e); var o = []; return angular.forEach(n, function (n) { angular.isFunction(n) || angular.isArray(n) ? o.push(i.resolve(t.invoke(n))) : angular.isString(n) ? o.push(i.resolve(t.get(n))) : o.push(i.resolve(n)) }), i.all(o).then(function (t) { var i = {}, r = 0; return angular.forEach(n, function (n, u) { i[u] = t[r++] }), i }) } } }] }).directive("uibModalBackdrop", ["$animate", "$injector", "$uibModalStack", function (n, t, i) { function r(t, r, u) { u.modalInClass && (n.addClass(r, u.modalInClass), t.$on(i.NOW_CLOSING_EVENT, function (i, f) { var e = f(); t.modalOptions.animation ? n.removeClass(r, u.modalInClass).then(e) : e() })) } return { restrict: "A", compile: function (n, t) { return n.addClass(t.backdropClass), r } } }]).directive("uibModalWindow", ["$uibModalStack", "$q", "$animateCss", "$document", function (n, t, i, r) { return { scope: { index: "@" }, restrict: "A", transclude: !0, templateUrl: function (n, t) { return t.templateUrl || "uib/template/modal/window.html" }, link: function (u, f, e) { f.addClass(e.windowTopClass || ""); u.size = e.size; u.close = function (t) { var i = n.getTop(); i && i.value.backdrop && i.value.backdrop !== "static" && t.target === t.currentTarget && (t.preventDefault(), t.stopPropagation(), n.dismiss(i.key, "backdrop click")) }; f.on("click", u.close); u.$isRendered = !0; var o = t.defer(); u.$$postDigest(function () { o.resolve() }); o.promise.then(function () { var o = null; e.modalInClass && (o = i(f, { addClass: e.modalInClass }).start(), u.$on(n.NOW_CLOSING_EVENT, function (n, t) { var r = t(); i(f, { removeClass: e.modalInClass }).start().then(r) })); t.when(o).then(function () { var i = n.getTop(), t; i && n.modalRendered(i.key); r[0].activeElement && f[0].contains(r[0].activeElement) || (t = f[0].querySelector("[autofocus]"), t ? t.focus() : f[0].focus()) }) }) } } }]).directive("uibModalAnimationClass", function () { return { compile: function (n, t) { t.modalAnimation && n.addClass(t.uibModalAnimationClass) } } }).directive("uibModalTransclude", ["$animate", function (n) { return { link: function (t, i, r, u, f) { f(t.$parent, function (t) { i.empty(); n.enter(t, i) }) } } }]).factory("$uibModalStack", ["$animate", "$animateCss", "$document", "$compile", "$rootScope", "$q", "$$multiMap", "$$stackedMap", "$uibPosition", function (n, t, i, r, u, f, e, o, s) { function ot(n) { var t = "-"; return n.replace(et, function (n, i) { return (i ? t : "") + n.toLowerCase() }) } function st(n) { return !!(n.offsetWidth || n.offsetHeight || n.getClientRects().length) } function k() { for (var n = -1, i = c.keys(), t = 0; t < i.length; t++)c.get(i[t]).value.backdrop && (n = t); return n > -1 && n < y && (n = y), n } function g(n, t) { var i = c.get(n).value, r = i.appendTo; c.remove(n); p = c.top(); p && (y = parseInt(p.value.modalDomEl.attr("index"), 10)); tt(i.modalDomEl, i.modalScope, function () { var t = i.openedClass || d, u; b.remove(t, n); u = b.hasKey(t); r.toggleClass(t, u); !u && a && a.heightOverflow && a.scrollbarWidth && (a.originalRight ? r.css({ paddingRight: a.originalRight + "px" }) : r.css({ paddingRight: "" }), a = null); nt(!0) }, i.closedDeferred); ht(); t && t.focus ? t.focus() : r.focus && r.focus() } function nt(n) { var t; c.length() > 0 && (t = c.top().value, t.modalDomEl.toggleClass(t.windowTopClass || "", n)) } function ht() { if (l && k() === -1) { var n = v; tt(l, v, function () { n = null }); l = undefined; v = undefined } } function tt(t, i, r, u) { function o() { o.done || (o.done = !0, n.leave(t).then(function () { r && r(); t.remove(); u && u.resolve() }), i.$destroy()) } var e, s = null, c = function () { return e || (e = f.defer(), s = e.promise), function () { e.resolve() } }; return i.$broadcast(h.NOW_CLOSING_EVENT, c), f.when(s).then(o) } function it(n) { var t, i, r; if (n.isDefaultPrevented()) return n; if (t = c.top(), t) switch (n.which) { case 27: t.value.keyboard && (n.preventDefault(), u.$apply(function () { h.dismiss(t.key, "escape key press") })); break; case 9: i = h.loadFocusElementList(t); r = !1; n.shiftKey ? (h.isFocusInFirstItem(n, i) || h.isModalFocused(n, t)) && (r = h.focusLastFocusableElement(i)) : h.isFocusInLastItem(n, i) && (r = h.focusFirstFocusableElement(i)); r && (n.preventDefault(), n.stopPropagation()) } } function rt(n, t, i) { return !n.value.modalScope.$broadcast("modal.closing", t, i).defaultPrevented } function ut() { Array.prototype.forEach.call(document.querySelectorAll("[" + w + "]"), function (n) { var i = parseInt(n.getAttribute(w), 10), t = i - 1; n.setAttribute(w, t); t || (n.removeAttribute(w), n.removeAttribute("aria-hidden")) }) } var d = "modal-open", l, v, c = o.createNew(), b = e.createNew(), h = { NOW_CLOSING_EVENT: "modal.stack.now-closing" }, y = 0, p = null, w = "data-bootstrap-modal-aria-hidden-count", ft = "a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]", a, et = /[A-Z]/g; u.$watch(k, function (n) { v && (v.index = n) }); i.on("keydown", it); return u.$on("$destroy", function () { i.off("keydown", it) }), h.open = function (t, f) { function it(n) { function t(n) { var t = n.parent() ? n.parent().children() : []; return Array.prototype.filter.call(t, function (t) { return t !== n[0] }) } if (n && n[0].tagName !== "BODY") return t(n).forEach(function (n) { var i = n.getAttribute("aria-hidden") === "true", t = parseInt(n.getAttribute(w), 10); t || (t = i ? 1 : 0); n.setAttribute(w, t + 1); n.setAttribute("aria-hidden", "true") }), it(n.parent()) } var rt = i[0].activeElement, tt = f.openedClass || d, e, g, h, o; nt(!1); p = c.top(); c.add(t, { deferred: f.deferred, renderDeferred: f.renderDeferred, closedDeferred: f.closedDeferred, modalScope: f.scope, backdrop: f.backdrop, keyboard: f.keyboard, openedClass: f.openedClass, windowTopClass: f.windowTopClass, animation: f.animation, appendTo: f.appendTo }); b.put(tt, t); e = f.appendTo; g = k(); g >= 0 && !l && (v = u.$new(!0), v.modalOptions = f, v.index = g, l = angular.element('<div uib-modal-backdrop="modal-backdrop"><\/div>'), l.attr({ "class": "modal-backdrop", "ng-style": "{'z-index': 1040 + (index && 1 || 0) + index*10}", "uib-modal-animation-class": "fade", "modal-in-class": "in" }), f.backdropClass && l.addClass(f.backdropClass), f.animation && l.attr("modal-animation", "true"), r(l)(v), n.enter(l, e), s.isScrollable(e) && (a = s.scrollbarPadding(e), a.heightOverflow && a.scrollbarWidth && e.css({ paddingRight: a.right + "px" }))); f.component ? (h = document.createElement(ot(f.component.name)), h = angular.element(h), h.attr({ resolve: "$resolve", "modal-instance": "$uibModalInstance", close: "$close($value)", dismiss: "$dismiss($value)" })) : h = f.content; y = p ? parseInt(p.value.modalDomEl.attr("index"), 10) + 1 : 0; o = angular.element('<div uib-modal-window="modal-window"><\/div>'); o.attr({ "class": "modal", "template-url": f.windowTemplateUrl, "window-top-class": f.windowTopClass, role: "dialog", "aria-labelledby": f.ariaLabelledBy, "aria-describedby": f.ariaDescribedBy, size: f.size, index: y, animate: "animate", "ng-style": "{'z-index': 1050 + $$topModalIndex*10, display: 'block'}", tabindex: -1, "uib-modal-animation-class": "fade", "modal-in-class": "in" }).append(h); f.windowClass && o.addClass(f.windowClass); f.animation && o.attr("modal-animation", "true"); e.addClass(tt); f.scope && (f.scope.$$topModalIndex = y); n.enter(r(o)(f.scope), e); c.top().value.modalDomEl = o; c.top().value.modalOpener = rt; it(o) }, h.close = function (n, t) { var i = c.get(n); return (ut(), i && rt(i, t, !0)) ? (i.value.modalScope.$$uibDestructionScheduled = !0, i.value.deferred.resolve(t), g(n, i.value.modalOpener), !0) : !i }, h.dismiss = function (n, t) { var i = c.get(n); return (ut(), i && rt(i, t, !1)) ? (i.value.modalScope.$$uibDestructionScheduled = !0, i.value.deferred.reject(t), g(n, i.value.modalOpener), !0) : !i }, h.dismissAll = function (n) { for (var t = this.getTop(); t && this.dismiss(t.key, n);)t = this.getTop() }, h.getTop = function () { return c.top() }, h.modalRendered = function (n) { var t = c.get(n); t && t.value.renderDeferred.resolve() }, h.focusFirstFocusableElement = function (n) { return n.length > 0 ? (n[0].focus(), !0) : !1 }, h.focusLastFocusableElement = function (n) { return n.length > 0 ? (n[n.length - 1].focus(), !0) : !1 }, h.isModalFocused = function (n, t) { if (n && t) { var i = t.value.modalDomEl; if (i && i.length) return (n.target || n.srcElement) === i[0] } return !1 }, h.isFocusInFirstItem = function (n, t) { return t.length > 0 ? (n.target || n.srcElement) === t[0] : !1 }, h.isFocusInLastItem = function (n, t) { return t.length > 0 ? (n.target || n.srcElement) === t[t.length - 1] : !1 }, h.loadFocusElementList = function (n) { var t, i; if (n && (t = n.value.modalDomEl, t && t.length)) return i = t[0].querySelectorAll(ft), i ? Array.prototype.filter.call(i, function (n) { return st(n) }) : i }, h }]).provider("$uibModal", function () { var n = { options: { animation: !0, backdrop: !0, keyboard: !0 }, $get: ["$rootScope", "$q", "$document", "$templateRequest", "$controller", "$uibResolve", "$uibModalStack", function (t, i, r, u, f, e, o) { function c(n) { return n.template ? i.when(n.template) : u(angular.isFunction(n.templateUrl) ? n.templateUrl() : n.templateUrl) } var h = {}, s = null; return h.getPromiseChain = function () { return s }, h.open = function (u) { function w() { return p } var l = i.defer(), a = i.defer(), v = i.defer(), y = i.defer(), h = { result: l.promise, opened: a.promise, closed: v.promise, rendered: y.promise, close: function (n) { return o.close(h, n) }, dismiss: function (n) { return o.dismiss(h, n) } }, p, b; if (u = angular.extend({}, n.options, u), u.resolve = u.resolve || {}, u.appendTo = u.appendTo || r.find("body").eq(0), !u.appendTo.length) throw new Error("appendTo element not found. Make sure that the element passed is in DOM."); if (!u.component && !u.template && !u.templateUrl) throw new Error("One of component or template or templateUrl options is required."); return p = u.component ? i.when(e.resolve(u.resolve, {}, null, null)) : i.all([c(u), e.resolve(u.resolve, {}, null, null)]), b = s = i.all([s]).then(w, w).then(function (n) { function b(t, r, u, f) { t.$scope = i; t.$scope.$resolve = {}; u ? t.$scope.$uibModalInstance = h : t.$uibModalInstance = h; var e = r ? n[1] : n; angular.forEach(e, function (n, i) { f && (t[i] = n); t.$scope.$resolve[i] = n }) } var w = u.scope || t, i = w.$new(); i.$close = h.close; i.$dismiss = h.dismiss; i.$on("$destroy", function () { i.$$uibDestructionScheduled || i.$dismiss("$uibUnscheduledDestruction") }); var e = { scope: i, deferred: l, renderDeferred: y, closedDeferred: v, animation: u.animation, backdrop: u.backdrop, keyboard: u.keyboard, backdropClass: u.backdropClass, windowTopClass: u.windowTopClass, windowClass: u.windowClass, windowTemplateUrl: u.windowTemplateUrl, ariaLabelledBy: u.ariaLabelledBy, ariaDescribedBy: u.ariaDescribedBy, size: u.size, openedClass: u.openedClass, appendTo: u.appendTo }, s = {}, r, c, p = {}; u.component ? (b(s, !1, !0, !1), s.name = u.component, e.component = s) : u.controller && (b(p, !0, !1, !0), c = f(u.controller, p, !0, u.controllerAs), u.controllerAs && u.bindToController && (r = c.instance, r.$close = i.$close, r.$dismiss = i.$dismiss, angular.extend(r, { $resolve: p.$scope.$resolve }, w)), r = c(), angular.isFunction(r.$onInit) && r.$onInit()); u.component || (e.content = n[0]); o.open(h, e); a.resolve(!0) }, function (n) { a.reject(n); l.reject(n) })["finally"](function () { s === b && (s = null) }), h }, h }] }; return n }); angular.module("ui.bootstrap.multiMap", []).factory("$$multiMap", function () { return { createNew: function () { var n = {}; return { entries: function () { return Object.keys(n).map(function (t) { return { key: t, value: n[t] } }) }, get: function (t) { return n[t] }, hasKey: function (t) { return !!n[t] }, keys: function () { return Object.keys(n) }, put: function (t, i) { n[t] || (n[t] = []); n[t].push(i) }, remove: function (t, i) { var r = n[t], u; r && (u = r.indexOf(i), u !== -1 && r.splice(u, 1), r.length || delete n[t]) } } } } }); angular.module("ui.bootstrap.stackedMap", []).factory("$$stackedMap", function () { return { createNew: function () { var n = []; return { add: function (t, i) { n.push({ key: t, value: i }) }, get: function (t) { for (var i = 0; i < n.length; i++)if (t === n[i].key) return n[i] }, keys: function () { for (var i = [], t = 0; t < n.length; t++)i.push(n[t].key); return i }, top: function () { return n[n.length - 1] }, remove: function (t) { for (var r = -1, i = 0; i < n.length; i++)if (t === n[i].key) { r = i; break } return n.splice(r, 1)[0] }, removeTop: function () { return n.pop() }, length: function () { return n.length } } } } }); angular.module("ui.bootstrap.position", []).factory("$uibPosition", ["$document", "$window", function (n, t) { var r, u, f = { normal: /(auto|scroll)/, hidden: /(auto|scroll|hidden)/ }, i = { auto: /\s?auto?\s?/i, primary: /^(top|bottom|left|right)$/, secondary: /^(top|bottom|left|right|center)$/, vertical: /^(top|bottom)$/ }, e = /(HTML|BODY)/; return { getRawNode: function (n) { return n.nodeName ? n : n[0] || n }, parseStyle: function (n) { return n = parseFloat(n), isFinite(n) ? n : 0 }, offsetParent: function (i) { function u(n) { return (t.getComputedStyle(n).position || "static") === "static" } i = this.getRawNode(i); for (var r = i.offsetParent || n[0].documentElement; r && r !== n[0].documentElement && u(r);)r = r.offsetParent; return r || n[0].documentElement }, scrollbarWidth: function (i) { var e, f; return i ? (angular.isUndefined(u) && (e = n.find("body"), e.addClass("uib-position-body-scrollbar-measure"), u = t.innerWidth - e[0].clientWidth, u = isFinite(u) ? u : 0, e.removeClass("uib-position-body-scrollbar-measure")), u) : (angular.isUndefined(r) && (f = angular.element('<div class="uib-position-scrollbar-measure"><\/div>'), n.find("body").append(f), r = f[0].offsetWidth - f[0].clientWidth, r = isFinite(r) ? r : 0, f.remove()), r) }, scrollbarPadding: function (n) { n = this.getRawNode(n); var u = t.getComputedStyle(n), f = this.parseStyle(u.paddingRight), o = this.parseStyle(u.paddingBottom), i = this.scrollParent(n, !1, !0), r = this.scrollbarWidth(e.test(i.tagName)); return { scrollbarWidth: r, widthOverflow: i.scrollWidth > i.clientWidth, right: f + r, originalRight: f, heightOverflow: i.scrollHeight > i.clientHeight, bottom: o + r, originalBottom: o } }, isScrollable: function (n, i) { n = this.getRawNode(n); var u = i ? f.hidden : f.normal, r = t.getComputedStyle(n); return u.test(r.overflow + r.overflowY + r.overflowX) }, scrollParent: function (i, r, u) { var c, e, s; i = this.getRawNode(i); var l = r ? f.hidden : f.normal, h = n[0].documentElement, o = t.getComputedStyle(i); if (u && l.test(o.overflow + o.overflowY + o.overflowX)) return i; if (c = o.position === "absolute", e = i.parentElement || h, e === h || o.position === "fixed") return h; while (e.parentElement && e !== h) { if (s = t.getComputedStyle(e), c && s.position !== "static" && (c = !1), !c && l.test(s.overflow + s.overflowY + s.overflowX)) break; e = e.parentElement } return e }, position: function (i, r) { var u, o, f, e; return i = this.getRawNode(i), u = this.offset(i), r && (o = t.getComputedStyle(i), u.top -= this.parseStyle(o.marginTop), u.left -= this.parseStyle(o.marginLeft)), f = this.offsetParent(i), e = { top: 0, left: 0 }, f !== n[0].documentElement && (e = this.offset(f), e.top += f.clientTop - f.scrollTop, e.left += f.clientLeft - f.scrollLeft), { width: Math.round(angular.isNumber(u.width) ? u.width : i.offsetWidth), height: Math.round(angular.isNumber(u.height) ? u.height : i.offsetHeight), top: Math.round(u.top - e.top), left: Math.round(u.left - e.left) } }, offset: function (i) { i = this.getRawNode(i); var r = i.getBoundingClientRect(); return { width: Math.round(angular.isNumber(r.width) ? r.width : i.offsetWidth), height: Math.round(angular.isNumber(r.height) ? r.height : i.offsetHeight), top: Math.round(r.top + (t.pageYOffset || n[0].documentElement.scrollTop)), left: Math.round(r.left + (t.pageXOffset || n[0].documentElement.scrollLeft)) } }, viewportOffset: function (i, r, u) { var o; i = this.getRawNode(i); u = u !== !1 ? !0 : !1; var s = i.getBoundingClientRect(), f = { top: 0, left: 0, bottom: 0, right: 0 }, e = r ? n[0].documentElement : this.scrollParent(i), h = e.getBoundingClientRect(); return f.top = h.top + e.clientTop, f.left = h.left + e.clientLeft, e === n[0].documentElement && (f.top += t.pageYOffset, f.left += t.pageXOffset), f.bottom = f.top + e.clientHeight, f.right = f.left + e.clientWidth, u && (o = t.getComputedStyle(e), f.top += this.parseStyle(o.paddingTop), f.bottom -= this.parseStyle(o.paddingBottom), f.left += this.parseStyle(o.paddingLeft), f.right -= this.parseStyle(o.paddingRight)), { top: Math.round(s.top - f.top), bottom: Math.round(f.bottom - s.bottom), left: Math.round(s.left - f.left), right: Math.round(f.right - s.right) } }, parsePlacement: function (n) { var t = i.auto.test(n); return t && (n = n.replace(i.auto, "")), n = n.split("-"), n[0] = n[0] || "top", i.primary.test(n[0]) || (n[0] = "top"), n[1] = n[1] || "center", i.secondary.test(n[1]) || (n[1] = "center"), n[2] = t ? !0 : !1, n }, positionElements: function (n, r, u, f) { var c, l, e, h, v, y; if (n = this.getRawNode(n), r = this.getRawNode(r), c = angular.isDefined(r.offsetWidth) ? r.offsetWidth : r.prop("offsetWidth"), l = angular.isDefined(r.offsetHeight) ? r.offsetHeight : r.prop("offsetHeight"), u = this.parsePlacement(u), e = f ? this.offset(n) : this.position(n), h = { top: 0, left: 0, placement: "" }, u[2]) { var o = this.viewportOffset(n, f), a = t.getComputedStyle(r), s = { width: c + Math.round(Math.abs(this.parseStyle(a.marginLeft) + this.parseStyle(a.marginRight))), height: l + Math.round(Math.abs(this.parseStyle(a.marginTop) + this.parseStyle(a.marginBottom))) }; u[0] = u[0] === "top" && s.height > o.top && s.height <= o.bottom ? "bottom" : u[0] === "bottom" && s.height > o.bottom && s.height <= o.top ? "top" : u[0] === "left" && s.width > o.left && s.width <= o.right ? "right" : u[0] === "right" && s.width > o.right && s.width <= o.left ? "left" : u[0]; u[1] = u[1] === "top" && s.height - e.height > o.bottom && s.height - e.height <= o.top ? "bottom" : u[1] === "bottom" && s.height - e.height > o.top && s.height - e.height <= o.bottom ? "top" : u[1] === "left" && s.width - e.width > o.right && s.width - e.width <= o.left ? "right" : u[1] === "right" && s.width - e.width > o.left && s.width - e.width <= o.right ? "left" : u[1]; u[1] === "center" && (i.vertical.test(u[0]) ? (v = e.width / 2 - c / 2, o.left + v < 0 && s.width - e.width <= o.right ? u[1] = "left" : o.right + v < 0 && s.width - e.width <= o.left && (u[1] = "right")) : (y = e.height / 2 - s.height / 2, o.top + y < 0 && s.height - e.height <= o.bottom ? u[1] = "top" : o.bottom + y < 0 && s.height - e.height <= o.top && (u[1] = "bottom"))) } switch (u[0]) { case "top": h.top = e.top - l; break; case "bottom": h.top = e.top + e.height; break; case "left": h.left = e.left - c; break; case "right": h.left = e.left + e.width }switch (u[1]) { case "top": h.top = e.top; break; case "bottom": h.top = e.top + e.height - l; break; case "left": h.left = e.left; break; case "right": h.left = e.left + e.width - c; break; case "center": i.vertical.test(u[0]) ? h.left = e.left + e.width / 2 - c / 2 : h.top = e.top + e.height / 2 - l / 2 }return h.top = Math.round(h.top), h.left = Math.round(h.left), h.placement = u[1] === "center" ? u[0] : u[0] + "-" + u[1], h }, adjustTop: function (n, t, i, r) { if (n.indexOf("top") !== -1 && i !== r) return { top: t.top - r + "px" } }, positionArrow: function (n, r) { var o, f, e, u, c; if ((n = this.getRawNode(n), o = n.querySelector(".tooltip-inner, .popover-inner"), o) && (f = angular.element(o).hasClass("tooltip-inner"), e = f ? n.querySelector(".tooltip-arrow") : n.querySelector(".arrow"), e)) { if (u = { top: "", bottom: "", left: "", right: "" }, r = this.parsePlacement(r), r[1] === "center") { angular.element(e).css(u); return } var l = "border-" + r[0] + "-width", s = t.getComputedStyle(e)[l], h = "border-"; h += i.vertical.test(r[0]) ? r[0] + "-" + r[1] : r[1] + "-" + r[0]; h += "-radius"; c = t.getComputedStyle(f ? o : n)[h]; switch (r[0]) { case "top": u.bottom = f ? "0" : "-" + s; break; case "bottom": u.top = f ? "0" : "-" + s; break; case "left": u.right = f ? "0" : "-" + s; break; case "right": u.left = f ? "0" : "-" + s }u[r[1]] = c; angular.element(e).css(u) } } } }]); angular.module("uib/template/tabs/tab.html", []).run(["$templateCache", function (n) { n.put("uib/template/tabs/tab.html", '<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}<\/a>\n<\/li>\n') }]); angular.module("uib/template/tabs/tabset.html", []).run(["$templateCache", function (n) { n.put("uib/template/tabs/tabset.html", '<div>\n <div><ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude><\/ul><\/div>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    <\/div>\n  <\/div>\n<\/div>\n') }]); angular.module("uib/template/chetterfoxcarousel/chetterfoxcarousel.html", []).run(["$templateCache", function (n) { n.put("uib/template/chetterfoxcarousel/chetterfoxcarousel.html", '<div class="chetterfoxcarousel-inner" ng-transclude><\/div>\n<a role="button" href class="left chetterfoxcarousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="chetterfoxcarousel-chevron-left"><\/span>\n  <span class="sr-only">previous<\/span>\n<\/a>\n<a role="button" href class="right chetterfoxcarousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="chetterfoxcarousel-chevron-right"><\/span>\n  <span class="sr-only">next<\/span>\n<\/a>\n<ol class="chetterfoxcarousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active<\/span><\/span>\n  <\/li>\n<\/ol>\n') }]); angular.module("uib/template/chetterfoxcarousel/slide.html", []).run(["$templateCache", function (n) { n.put("uib/template/chetterfoxcarousel/slide.html", '<div class="text-center" ng-transclude><\/div>\n') }]); angular.module("uib/template/modal/window.html", []).run(["$templateCache", function (n) { n.put("uib/template/modal/window.html", "<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude><\/div><\/div>\n") }]); angular.module("ui.bootstrap.chetterfoxcarousel").run(function () { angular.$$csp().noInlineStyle || angular.$$uibchetterfoxcarouselCss || angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}<\/style>'); angular.$$uibchetterfoxcarouselCss = !0 }); angular.module("ui.bootstrap.position").run(function () { angular.$$csp().noInlineStyle || angular.$$uibPositionCss || angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}<\/style>'); angular.$$uibPositionCss = !0 }), function () { function nt(t) { function r(n, i, r, u, f, e) { for (; f >= 0 && e > f; f += t) { var o = u ? u[f] : f; r = i(r, n[o], o, n) } return r } return function (u, f, o, s) { f = e(f, s, 4); var h = !i(u) && n.keys(u), l = (h || u).length, c = t > 0 ? 0 : l - 1; return arguments.length < 3 && (o = u[h ? h[c] : c], c += t), r(u, f, o, h, c, l) } } function tt(n) { return function (i, r, f) { r = t(r, f); for (var o = u(i), e = n > 0 ? 0 : o - 1; e >= 0 && o > e; e += n)if (r(i[e], e, i)) return e; return -1 } } function it(t, i, f) { return function (e, o, s) { var c = 0, h = u(e); if ("number" == typeof s) t > 0 ? c = s >= 0 ? s : Math.max(s + h, c) : h = s >= 0 ? Math.min(s + 1, h) : s + h + 1; else if (f && s && h) return s = f(e, o), e[s] === o ? s : -1; if (o !== o) return s = i(r.call(e, c, h), n.isNaN), s >= 0 ? s + c : -1; for (s = t > 0 ? c : h - 1; s >= 0 && h > s; s += t)if (e[s] === o) return s; return -1 } } function rt(t, i) { var u = d.length, f = t.constructor, e = n.isFunction(f) && f.prototype || v, r = "constructor"; for (n.has(t, r) && !n.contains(i, r) && i.push(r); u--;)r = d[u], r in t && t[r] !== e[r] && !n.contains(i, r) && i.push(r) } var a = this, lt = a._, s = Array.prototype, v = Object.prototype, at = Function.prototype, vt = s.push, r = s.slice, o = v.toString, yt = v.hasOwnProperty, pt = Array.isArray, ut = Object.keys, y = at.bind, ft = Object.create, p = function () { }, n = function (t) { return t instanceof n ? t : this instanceof n ? void (this._wrapped = t) : new n(t) }, e, t, h, f, b, k, d, c, ct, l; "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = n), exports._ = n) : a._ = n; n.VERSION = "1.8.3"; e = function (n, t, i) { if (t === void 0) return n; switch (null == i ? 3 : i) { case 1: return function (i) { return n.call(t, i) }; case 2: return function (i, r) { return n.call(t, i, r) }; case 3: return function (i, r, u) { return n.call(t, i, r, u) }; case 4: return function (i, r, u, f) { return n.call(t, i, r, u, f) } }return function () { return n.apply(t, arguments) } }; t = function (t, i, r) { return null == t ? n.identity : n.isFunction(t) ? e(t, i, r) : n.isObject(t) ? n.matcher(t) : n.property(t) }; n.iteratee = function (n, i) { return t(n, i, 1 / 0) }; var w = function (n, t) { return function (i) { var e = arguments.length, r, u; if (2 > e || null == i) return i; for (r = 1; e > r; r++)for (var o = arguments[r], s = n(o), h = s.length, f = 0; h > f; f++)u = s[f], t && i[u] !== void 0 || (i[u] = o[u]); return i } }, et = function (t) { if (!n.isObject(t)) return {}; if (ft) return ft(t); p.prototype = t; var i = new p; return p.prototype = null, i }, ot = function (n) { return function (t) { if (null != t) return t[n] } }, wt = Math.pow(2, 53) - 1, u = ot("length"), i = function (n) { var t = u(n); return "number" == typeof t && t >= 0 && wt >= t }; n.each = n.forEach = function (t, r, u) { var f, o, s; if (r = e(r, u), i(t)) for (f = 0, o = t.length; o > f; f++)r(t[f], f, t); else for (s = n.keys(t), f = 0, o = s.length; o > f; f++)r(t[s[f]], s[f], t); return t }; n.map = n.collect = function (r, u, f) { var s; u = t(u, f); for (var o = !i(r) && n.keys(r), h = (o || r).length, c = Array(h), e = 0; h > e; e++)s = o ? o[e] : e, c[e] = u(r[s], s, r); return c }; n.reduce = n.foldl = n.inject = nt(1); n.reduceRight = n.foldr = nt(-1); n.find = n.detect = function (t, r, u) { var f; return f = i(t) ? n.findIndex(t, r, u) : n.findKey(t, r, u), f !== void 0 && f !== -1 ? t[f] : void 0 }; n.filter = n.select = function (i, r, u) { var f = []; return r = t(r, u), n.each(i, function (n, t, i) { r(n, t, i) && f.push(n) }), f }; n.reject = function (i, r, u) { return n.filter(i, n.negate(t(r)), u) }; n.every = n.all = function (r, u, f) { var s; u = t(u, f); for (var o = !i(r) && n.keys(r), h = (o || r).length, e = 0; h > e; e++)if (s = o ? o[e] : e, !u(r[s], s, r)) return !1; return !0 }; n.some = n.any = function (r, u, f) { var s; u = t(u, f); for (var o = !i(r) && n.keys(r), h = (o || r).length, e = 0; h > e; e++)if (s = o ? o[e] : e, u(r[s], s, r)) return !0; return !1 }; n.contains = n.includes = n.include = function (t, r, u, f) { return i(t) || (t = n.values(t)), ("number" != typeof u || f) && (u = 0), n.indexOf(t, r, u) >= 0 }; n.invoke = function (t, i) { var u = r.call(arguments, 2), f = n.isFunction(i); return n.map(t, function (n) { var t = f ? i : n[i]; return null == t ? t : t.apply(n, u) }) }; n.pluck = function (t, i) { return n.map(t, n.property(i)) }; n.where = function (t, i) { return n.filter(t, n.matcher(i)) }; n.findWhere = function (t, i) { return n.find(t, n.matcher(i)) }; n.max = function (r, u, f) { var h, o, e = -1 / 0, c = -1 / 0, s, l; if (null == u && null != r) for (r = i(r) ? r : n.values(r), s = 0, l = r.length; l > s; s++)h = r[s], h > e && (e = h); else u = t(u, f), n.each(r, function (n, t, i) { o = u(n, t, i); (o > c || o === -1 / 0 && e === -1 / 0) && (e = n, c = o) }); return e }; n.min = function (r, u, f) { var h, o, e = 1 / 0, c = 1 / 0, s, l; if (null == u && null != r) for (r = i(r) ? r : n.values(r), s = 0, l = r.length; l > s; s++)h = r[s], e > h && (e = h); else u = t(u, f), n.each(r, function (n, t, i) { o = u(n, t, i); (c > o || 1 / 0 === o && 1 / 0 === e) && (e = n, c = o) }); return e }; n.shuffle = function (t) { for (var u, e = i(t) ? t : n.values(t), o = e.length, f = Array(o), r = 0; o > r; r++)u = n.random(0, r), u !== r && (f[r] = f[u]), f[u] = e[r]; return f }; n.sample = function (t, r, u) { return null == r || u ? (i(t) || (t = n.values(t)), t[n.random(t.length - 1)]) : n.shuffle(t).slice(0, Math.max(0, r)) }; n.sortBy = function (i, r, u) { return r = t(r, u), n.pluck(n.map(i, function (n, t, i) { return { value: n, index: t, criteria: r(n, t, i) } }).sort(function (n, t) { var i = n.criteria, r = t.criteria; if (i !== r) { if (i > r || i === void 0) return 1; if (r > i || r === void 0) return -1 } return n.index - t.index }), "value") }; h = function (i) { return function (r, u, f) { var e = {}; return u = t(u, f), n.each(r, function (n, t) { var f = u(n, t, r); i(e, n, f) }), e } }; n.groupBy = h(function (t, i, r) { n.has(t, r) ? t[r].push(i) : t[r] = [i] }); n.indexBy = h(function (n, t, i) { n[i] = t }); n.countBy = h(function (t, i, r) { n.has(t, r) ? t[r]++ : t[r] = 1 }); n.toArray = function (t) { return t ? n.isArray(t) ? r.call(t) : i(t) ? n.map(t, n.identity) : n.values(t) : [] }; n.size = function (t) { return null == t ? 0 : i(t) ? t.length : n.keys(t).length }; n.partition = function (i, r, u) { r = t(r, u); var f = [], e = []; return n.each(i, function (n, t, i) { (r(n, t, i) ? f : e).push(n) }), [f, e] }; n.first = n.head = n.take = function (t, i, r) { if (null != t) return null == i || r ? t[0] : n.initial(t, t.length - i) }; n.initial = function (n, t, i) { return r.call(n, 0, Math.max(0, n.length - (null == t || i ? 1 : t))) }; n.last = function (t, i, r) { if (null != t) return null == i || r ? t[t.length - 1] : n.rest(t, Math.max(0, t.length - i)) }; n.rest = n.tail = n.drop = function (n, t, i) { return r.call(n, null == t || i ? 1 : t) }; n.compact = function (t) { return n.filter(t, n.identity) }; f = function (t, r, e, o) { for (var s, l, a, h = [], v = 0, c = o || 0, y = u(t); y > c; c++)if (s = t[c], i(s) && (n.isArray(s) || n.isArguments(s))) for (r || (s = f(s, r, e)), l = 0, a = s.length, h.length += a; a > l;)h[v++] = s[l++]; else e || (h[v++] = s); return h }; n.flatten = function (n, t) { return f(n, t, !1) }; n.without = function (t) { return n.difference(t, r.call(arguments, 1)) }; n.uniq = n.unique = function (i, r, f, e) { var o, c; n.isBoolean(r) || (e = f, f = r, r = !1); null != f && (f = t(f, e)); for (var s = [], l = [], h = 0, a = u(i); a > h; h++)o = i[h], c = f ? f(o, h, i) : o, r ? (h && l === c || s.push(o), l = c) : f ? n.contains(l, c) || (l.push(c), s.push(o)) : n.contains(s, o) || s.push(o); return s }; n.union = function () { return n.uniq(f(arguments, !0, !0)) }; n.intersection = function (t) { for (var r, i, f = [], o = arguments.length, e = 0, s = u(t); s > e; e++)if (r = t[e], !n.contains(f, r)) { for (i = 1; o > i && n.contains(arguments[i], r); i++); i === o && f.push(r) } return f }; n.difference = function (t) { var i = f(arguments, !0, !0, 1); return n.filter(t, function (t) { return !n.contains(i, t) }) }; n.zip = function () { return n.unzip(arguments) }; n.unzip = function (t) { for (var r = t && n.max(t, u).length || 0, f = Array(r), i = 0; r > i; i++)f[i] = n.pluck(t, i); return f }; n.object = function (n, t) { for (var r = {}, i = 0, f = u(n); f > i; i++)t ? r[n[i]] = t[i] : r[n[i][0]] = n[i][1]; return r }; n.findIndex = tt(1); n.findLastIndex = tt(-1); n.sortedIndex = function (n, i, r, f) { var o; r = t(r, f, 1); for (var h = r(i), e = 0, s = u(n); s > e;)o = Math.floor((e + s) / 2), r(n[o]) < h ? e = o + 1 : s = o; return e }; n.indexOf = it(1, n.findIndex, n.sortedIndex); n.lastIndexOf = it(-1, n.findLastIndex); n.range = function (n, t, i) { null == t && (t = n || 0, n = 0); i = i || 1; for (var u = Math.max(Math.ceil((t - n) / i), 0), f = Array(u), r = 0; u > r; r++ , n += i)f[r] = n; return f }; b = function (t, i, r, u, f) { if (!(u instanceof i)) return t.apply(r, f); var e = et(t.prototype), o = t.apply(e, f); return n.isObject(o) ? o : e }; n.bind = function (t, i) { if (y && t.bind === y) return y.apply(t, r.call(arguments, 1)); if (!n.isFunction(t)) throw new TypeError("Bind must be called on a function"); var f = r.call(arguments, 2), u = function () { return b(t, u, i, this, f.concat(r.call(arguments))) }; return u }; n.partial = function (t) { var i = r.call(arguments, 1), u = function () { for (var f = 0, o = i.length, e = Array(o), r = 0; o > r; r++)e[r] = i[r] === n ? arguments[f++] : i[r]; for (; f < arguments.length;)e.push(arguments[f++]); return b(t, u, this, this, e) }; return u }; n.bindAll = function (t) { var i, r, u = arguments.length; if (1 >= u) throw new Error("bindAll must be passed function names"); for (i = 1; u > i; i++)r = arguments[i], t[r] = n.bind(t[r], t); return t }; n.memoize = function (t, i) { var r = function (u) { var f = r.cache, e = "" + (i ? i.apply(this, arguments) : u); return n.has(f, e) || (f[e] = t.apply(this, arguments)), f[e] }; return r.cache = {}, r }; n.delay = function (n, t) { var i = r.call(arguments, 2); return setTimeout(function () { return n.apply(null, i) }, t) }; n.defer = n.partial(n.delay, n, 1); n.throttle = function (t, i, r) { var f, e, s, u = null, o = 0, h; return r || (r = {}), h = function () { o = r.leading === !1 ? 0 : n.now(); u = null; s = t.apply(f, e); u || (f = e = null) }, function () { var l = n.now(), c; return o || r.leading !== !1 || (o = l), c = i - (l - o), f = this, e = arguments, 0 >= c || c > i ? (u && (clearTimeout(u), u = null), o = l, s = t.apply(f, e), u || (f = e = null)) : u || r.trailing === !1 || (u = setTimeout(h, c)), s } }; n.debounce = function (t, i, r) { var u, f, e, s, o, h = function () { var c = n.now() - s; i > c && c >= 0 ? u = setTimeout(h, i - c) : (u = null, r || (o = t.apply(e, f), u || (e = f = null))) }; return function () { e = this; f = arguments; s = n.now(); var c = r && !u; return u || (u = setTimeout(h, i)), c && (o = t.apply(e, f), e = f = null), o } }; n.wrap = function (t, i) { return n.partial(i, t) }; n.negate = function (n) { return function () { return !n.apply(this, arguments) } }; n.compose = function () { var n = arguments, t = n.length - 1; return function () { for (var r = t, i = n[t].apply(this, arguments); r--;)i = n[r].call(this, i); return i } }; n.after = function (n, t) { return function () { if (--n < 1) return t.apply(this, arguments) } }; n.before = function (n, t) { var i; return function () { return --n > 0 && (i = t.apply(this, arguments)), 1 >= n && (t = null), i } }; n.once = n.partial(n.before, 2); k = !{ toString: null }.propertyIsEnumerable("toString"); d = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"]; n.keys = function (t) { var i, r; if (!n.isObject(t)) return []; if (ut) return ut(t); i = []; for (r in t) n.has(t, r) && i.push(r); return k && rt(t, i), i }; n.allKeys = function (t) { var i, r; if (!n.isObject(t)) return []; i = []; for (r in t) i.push(r); return k && rt(t, i), i }; n.values = function (t) { for (var r = n.keys(t), u = r.length, f = Array(u), i = 0; u > i; i++)f[i] = t[r[i]]; return f }; n.mapObject = function (i, r, u) { r = t(r, u); for (var f, o = n.keys(i), h = o.length, s = {}, e = 0; h > e; e++)f = o[e], s[f] = r(i[f], f, i); return s }; n.pairs = function (t) { for (var r = n.keys(t), u = r.length, f = Array(u), i = 0; u > i; i++)f[i] = [r[i], t[r[i]]]; return f }; n.invert = function (t) { for (var u = {}, r = n.keys(t), i = 0, f = r.length; f > i; i++)u[t[r[i]]] = r[i]; return u }; n.functions = n.methods = function (t) { var r = [], i; for (i in t) n.isFunction(t[i]) && r.push(i); return r.sort() }; n.extend = w(n.allKeys); n.extendOwn = n.assign = w(n.keys); n.findKey = function (i, r, u) { r = t(r, u); for (var f, o = n.keys(i), e = 0, s = o.length; s > e; e++)if (f = o[e], r(i[f], f, i)) return f }; n.pick = function (t, i, r) { var c, o, l = {}, u = t, s, v, h, a; if (null == u) return l; for (n.isFunction(i) ? (o = n.allKeys(u), c = e(i, r)) : (o = f(arguments, !1, !1, 1), c = function (n, t, i) { return t in i }, u = Object(u)), s = 0, v = o.length; v > s; s++)h = o[s], a = u[h], c(a, h, u) && (l[h] = a); return l }; n.omit = function (t, i, r) { if (n.isFunction(i)) i = n.negate(i); else { var u = n.map(f(arguments, !1, !1, 1), String); i = function (t, i) { return !n.contains(u, i) } } return n.pick(t, i, r) }; n.defaults = w(n.allKeys, !0); n.create = function (t, i) { var r = et(t); return i && n.extendOwn(r, i), r }; n.clone = function (t) { return n.isObject(t) ? n.isArray(t) ? t.slice() : n.extend({}, t) : t }; n.tap = function (n, t) { return t(n), n }; n.isMatch = function (t, i) { var e = n.keys(i), o = e.length, f, r, u; if (null == t) return !o; for (f = Object(t), r = 0; o > r; r++)if (u = e[r], i[u] !== f[u] || !(u in f)) return !1; return !0 }; c = function (t, i, r, u) { var h, a, e, s, f, l, v; if (t === i) return 0 !== t || 1 / t == 1 / i; if (null == t || null == i) return t === i; if (t instanceof n && (t = t._wrapped), i instanceof n && (i = i._wrapped), h = o.call(t), h !== o.call(i)) return !1; switch (h) { case "[object RegExp]": case "[object String]": return "" + t == "" + i; case "[object Number]": return +t != +t ? +i != +i : 0 == +t ? 1 / +t == 1 / i : +t == +i; case "[object Date]": case "[object Boolean]": return +t == +i }if (a = "[object Array]" === h, !a && ("object" != typeof t || "object" != typeof i || (e = t.constructor, s = i.constructor, e !== s && !(n.isFunction(e) && e instanceof e && n.isFunction(s) && s instanceof s) && "constructor" in t && "constructor" in i))) return !1; for (r = r || [], u = u || [], f = r.length; f--;)if (r[f] === t) return u[f] === i; if (r.push(t), u.push(i), a) { if (f = t.length, f !== i.length) return !1; for (; f--;)if (!c(t[f], i[f], r, u)) return !1 } else { if (v = n.keys(t), f = v.length, n.keys(i).length !== f) return !1; for (; f--;)if (l = v[f], !n.has(i, l) || !c(t[l], i[l], r, u)) return !1 } return r.pop(), u.pop(), !0 }; n.isEqual = function (n, t) { return c(n, t) }; n.isEmpty = function (t) { return null == t ? !0 : i(t) && (n.isArray(t) || n.isString(t) || n.isArguments(t)) ? 0 === t.length : 0 === n.keys(t).length }; n.isElement = function (n) { return !(!n || 1 !== n.nodeType) }; n.isArray = pt || function (n) { return "[object Array]" === o.call(n) }; n.isObject = function (n) { var t = typeof n; return "function" === t || "object" === t && !!n }; n.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function (t) { n["is" + t] = function (n) { return o.call(n) === "[object " + t + "]" } }); n.isArguments(arguments) || (n.isArguments = function (t) { return n.has(t, "callee") }); "function" != typeof /./ && "object" != typeof Int8Array && (n.isFunction = function (n) { return "function" == typeof n || !1 }); n.isFinite = function (n) { return isFinite(n) && !isNaN(parseFloat(n)) }; n.isNaN = function (t) { return n.isNumber(t) && t !== +t }; n.isBoolean = function (n) { return n === !0 || n === !1 || "[object Boolean]" === o.call(n) }; n.isNull = function (n) { return null === n }; n.isUndefined = function (n) { return n === void 0 }; n.has = function (n, t) { return null != n && yt.call(n, t) }; n.noConflict = function () { return a._ = lt, this }; n.identity = function (n) { return n }; n.constant = function (n) { return function () { return n } }; n.noop = function () { }; n.property = ot; n.propertyOf = function (n) { return null == n ? function () { } : function (t) { return n[t] } }; n.matcher = n.matches = function (t) { return t = n.extendOwn({}, t), function (i) { return n.isMatch(i, t) } }; n.times = function (n, t, i) { var u = Array(Math.max(0, n)), r; for (t = e(t, i, 1), r = 0; n > r; r++)u[r] = t(r); return u }; n.random = function (n, t) { return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1)) }; n.now = Date.now || function () { return (new Date).getTime() }; var st = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, bt = n.invert(st), ht = function (t) { var r = function (n) { return t[n] }, i = "(?:" + n.keys(t).join("|") + ")", u = RegExp(i), f = RegExp(i, "g"); return function (n) { return n = null == n ? "" : "" + n, u.test(n) ? n.replace(f, r) : n } }; n.escape = ht(st); n.unescape = ht(bt); n.result = function (t, i, r) { var u = null == t ? void 0 : t[i]; return u === void 0 && (u = r), n.isFunction(u) ? u.call(t) : u }; ct = 0; n.uniqueId = function (n) { var t = ++ct + ""; return n ? n + t : t }; n.templateSettings = { evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g }; var g = /(.)^/, kt = { "'": "'", "\\": "\\", "\r": "r", "\n": "n", "\u2028": "u2028", "\u2029": "u2029" }, dt = /\\|'|\r|\n|\u2028|\u2029/g, gt = function (n) { return "\\" + kt[n] }; n.template = function (t, i, r) { var o, f, h; !i && r && (i = r); i = n.defaults({}, i, n.templateSettings); var c = RegExp([(i.escape || g).source, (i.interpolate || g).source, (i.evaluate || g).source].join("|") + "|$", "g"), e = 0, u = "__p+='"; t.replace(c, function (n, i, r, f, o) { return u += t.slice(e, o).replace(dt, gt), e = o + n.length, i ? u += "'+\n((__t=(" + i + "))==null?'':_.escape(__t))+\n'" : r ? u += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : f && (u += "';\n" + f + "\n__p+='"), n }); u += "';\n"; i.variable || (u = "with(obj||{}){\n" + u + "}\n"); u = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + u + "return __p;\n"; try { o = new Function(i.variable || "obj", "_", u) } catch (s) { throw s.source = u, s; } return f = function (t) { return o.call(this, t, n) }, h = i.variable || "obj", f.source = "function(" + h + "){\n" + u + "}", f }; n.chain = function (t) { var i = n(t); return i._chain = !0, i }; l = function (t, i) { return t._chain ? n(i).chain() : i }; n.mixin = function (t) { n.each(n.functions(t), function (i) { var r = n[i] = t[i]; n.prototype[i] = function () { var t = [this._wrapped]; return vt.apply(t, arguments), l(this, r.apply(n, t)) } }) }; n.mixin(n); n.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (t) { var i = s[t]; n.prototype[t] = function () { var n = this._wrapped; return i.apply(n, arguments), "shift" !== t && "splice" !== t || 0 !== n.length || delete n[0], l(this, n) } }); n.each(["concat", "join", "slice"], function (t) { var i = s[t]; n.prototype[t] = function () { return l(this, i.apply(this._wrapped, arguments)) } }); n.prototype.value = function () { return this._wrapped }; n.prototype.valueOf = n.prototype.toJSON = n.prototype.value; n.prototype.toString = function () { return "" + this._wrapped }; "function" == typeof define && define.amd && define("underscore", [], function () { return n }) }.call(this), function (n, t) { "use strict"; function i(n, i, r) { function e(n, r, f) { var s, e, o, h; return f = f || {}, e = f.expires, s = t.isDefined(f.path) ? f.path : u, t.isUndefined(r) && (e = "Thu, 01 Jan 1970 00:00:00 GMT", r = ""), t.isString(e) && (e = new Date(e)), o = encodeURIComponent(n) + "=" + encodeURIComponent(r), o += s ? ";path=" + s : "", o += f.domain ? ";domain=" + f.domain : "", o += e ? ";expires=" + e.toUTCString() : "", o += f.secure ? ";secure" : "", h = o.length + 1, h > 4096 && i.warn("Cookie '" + n + "' possibly not set or overflowed because it was too large (" + h + " > 4096 bytes)!"), o } var u = r.baseHref(), f = n[0]; return function (n, t, i) { f.cookie = e(n, t, i) } } t.module("ngCookies", ["ng"]).info({ angularVersion: "1.6.4" }).provider("$cookies", [function () { function i(i) { return i ? t.extend({}, n, i) : n } var n = this.defaults = {}; this.$get = ["$$cookieReader", "$$cookieWriter", function (n, r) { return { get: function (t) { return n()[t] }, getObject: function (n) { var i = this.get(n); return i ? t.fromJson(i) : i }, getAll: function () { return n() }, put: function (n, t, u) { r(n, t, i(u)) }, putObject: function (n, i, r) { this.put(n, t.toJson(i), r) }, remove: function (n, t) { r(n, undefined, i(t)) } } }] }]); t.module("ngCookies").factory("$cookieStore", ["$cookies", function (n) { return { get: function (t) { return n.getObject(t) }, put: function (t, i) { n.putObject(t, i) }, remove: function (t) { n.remove(t) } } }]); i.$inject = ["$document", "$log", "$browser"]; t.module("ngCookies").provider("$$cookieWriter", function () { this.$get = i }) }(window, window.angular); !function (n, t) { "use strict"; t.module("ngToast.provider", []).provider("ngToast", [function () { function u(r) { for (var u = Math.floor(1e3 * Math.random()); i.indexOf(u) > -1;)u = Math.floor(1e3 * Math.random()); this.id = u; this.count = 0; this.animation = n.animation; this.className = n.className; this.additionalClasses = n.additionalClasses; this.dismissOnTimeout = n.dismissOnTimeout; this.timeout = n.timeout; this.dismissButton = n.dismissButton; this.dismissButtonHtml = n.dismissButtonHtml; this.dismissOnClick = n.dismissOnClick; this.onDismiss = n.onDismiss; this.compileContent = n.compileContent; t.extend(this, r) } var i = [], r = [], n = { animation: !1, className: "success", additionalClasses: null, dismissOnTimeout: !0, timeout: 4e3, dismissButton: !1, dismissButtonHtml: "&times;", dismissOnClick: !0, onDismiss: null, compileContent: !1, combineDuplications: !1, horizontalPosition: "right", verticalPosition: "top", maxNumber: 0, newestOnTop: !0 }; this.configure = function (i) { t.extend(n, i) }; this.$get = [function () { var t = function (n, t) { return t = "object" == typeof t ? t : { content: t }, t.className = n, this.create(t) }; return { settings: n, messages: i, dismiss: function (n) { if (n) { for (var t = i.length - 1; t >= 0; t--)if (i[t].id === n) return i.splice(t, 1), void r.splice(r.indexOf(n), 1) } else { for (; i.length > 0;)i.pop(); r = [] } }, create: function (t) { var f, o, s, e; if (t = "object" == typeof t ? t : { content: t }, n.combineDuplications) for (f = r.length - 1; f >= 0; f--)if (o = i[f], s = t.className || "success", o.content === t.content && o.className === s) return void i[f].count++; return n.maxNumber > 0 && r.length >= n.maxNumber && this.dismiss(r[0]), e = new u(t), i[n.newestOnTop ? "unshift" : "push"](e), r.push(e.id), e.id }, success: function (n) { return t.call(this, "success", n) }, info: function (n) { return t.call(this, "info", n) }, warning: function (n) { return t.call(this, "warning", n) }, danger: function (n) { return t.call(this, "danger", n) } } }] }]) }(window, window.angular), function (n, t) { "use strict"; t.module("ngToast.directives", ["ngToast.provider"]).run(["$templateCache", function (n) { n.put("ngToast/toast.html", '<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \'ng-toast--animate-\' + animation : \'\'}}"><ul class="ng-toast__list"><toast-message ng-repeat="message in messages" message="message" count="message.count"><span ng-bind-html="message.content"><\/span><\/toast-message><\/ul><\/div>'); n.put("ngToast/toastMessage.html", '<li class="ng-toast__message {{message.additionalClasses}}"ng-mouseenter="onMouseEnter()"ng-mouseleave="onMouseLeave()"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"><\/button><span ng-if="count" class="ng-toast__message__count">{{count + 1}}<\/span><span ng-if="!message.compileContent" ng-transclude><\/span><\/div><\/li>') }]).directive("toast", ["ngToast", "$templateCache", "$log", function (n, t, i) { return { replace: !0, restrict: "EA", templateUrl: "ngToast/toast.html", compile: function (r, u) { if (u.template) { var f = t.get(u.template); f ? r.replaceWith(f) : i.warn("ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.") } return function (t) { t.hPos = n.settings.horizontalPosition; t.vPos = n.settings.verticalPosition; t.animation = n.settings.animation; t.messages = n.messages } } } }]).directive("toastMessage", ["$timeout", "$compile", "ngToast", function (n, t, i) { return { replace: !0, transclude: !0, restrict: "EA", scope: { message: "=", count: "=" }, controller: ["$scope", "ngToast", function (n, t) { n.dismiss = function () { t.dismiss(n.message.id) } }], templateUrl: "ngToast/toastMessage.html", link: function (r, u, f, e, o) { var c, s, h; u.attr("data-message-id", r.message.id); s = r.message.compileContent; (r.cancelTimeout = function () { n.cancel(c) }, r.startTimeout = function () { r.message.dismissOnTimeout && (c = n(function () { i.dismiss(r.message.id) }, r.message.timeout)) }, r.onMouseEnter = function () { r.cancelTimeout() }, r.onMouseLeave = function () { r.startTimeout() }, s) && (o(r, function (n) { h = n; u.children().append(h) }), n(function () { t(h.contents())("boolean" == typeof s ? r.$parent : s, function (n) { h.replaceWith(n) }) }, 0)); r.startTimeout(); r.message.dismissOnClick && u.bind("click", function () { i.dismiss(r.message.id); r.$apply() }); r.message.onDismiss && r.$on("$destroy", r.message.onDismiss.bind(r.message)) } } }]) }(window, window.angular), function (n, t) { "use strict"; t.module("ngToast", ["ngSanitize", "ngToast.directives", "ngToast.provider"]) }(window, window.angular), function (n) { function nt() { return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1 } } function dt(n, t) { return function (i) { return u(n.call(this, i), t) } } function tr(n, t) { return function (i) { return this.lang().ordinal(n.call(this, i), t) } } function gt() { } function tt(n) { fi(n); s(this, n) } function it(n) { var t = ti(n), i = t.year || 0, r = t.month || 0, u = t.week || 0, f = t.day || 0, e = t.hour || 0, o = t.minute || 0, s = t.second || 0, h = t.millisecond || 0; this._milliseconds = +h + 1e3 * s + 6e4 * o + 36e5 * e; this._days = +f + 7 * u; this._months = +r + 12 * i; this._data = {}; this._bubble() } function s(n, t) { for (var i in t) t.hasOwnProperty(i) && (n[i] = t[i]); return t.hasOwnProperty("toString") && (n.toString = t.toString), t.hasOwnProperty("valueOf") && (n.valueOf = t.valueOf), n } function ir(n) { var t, i = {}; for (t in n) n.hasOwnProperty(t) && tu.hasOwnProperty(t) && (i[t] = n[t]); return i } function a(n) { return 0 > n ? Math.ceil(n) : Math.floor(n) } function u(n, t, i) { for (var r = "" + Math.abs(n), u = n >= 0; r.length < t;)r = "0" + r; return (u ? i ? "+" : "" : "-") + r } function rt(n, i, r, u) { var s, h, o = i._milliseconds, f = i._days, e = i._months; o && n._d.setTime(+n._d + o * r); (f || e) && (s = n.minute(), h = n.hour()); f && n.date(n.date() + f * r); e && n.month(n.month() + e * r); o && !u && t.updateOffset(n); (f || e) && (n.minute(s), n.hour(h)) } function ut(n) { return "[object Array]" === Object.prototype.toString.call(n) } function rr(n) { return "[object Date]" === Object.prototype.toString.call(n) || n instanceof Date } function ni(n, t, r) { for (var e = Math.min(n.length, t.length), o = Math.abs(n.length - t.length), f = 0, u = 0; e > u; u++)(r && n[u] !== t[u] || !r && i(n[u]) !== i(t[u])) && f++; return f + o } function h(n) { if (n) { var t = n.toLowerCase().replace(/(.)s$/, "$1"); n = ku[n] || du[t] || t } return n } function ti(n) { var i, t, r = {}; for (t in n) n.hasOwnProperty(t) && (i = h(t), i && (r[i] = n[t])); return r } function ur(i) { var r, u; if (0 === i.indexOf("week")) r = 7, u = "day"; else { if (0 !== i.indexOf("month")) return; r = 12; u = "month" } t[i] = function (f, e) { var o, s, c = t.fn._lang[i], h = []; if ("number" == typeof f && (e = f, f = n), s = function (n) { var i = t().utc().set(u, n); return c.call(t.fn._lang, i, f || "") }, null != e) return s(e); for (o = 0; r > o; o++)h.push(s(o)); return h } } function i(n) { var t = +n, i = 0; return 0 !== t && isFinite(t) && (i = t >= 0 ? Math.floor(t) : Math.ceil(t)), i } function ii(n, t) { return new Date(Date.UTC(n, t + 1, 0)).getUTCDate() } function ri(n) { return ui(n) ? 366 : 365 } function ui(n) { return n % 4 == 0 && n % 100 != 0 || n % 400 == 0 } function fi(n) { var t; n._a && -2 === n._pf.overflow && (t = n._a[v] < 0 || n._a[v] > 11 ? v : n._a[c] < 1 || n._a[c] > ii(n._a[e], n._a[v]) ? c : n._a[o] < 0 || n._a[o] > 23 ? o : n._a[w] < 0 || n._a[w] > 59 ? w : n._a[b] < 0 || n._a[b] > 59 ? b : n._a[k] < 0 || n._a[k] > 999 ? k : -1, n._pf._overflowDayOfYear && (e > t || t > c) && (t = c), n._pf.overflow = t) } function ei(n) { return null == n._isValid && (n._isValid = !isNaN(n._d.getTime()) && n._pf.overflow < 0 && !n._pf.empty && !n._pf.invalidMonth && !n._pf.nullInput && !n._pf.invalidFormat && !n._pf.userInvalidated, n._strict && (n._isValid = n._isValid && 0 === n._pf.charsLeftOver && 0 === n._pf.unusedTokens.length)), n._isValid } function ft(n) { return n ? n.toLowerCase().replace("_", "-") : n } function et(n, i) { return i._isUTC ? t(n).zone(i._offset || 0) : t(n).local() } function fr(n, t) { return t.abbr = n, y[n] || (y[n] = new gt), y[n].set(t), y[n] } function er(n) { delete y[n] } function f(n) { var r, u, i, f, e = 0, o = function (n) { if (!y[n] && yi) try { require("./lang/" + n) } catch (t) { } return y[n] }; if (!n) return t.fn._lang; if (!ut(n)) { if (u = o(n)) return u; n = [n] } for (; e < n.length;) { for (f = ft(n[e]).split("-"), r = f.length, i = ft(n[e + 1]), i = i ? i.split("-") : null; r > 0;) { if (u = o(f.slice(0, r).join("-"))) return u; if (i && i.length >= r && ni(f, i, !0) >= r - 1) break; r-- } e++ } return t.fn._lang } function or(n) { return n.match(/\[[\s\S]/) ? n.replace(/^\[|\]$/g, "") : n.replace(/\\/g, "") } function sr(n) { for (var i = n.match(pi), t = 0, r = i.length; r > t; t++)i[t] = l[i[t]] ? l[i[t]] : or(i[t]); return function (u) { var f = ""; for (t = 0; r > t; t++)f += i[t] instanceof Function ? i[t].call(u, n) : i[t]; return f } } function ot(n, t) { return n.isValid() ? (t = oi(t, n.lang()), kt[t] || (kt[t] = sr(t)), kt[t](n)) : n.lang().invalidDate() } function oi(n, t) { function r(n) { return t.longDateFormat(n) || n } var i = 5; for (g.lastIndex = 0; i >= 0 && g.test(n);)n = n.replace(g, r), g.lastIndex = 0, i -= 1; return n } function hr(n, t) { var i = t._strict; switch (n) { case "DDDD": return ki; case "YYYY": case "GGGG": case "gggg": return i ? vu : eu; case "Y": case "G": case "g": return pu; case "YYYYYY": case "YYYYY": case "GGGGG": case "ggggg": return i ? yu : ou; case "S": if (i) return au; case "SS": if (i) return bi; case "SSS": if (i) return ki; case "DDD": return fu; case "MMM": case "MMMM": case "dd": case "ddd": case "dddd": return hu; case "a": case "A": return f(t._l)._meridiemParse; case "X": return lu; case "Z": case "ZZ": return vt; case "T": return cu; case "SSSS": return su; case "MM": case "DD": case "YY": case "GG": case "gg": case "HH": case "hh": case "mm": case "ss": case "ww": case "WW": return i ? bi : wi; case "M": case "D": case "d": case "H": case "h": case "m": case "s": case "w": case "W": case "e": case "E": return wi; default: return new RegExp(yr(vr(n.replace("\\", "")), "i")) } } function si(n) { n = n || ""; var r = n.match(vt) || [], f = r[r.length - 1] || [], t = (f + "").match(bu) || ["-", 0, 0], u = +(60 * t[1]) + i(t[2]); return "+" === t[0] ? -u : u } function cr(n, t, r) { var s, u = r._a; switch (n) { case "M": case "MM": null != t && (u[v] = i(t) - 1); break; case "MMM": case "MMMM": s = f(r._l).monthsParse(t); null != s ? u[v] = s : r._pf.invalidMonth = t; break; case "D": case "DD": null != t && (u[c] = i(t)); break; case "DDD": case "DDDD": null != t && (r._dayOfYear = i(t)); break; case "YY": u[e] = i(t) + (i(t) > 68 ? 1900 : 2e3); break; case "YYYY": case "YYYYY": case "YYYYYY": u[e] = i(t); break; case "a": case "A": r._isPm = f(r._l).isPM(t); break; case "H": case "HH": case "h": case "hh": u[o] = i(t); break; case "m": case "mm": u[w] = i(t); break; case "s": case "ss": u[b] = i(t); break; case "S": case "SS": case "SSS": case "SSSS": u[k] = i(1e3 * ("0." + t)); break; case "X": r._d = new Date(1e3 * parseFloat(t)); break; case "Z": case "ZZ": r._useUTC = !0; r._tzm = si(t); break; case "w": case "ww": case "W": case "WW": case "d": case "dd": case "ddd": case "dddd": case "e": case "E": n = n.substr(0, 1); case "gg": case "gggg": case "GG": case "GGGG": case "GGGGG": n = n.substr(0, 2); t && (r._w = r._w || {}, r._w[n] = t) } } function st(n) { var r, a, y, p, b, u, l, s, k, d, h = []; if (!n._d) { for (y = ar(n), n._w && null == n._a[c] && null == n._a[v] && (b = function (i) { var r = parseInt(i, 10); return i ? i.length < 3 ? r > 68 ? 1900 + r : 2e3 + r : r : null == n._a[e] ? t().weekYear() : n._a[e] }, u = n._w, null != u.GG || null != u.W || null != u.E ? l = ci(b(u.GG), u.W || 1, u.E, 4, 1) : (s = f(n._l), k = null != u.d ? hi(u.d, s) : null != u.e ? parseInt(u.e, 10) + s._week.dow : 0, d = parseInt(u.w, 10) || 1, null != u.d && k < s._week.dow && d++ , l = ci(b(u.gg), d, k, s._week.doy, s._week.dow)), n._a[e] = l.year, n._dayOfYear = l.dayOfYear), n._dayOfYear && (p = null == n._a[e] ? y[e] : n._a[e], n._dayOfYear > ri(p) && (n._pf._overflowDayOfYear = !0), a = ct(p, 0, n._dayOfYear), n._a[v] = a.getUTCMonth(), n._a[c] = a.getUTCDate()), r = 0; 3 > r && null == n._a[r]; ++r)n._a[r] = h[r] = y[r]; for (; 7 > r; r++)n._a[r] = h[r] = null == n._a[r] ? 2 === r ? 1 : 0 : n._a[r]; h[o] += i((n._tzm || 0) / 60); h[w] += i((n._tzm || 0) % 60); n._d = (n._useUTC ? ct : kr).apply(null, h) } } function lr(n) { var t; n._d || (t = ti(n._i), n._a = [t.year, t.month, t.day, t.hour, t.minute, t.second, t.millisecond], st(n)) } function ar(n) { var t = new Date; return n._useUTC ? [t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()] : [t.getFullYear(), t.getMonth(), t.getDate()] } function ht(n) { n._a = []; n._pf.empty = !0; for (var t, r, s, c = f(n._l), i = "" + n._i, a = i.length, h = 0, e = oi(n._f, c).match(pi) || [], u = 0; u < e.length; u++)r = e[u], t = (i.match(hr(r, n)) || [])[0], t && (s = i.substr(0, i.indexOf(t)), s.length > 0 && n._pf.unusedInput.push(s), i = i.slice(i.indexOf(t) + t.length), h += t.length), l[r] ? (t ? n._pf.empty = !1 : n._pf.unusedTokens.push(r), cr(r, t, n)) : n._strict && !t && n._pf.unusedTokens.push(r); n._pf.charsLeftOver = a - h; i.length > 0 && n._pf.unusedInput.push(i); n._isPm && n._a[o] < 12 && (n._a[o] += 12); n._isPm === !1 && 12 === n._a[o] && (n._a[o] = 0); st(n); fi(n) } function vr(n) { return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (n, t, i, r, u) { return t || i || r || u }) } function yr(n) { return n.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function pr(n) { var t, f, u, r, i; if (0 === n._f.length) return n._pf.invalidFormat = !0, n._d = new Date(NaN), void 0; for (r = 0; r < n._f.length; r++)i = 0, t = s({}, n), t._pf = nt(), t._f = n._f[r], ht(t), ei(t) && (i += t._pf.charsLeftOver, i += 10 * t._pf.unusedTokens.length, t._pf.score = i, (null == u || u > i) && (u = i, f = t)); s(n, f || t) } function wr(n) { var t, r, i = n._i, u = wu.exec(i); if (u) { for (n._pf.iso = !0, t = 0, r = yt.length; r > t; t++)if (yt[t][1].exec(i)) { n._f = yt[t][0] + (u[6] || " "); break } for (t = 0, r = pt.length; r > t; t++)if (pt[t][1].exec(i)) { n._f += pt[t][0]; break } i.match(vt) && (n._f += "Z"); ht(n) } else n._d = new Date(i) } function br(t) { var i = t._i, r = iu.exec(i); i === n ? t._d = new Date : r ? t._d = new Date(+r[1]) : "string" == typeof i ? wr(t) : ut(i) ? (t._a = i.slice(0), st(t)) : rr(i) ? t._d = new Date(+i) : "object" == typeof i ? lr(t) : t._d = new Date(i) } function kr(n, t, i, r, u, f, e) { var o = new Date(n, t, i, r, u, f, e); return 1970 > n && o.setFullYear(n), o } function ct(n) { var t = new Date(Date.UTC.apply(null, arguments)); return 1970 > n && t.setUTCFullYear(n), t } function hi(n, t) { if ("string" == typeof n) if (isNaN(n)) { if (n = t.weekdaysParse(n), "number" != typeof n) return null } else n = parseInt(n, 10); return n } function dr(n, t, i, r, u) { return u.relativeTime(t || 1, !!i, n, r) } function gr(n, t, i) { var o = p(Math.abs(n) / 1e3), u = p(o / 60), f = p(u / 60), r = p(f / 24), s = p(r / 365), e = 45 > o && ["s", o] || 1 === u && ["m"] || 45 > u && ["mm", u] || 1 === f && ["h"] || 22 > f && ["hh", f] || 1 === r && ["d"] || 25 >= r && ["dd", r] || 45 >= r && ["M"] || 345 > r && ["MM", p(r / 30)] || 1 === s && ["y"] || ["yy", s]; return e[2] = t, e[3] = n > 0, e[4] = i, dr.apply({}, e) } function d(n, i, r) { var f, e = r - i, u = r - n.day(); return u > e && (u -= 7), e - 7 > u && (u += 7), f = t(n).add("d", u), { week: Math.ceil(f.dayOfYear() / 7), year: f.year() } } function ci(n, t, i, r, u) { var o, f, e = ct(n, 0, 1).getUTCDay(); return i = null != i ? i : u, o = u - e + (e > r ? 7 : 0) - (u > e ? 7 : 0), f = 7 * (t - 1) + (i - u) + o + 1, { year: f > 0 ? n : n - 1, dayOfYear: f > 0 ? f : ri(n - 1) + f } } function li(n) { var i = n._i, r = n._f; return null === i ? t.invalid({ nullInput: !0 }) : ("string" == typeof i && (n._i = i = f().preparse(i)), t.isMoment(i) ? (n = ir(i), n._d = new Date(+i._d)) : r ? ut(r) ? pr(n) : ht(n) : br(n), new tt(n)) } function ai(n, i) { t.fn[n] = t.fn[n + "s"] = function (n) { var r = this._isUTC ? "UTC" : ""; return null != n ? (this._d["set" + r + i](n), t.updateOffset(this), this) : this._d["get" + r + i]() } } function nu(n) { t.duration.fn[n] = function () { return this._data[n] } } function vi(n, i) { t.duration.fn["as" + n] = function () { return +this / i } } function lt(n) { var i = !1, r = t; "undefined" == typeof ender && (n ? (at.moment = function () { return !i && console && console.warn && (i = !0, console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")), r.apply(null, arguments) }, s(at.moment, r)) : at.moment = t) } for (var t, r, at = this, p = Math.round, e = 0, v = 1, c = 2, o = 3, w = 4, b = 5, k = 6, y = {}, tu = { _isAMomentObject: null, _i: null, _f: null, _l: null, _strict: null, _isUTC: null, _offset: null, _pf: null, _lang: null }, yi = "undefined" != typeof module && module.exports && "undefined" != typeof require, iu = /^\/?Date\((\-?\d+)/i, ru = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, uu = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, pi = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g, g = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, wi = /\d\d?/, fu = /\d{1,3}/, eu = /\d{1,4}/, ou = /[+\-]?\d{1,6}/, su = /\d+/, hu = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, vt = /Z|[\+\-]\d\d:?\d\d/gi, cu = /T/i, lu = /[\+\-]?\d+(\.\d{1,3})?/, au = /\d/, bi = /\d\d/, ki = /\d{3}/, vu = /\d{4}/, yu = /[+-]?\d{6}/, pu = /[+-]?\d+/, wu = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, yt = [["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/], ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/], ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/], ["GGGG-[W]WW", /\d{4}-W\d{2}/], ["YYYY-DDD", /\d{4}-\d{3}/]], pt = [["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], bu = /([\+\-]|\d\d)/gi, wt = "Date|Hours|Minutes|Seconds|Milliseconds".split("|"), bt = { Milliseconds: 1, Seconds: 1e3, Minutes: 6e4, Hours: 36e5, Days: 864e5, Months: 2592e6, Years: 31536e6 }, ku = { ms: "millisecond", s: "second", m: "minute", h: "hour", d: "day", D: "date", w: "week", W: "isoWeek", M: "month", y: "year", DDD: "dayOfYear", e: "weekday", E: "isoWeekday", gg: "weekYear", GG: "isoWeekYear" }, du = { dayofyear: "dayOfYear", isoweekday: "isoWeekday", isoweek: "isoWeek", weekyear: "weekYear", isoweekyear: "isoWeekYear" }, kt = {}, di = "DDD w W M D d".split(" "), gi = "M D H h m s w W".split(" "), l = { M: function () { return this.month() + 1 }, MMM: function (n) { return this.lang().monthsShort(this, n) }, MMMM: function (n) { return this.lang().months(this, n) }, D: function () { return this.date() }, DDD: function () { return this.dayOfYear() }, d: function () { return this.day() }, dd: function (n) { return this.lang().weekdaysMin(this, n) }, ddd: function (n) { return this.lang().weekdaysShort(this, n) }, dddd: function (n) { return this.lang().weekdays(this, n) }, w: function () { return this.week() }, W: function () { return this.isoWeek() }, YY: function () { return u(this.year() % 100, 2) }, YYYY: function () { return u(this.year(), 4) }, YYYYY: function () { return u(this.year(), 5) }, YYYYYY: function () { var n = this.year(), t = n >= 0 ? "+" : "-"; return t + u(Math.abs(n), 6) }, gg: function () { return u(this.weekYear() % 100, 2) }, gggg: function () { return u(this.weekYear(), 4) }, ggggg: function () { return u(this.weekYear(), 5) }, GG: function () { return u(this.isoWeekYear() % 100, 2) }, GGGG: function () { return u(this.isoWeekYear(), 4) }, GGGGG: function () { return u(this.isoWeekYear(), 5) }, e: function () { return this.weekday() }, E: function () { return this.isoWeekday() }, a: function () { return this.lang().meridiem(this.hours(), this.minutes(), !0) }, A: function () { return this.lang().meridiem(this.hours(), this.minutes(), !1) }, H: function () { return this.hours() }, h: function () { return this.hours() % 12 || 12 }, m: function () { return this.minutes() }, s: function () { return this.seconds() }, S: function () { return i(this.milliseconds() / 100) }, SS: function () { return u(i(this.milliseconds() / 10), 2) }, SSS: function () { return u(this.milliseconds(), 3) }, SSSS: function () { return u(this.milliseconds(), 3) }, Z: function () { var n = -this.zone(), t = "+"; return 0 > n && (n = -n, t = "-"), t + u(i(n / 60), 2) + ":" + u(i(n) % 60, 2) }, ZZ: function () { var n = -this.zone(), t = "+"; return 0 > n && (n = -n, t = "-"), t + u(i(n / 60), 2) + u(i(n) % 60, 2) }, z: function () { return this.zoneAbbr() }, zz: function () { return this.zoneName() }, X: function () { return this.unix() }, Q: function () { return this.quarter() } }, nr = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"]; di.length;)r = di.pop(), l[r + "o"] = tr(l[r], r); for (; gi.length;)r = gi.pop(), l[r + r] = dt(l[r], 2); for (l.DDDD = dt(l.DDD, 3), s(gt.prototype, { set: function (n) { var t, i; for (i in n) t = n[i], "function" == typeof t ? this[i] = t : this["_" + i] = t }, _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), months: function (n) { return this._months[n.month()] }, _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), monthsShort: function (n) { return this._monthsShort[n.month()] }, monthsParse: function (n) { var i, r, u; for (this._monthsParse || (this._monthsParse = []), i = 0; 12 > i; i++)if (this._monthsParse[i] || (r = t.utc([2e3, i]), u = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""), this._monthsParse[i] = new RegExp(u.replace(".", ""), "i")), this._monthsParse[i].test(n)) return i }, _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), weekdays: function (n) { return this._weekdays[n.day()] }, _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), weekdaysShort: function (n) { return this._weekdaysShort[n.day()] }, _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), weekdaysMin: function (n) { return this._weekdaysMin[n.day()] }, weekdaysParse: function (n) { var i, r, u; for (this._weekdaysParse || (this._weekdaysParse = []), i = 0; 7 > i; i++)if (this._weekdaysParse[i] || (r = t([2e3, 1]).day(i), u = "^" + this.weekdays(r, "") + "|^" + this.weekdaysShort(r, "") + "|^" + this.weekdaysMin(r, ""), this._weekdaysParse[i] = new RegExp(u.replace(".", ""), "i")), this._weekdaysParse[i].test(n)) return i }, _longDateFormat: { LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D YYYY", LLL: "MMMM D YYYY LT", LLLL: "dddd, MMMM D YYYY LT" }, longDateFormat: function (n) { var t = this._longDateFormat[n]; return !t && this._longDateFormat[n.toUpperCase()] && (t = this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (n) { return n.slice(1) }), this._longDateFormat[n] = t), t }, isPM: function (n) { return "p" === (n + "").toLowerCase().charAt(0) }, _meridiemParse: /[ap]\.?m?\.?/i, meridiem: function (n, t, i) { return n > 11 ? i ? "pm" : "PM" : i ? "am" : "AM" }, _calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, calendar: function (n, t) { var i = this._calendar[n]; return "function" == typeof i ? i.apply(t) : i }, _relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, relativeTime: function (n, t, i, r) { var u = this._relativeTime[i]; return "function" == typeof u ? u(n, t, i, r) : u.replace(/%d/i, n) }, pastFuture: function (n, t) { var i = this._relativeTime[n > 0 ? "future" : "past"]; return "function" == typeof i ? i(t) : i.replace(/%s/i, t) }, ordinal: function (n) { return this._ordinal.replace("%d", n) }, _ordinal: "%d", preparse: function (n) { return n }, postformat: function (n) { return n }, week: function (n) { return d(n, this._week.dow, this._week.doy).week }, _week: { dow: 0, doy: 6 }, _invalidDate: "Invalid date", invalidDate: function () { return this._invalidDate } }), t = function (t, i, r, u) { var f; return "boolean" == typeof r && (u = r, r = n), f = {}, f._isAMomentObject = !0, f._i = t, f._f = i, f._l = r, f._strict = u, f._isUTC = !1, f._pf = nt(), li(f) }, t.utc = function (t, i, r, u) { var f; return "boolean" == typeof r && (u = r, r = n), f = {}, f._isAMomentObject = !0, f._useUTC = !0, f._isUTC = !0, f._l = r, f._i = t, f._f = i, f._strict = u, f._pf = nt(), li(f).utc() }, t.unix = function (n) { return t(1e3 * n) }, t.duration = function (n, r) { var f, h, e, s = n, u = null; return t.isDuration(n) ? s = { ms: n._milliseconds, d: n._days, M: n._months } : "number" == typeof n ? (s = {}, r ? s[r] = n : s.milliseconds = n) : (u = ru.exec(n)) ? (f = "-" === u[1] ? -1 : 1, s = { y: 0, d: i(u[c]) * f, h: i(u[o]) * f, m: i(u[w]) * f, s: i(u[b]) * f, ms: i(u[k]) * f }) : (u = uu.exec(n)) && (f = "-" === u[1] ? -1 : 1, e = function (n) { var t = n && parseFloat(n.replace(",", ".")); return (isNaN(t) ? 0 : t) * f }, s = { y: e(u[2]), M: e(u[3]), d: e(u[4]), h: e(u[5]), m: e(u[6]), s: e(u[7]), w: e(u[8]) }), h = new it(s), t.isDuration(n) && n.hasOwnProperty("_lang") && (h._lang = n._lang), h }, t.version = "2.5.1", t.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", t.updateOffset = function () { }, t.lang = function (n, i) { var r; return n ? (i ? fr(ft(n), i) : null === i ? (er(n), n = "en") : y[n] || f(n), r = t.duration.fn._lang = t.fn._lang = f(n), r._abbr) : t.fn._lang._abbr }, t.langData = function (n) { return n && n._lang && n._lang._abbr && (n = n._lang._abbr), f(n) }, t.isMoment = function (n) { return n instanceof tt || null != n && n.hasOwnProperty("_isAMomentObject") }, t.isDuration = function (n) { return n instanceof it }, r = nr.length - 1; r >= 0; --r)ur(nr[r]); for (t.normalizeUnits = function (n) { return h(n) }, t.invalid = function (n) { var i = t.utc(NaN); return null != n ? s(i._pf, n) : i._pf.userInvalidated = !0, i }, t.parseZone = function (n) { return t(n).parseZone() }, s(t.fn = tt.prototype, { clone: function () { return t(this) }, valueOf: function () { return +this._d + 6e4 * (this._offset || 0) }, unix: function () { return Math.floor(+this / 1e3) }, toString: function () { return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") }, toDate: function () { return this._offset ? new Date(+this) : this._d }, toISOString: function () { var n = t(this).utc(); return 0 < n.year() && n.year() <= 9999 ? ot(n, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : ot(n, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]") }, toArray: function () { var n = this; return [n.year(), n.month(), n.date(), n.hours(), n.minutes(), n.seconds(), n.milliseconds()] }, isValid: function () { return ei(this) }, isDSTShifted: function () { return this._a ? this.isValid() && ni(this._a, (this._isUTC ? t.utc(this._a) : t(this._a)).toArray()) > 0 : !1 }, parsingFlags: function () { return s({}, this._pf) }, invalidAt: function () { return this._pf.overflow }, utc: function () { return this.zone(0) }, local: function () { return this.zone(0), this._isUTC = !1, this }, format: function (n) { var i = ot(this, n || t.defaultFormat); return this.lang().postformat(i) }, add: function (n, i) { var r; return r = "string" == typeof n ? t.duration(+i, n) : t.duration(n, i), rt(this, r, 1), this }, subtract: function (n, i) { var r; return r = "string" == typeof n ? t.duration(+i, n) : t.duration(n, i), rt(this, r, -1), this }, diff: function (n, i, r) { var u, e, f = et(n, this), o = 6e4 * (this.zone() - f.zone()); return i = h(i), "year" === i || "month" === i ? (u = 432e5 * (this.daysInMonth() + f.daysInMonth()), e = 12 * (this.year() - f.year()) + (this.month() - f.month()), e += (this - t(this).startOf("month") - (f - t(f).startOf("month"))) / u, e -= 6e4 * (this.zone() - t(this).startOf("month").zone() - (f.zone() - t(f).startOf("month").zone())) / u, "year" === i && (e /= 12)) : (u = this - f, e = "second" === i ? u / 1e3 : "minute" === i ? u / 6e4 : "hour" === i ? u / 36e5 : "day" === i ? (u - o) / 864e5 : "week" === i ? (u - o) / 6048e5 : u), r ? e : a(e) }, from: function (n, i) { return t.duration(this.diff(n)).lang(this.lang()._abbr).humanize(!i) }, fromNow: function (n) { return this.from(t(), n) }, calendar: function () { var i = et(t(), this).startOf("day"), n = this.diff(i, "days", !0), r = -6 > n ? "sameElse" : -1 > n ? "lastWeek" : 0 > n ? "lastDay" : 1 > n ? "sameDay" : 2 > n ? "nextDay" : 7 > n ? "nextWeek" : "sameElse"; return this.format(this.lang().calendar(r, this)) }, isLeapYear: function () { return ui(this.year()) }, isDST: function () { return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone() }, day: function (n) { var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != n ? (n = hi(n, this.lang()), this.add({ d: n - t })) : t }, month: function (n) { var i, r = this._isUTC ? "UTC" : ""; return null != n ? "string" == typeof n && (n = this.lang().monthsParse(n), "number" != typeof n) ? this : (i = this.date(), this.date(1), this._d["set" + r + "Month"](n), this.date(Math.min(i, this.daysInMonth())), t.updateOffset(this), this) : this._d["get" + r + "Month"]() }, startOf: function (n) { switch (n = h(n)) { case "year": this.month(0); case "month": this.date(1); case "week": case "isoWeek": case "day": this.hours(0); case "hour": this.minutes(0); case "minute": this.seconds(0); case "second": this.milliseconds(0) }return "week" === n ? this.weekday(0) : "isoWeek" === n && this.isoWeekday(1), this }, endOf: function (n) { return n = h(n), this.startOf(n).add("isoWeek" === n ? "week" : n, 1).subtract("ms", 1) }, isAfter: function (n, i) { return i = "undefined" != typeof i ? i : "millisecond", +this.clone().startOf(i) > +t(n).startOf(i) }, isBefore: function (n, i) { return i = "undefined" != typeof i ? i : "millisecond", +this.clone().startOf(i) < +t(n).startOf(i) }, isSame: function (n, t) { return t = t || "ms", +this.clone().startOf(t) == +et(n, this).startOf(t) }, min: function (n) { return n = t.apply(null, arguments), this > n ? this : n }, max: function (n) { return n = t.apply(null, arguments), n > this ? this : n }, zone: function (n) { var i = this._offset || 0; return null == n ? this._isUTC ? i : this._d.getTimezoneOffset() : ("string" == typeof n && (n = si(n)), Math.abs(n) < 16 && (n = 60 * n), this._offset = n, this._isUTC = !0, i !== n && rt(this, t.duration(i - n, "m"), 1, !0), this) }, zoneAbbr: function () { return this._isUTC ? "UTC" : "" }, zoneName: function () { return this._isUTC ? "Coordinated Universal Time" : "" }, parseZone: function () { return this._tzm ? this.zone(this._tzm) : "string" == typeof this._i && this.zone(this._i), this }, hasAlignedHourOffset: function (n) { return n = n ? t(n).zone() : 0, (this.zone() - n) % 60 == 0 }, daysInMonth: function () { return ii(this.year(), this.month()) }, dayOfYear: function (n) { var i = p((t(this).startOf("day") - t(this).startOf("year")) / 864e5) + 1; return null == n ? i : this.add("d", n - i) }, quarter: function () { return Math.ceil((this.month() + 1) / 3) }, weekYear: function (n) { var t = d(this, this.lang()._week.dow, this.lang()._week.doy).year; return null == n ? t : this.add("y", n - t) }, isoWeekYear: function (n) { var t = d(this, 1, 4).year; return null == n ? t : this.add("y", n - t) }, week: function (n) { var t = this.lang().week(this); return null == n ? t : this.add("d", 7 * (n - t)) }, isoWeek: function (n) { var t = d(this, 1, 4).week; return null == n ? t : this.add("d", 7 * (n - t)) }, weekday: function (n) { var t = (this.day() + 7 - this.lang()._week.dow) % 7; return null == n ? t : this.add("d", n - t) }, isoWeekday: function (n) { return null == n ? this.day() || 7 : this.day(this.day() % 7 ? n : n - 7) }, get: function (n) { return n = h(n), this[n]() }, set: function (n, t) { return n = h(n), "function" == typeof this[n] && this[n](t), this }, lang: function (t) { return t === n ? this._lang : (this._lang = f(t), this) } }), r = 0; r < wt.length; r++)ai(wt[r].toLowerCase().replace(/s$/, ""), wt[r]); ai("year", "FullYear"); t.fn.days = t.fn.day; t.fn.months = t.fn.month; t.fn.weeks = t.fn.week; t.fn.isoWeeks = t.fn.isoWeek; t.fn.toJSON = t.fn.toISOString; s(t.duration.fn = it.prototype, { _bubble: function () { var t, i, r, e, o = this._milliseconds, u = this._days, f = this._months, n = this._data; n.milliseconds = o % 1e3; t = a(o / 1e3); n.seconds = t % 60; i = a(t / 60); n.minutes = i % 60; r = a(i / 60); n.hours = r % 24; u += a(r / 24); n.days = u % 30; f += a(u / 30); n.months = f % 12; e = a(f / 12); n.years = e }, weeks: function () { return a(this.days() / 7) }, valueOf: function () { return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * i(this._months / 12) }, humanize: function (n) { var i = +this, t = gr(i, !n, this.lang()); return n && (t = this.lang().pastFuture(i, t)), this.lang().postformat(t) }, add: function (n, i) { var r = t.duration(n, i); return this._milliseconds += r._milliseconds, this._days += r._days, this._months += r._months, this._bubble(), this }, subtract: function (n, i) { var r = t.duration(n, i); return this._milliseconds -= r._milliseconds, this._days -= r._days, this._months -= r._months, this._bubble(), this }, get: function (n) { return n = h(n), this[n.toLowerCase() + "s"]() }, as: function (n) { return n = h(n), this["as" + n.charAt(0).toUpperCase() + n.slice(1) + "s"]() }, lang: t.fn.lang, toIsoString: function () { var r = Math.abs(this.years()), u = Math.abs(this.months()), f = Math.abs(this.days()), n = Math.abs(this.hours()), t = Math.abs(this.minutes()), i = Math.abs(this.seconds() + this.milliseconds() / 1e3); return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (r ? r + "Y" : "") + (u ? u + "M" : "") + (f ? f + "D" : "") + (n || t || i ? "T" : "") + (n ? n + "H" : "") + (t ? t + "M" : "") + (i ? i + "S" : "") : "P0D" } }); for (r in bt) bt.hasOwnProperty(r) && (vi(r, bt[r]), nu(r.toLowerCase())); vi("Weeks", 6048e5); t.duration.fn.asMonths = function () { return (+this - 31536e6 * this.years()) / 2592e6 + 12 * this.years() }; t.lang("en", { ordinal: function (n) { var t = n % 10, r = 1 === i(n % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th"; return n + r } }); yi ? (module.exports = t, lt(!0)) : "function" == typeof define && define.amd ? define("moment", function (i, r, u) { return u.config && u.config() && u.config().noGlobal !== !0 && lt(u.config().noGlobal === n), t }) : lt() }.call(this); !function () { "use strict"; function n(n) { return angular.isUndefined(n) || null === n } function i() { try { return require("moment") } catch (n) { throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment"); } } function t(t, r) { if ("undefined" == typeof r) { if ("function" != typeof require) throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment"); r = i() } return t.module("angularMoment", []).constant("angularMomentConfig", { preprocess: null, timezone: null, format: null, statefulFilters: !0 }).constant("moment", r).constant("amTimeAgoConfig", { withoutSuffix: !1, serverTime: null, titleFormat: null, fullDateThreshold: null, fullDateFormat: null, fullDateThresholdUnit: "day" }).directive("amTimeAgo", ["$window", "moment", "amMoment", "amTimeAgoConfig", function (i, r, u, f) { return function (e, o, s) { function a() { var n, t, i; return y ? n = y : f.serverTime ? (t = (new Date).getTime(), i = t - tt + f.serverTime, n = r(i)) : n = r(), n } function v() { l && (i.clearTimeout(l), l = null) } function b(n) { var f = a().diff(n, nt), u = w && f >= w, r, t; (u ? o.text(n.format(g)) : o.text(n.from(a(), p)), d && ut && o.attr("title", n.format(d)), u) || (r = Math.abs(a().diff(n, "minute")), t = 3600, r < 1 ? t = 1 : r < 60 ? t = 30 : r < 180 && (t = 300), l = i.setTimeout(function () { b(n) }, 1e3 * t)) } function k(n) { rt && o.attr("datetime", n) } function h() { if (v(), c) { var n = u.preprocessDate(c); b(n); k(n.toISOString()) } } var c, y, l = null, p = f.withoutSuffix, d = f.titleFormat, w = f.fullDateThreshold, g = f.fullDateFormat, nt = f.fullDateThresholdUnit, tt = (new Date).getTime(), it = s.amTimeAgo, rt = "TIME" === o[0].nodeName.toUpperCase(), ut = !o.attr("title"); e.$watch(it, function (t) { return n(t) || "" === t ? (v(), void (c && (o.text(""), k(""), c = null))) : (c = t, void h()) }); t.isDefined(s.amFrom) && e.$watch(s.amFrom, function (t) { y = n(t) || "" === t ? null : r(t); h() }); t.isDefined(s.amWithoutSuffix) && e.$watch(s.amWithoutSuffix, function (n) { "boolean" == typeof n ? (p = n, h()) : p = f.withoutSuffix }); s.$observe("amFullDateThreshold", function (n) { w = n; h() }); s.$observe("amFullDateFormat", function (n) { g = n; h() }); s.$observe("amFullDateThresholdUnit", function (n) { nt = n; h() }); e.$on("$destroy", function () { v() }); e.$on("amMoment:localeChanged", function () { h() }) } }]).service("amMoment", ["moment", "$rootScope", "$log", "angularMomentConfig", function (n, i, r, u) { var f = null; this.changeLocale = function (r, u) { var f = n.locale(r, u); return t.isDefined(r) && i.$broadcast("amMoment:localeChanged"), f }; this.changeTimezone = function (t) { n.tz && n.tz.setDefault ? (n.tz.setDefault(t), i.$broadcast("amMoment:timezoneChanged")) : r.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."); u.timezone = t; f = t }; this.preprocessDate = function (t) { return f !== u.timezone && this.changeTimezone(u.timezone), u.preprocess ? u.preprocess(t) : n(!isNaN(parseFloat(t)) && isFinite(t) ? parseInt(t, 10) : t) } }]).filter("amParse", ["moment", function (n) { return function (t, i) { return n(t, i) } }]).filter("amFromUnix", ["moment", function (n) { return function (t) { return n.unix(t) } }]).filter("amUtc", ["moment", function (n) { return function (t) { return n.utc(t) } }]).filter("amUtcOffset", ["amMoment", function (n) { function t(t, i) { return n.preprocessDate(t).utcOffset(i) } return t }]).filter("amLocal", ["moment", function (n) { return function (t) { return n.isMoment(t) ? t.local() : null } }]).filter("amTimezone", ["amMoment", "angularMomentConfig", "$log", function (n, t, i) { function r(t, r) { var u = n.preprocessDate(t); return r ? u.tz ? u.tz(r) : (i.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"), u) : u } return r }]).filter("amCalendar", ["moment", "amMoment", "angularMomentConfig", function (t, i, r) { function u(t, r, u) { if (n(t)) return ""; var f = i.preprocessDate(t); return f.isValid() ? f.calendar(r, u) : "" } return u.$stateful = r.statefulFilters, u }]).filter("amDifference", ["moment", "amMoment", "angularMomentConfig", function (t, i, r) { function u(r, u, f, e) { if (n(r)) return ""; var o = i.preprocessDate(r), s = n(u) ? t() : i.preprocessDate(u); return o.isValid() && s.isValid() ? o.diff(s, f, e) : "" } return u.$stateful = r.statefulFilters, u }]).filter("amDateFormat", ["moment", "amMoment", "angularMomentConfig", function (t, i, r) { function u(t, r) { if (n(t)) return ""; var u = i.preprocessDate(t); return u.isValid() ? u.format(r) : "" } return u.$stateful = r.statefulFilters, u }]).filter("amDurationFormat", ["moment", "angularMomentConfig", function (t, i) { function r(i, r, u) { return n(i) ? "" : t.duration(i, r).humanize(u) } return r.$stateful = i.statefulFilters, r }]).filter("amTimeAgo", ["moment", "amMoment", "angularMomentConfig", function (t, i, r) { function u(r, u, f) { var e, o; return n(r) ? "" : (r = i.preprocessDate(r), e = t(r), e.isValid() ? (o = t(f), !n(f) && o.isValid() ? e.from(o, u) : e.fromNow(u)) : "") } return u.$stateful = r.statefulFilters, u }]).filter("amSubtract", ["moment", "angularMomentConfig", function (t, i) { function r(i, r, u) { return n(i) ? "" : t(i).subtract(parseInt(r, 10), u) } return r.$stateful = i.statefulFilters, r }]).filter("amAdd", ["moment", "angularMomentConfig", function (t, i) { function r(i, r, u) { return n(i) ? "" : t(i).add(parseInt(r, 10), u) } return r.$stateful = i.statefulFilters, r }]).filter("amStartOf", ["moment", "angularMomentConfig", function (t, i) { function r(i, r) { return n(i) ? "" : t(i).startOf(r) } return r.$stateful = i.statefulFilters, r }]).filter("amEndOf", ["moment", "angularMomentConfig", function (t, i) { function r(i, r) { return n(i) ? "" : t(i).endOf(r) } return r.$stateful = i.statefulFilters, r }]), "angularMoment" } var r = window && window.process && window.process.type; "function" == typeof define && define.amd ? define(["angular", "moment"], t) : "undefined" != typeof module && module && module.exports && "function" == typeof require && !r ? module.exports = t(require("angular"), require("moment")) : t(angular, ("undefined" != typeof global ? global : window).moment) }(), function () { var n; n || (n = {}), function () { function u(n, r) { var s, l, h, a, v = t, c, o = r[n]; o && typeof o == "object" && typeof o.toJSON == "function" && (o = o.toJSON(n)); typeof i == "function" && (o = i.call(r, n, o)); switch (typeof o) { case "string": return e(o); case "number": return isFinite(o) ? String(o) : "null"; case "boolean": case "null": return String(o); case "object": if (!o) return "null"; if (t += f, c = [], Object.prototype.toString.apply(o) === "[object Array]") { for (a = o.length, s = 0; s < a; s += 1)c[s] = u(s, o) || "null"; return h = c.length === 0 ? "[]" : t ? "[\n" + t + c.join(",\n" + t) + "\n" + v + "]" : "[" + c.join(",") + "]", t = v, h } if (i && typeof i == "object") for (a = i.length, s = 0; s < a; s += 1)typeof i[s] == "string" && (l = i[s], h = u(l, o), h && c.push(e(l) + (t ? ": " : ":") + h)); else for (l in o) Object.prototype.hasOwnProperty.call(o, l) && (h = u(l, o), h && c.push(e(l) + (t ? ": " : ":") + h)); return h = c.length === 0 ? "{}" : t ? "{\n" + t + c.join(",\n" + t) + "\n" + v + "}" : "{" + c.join(",") + "}", t = v, h } } function e(n) { return s.lastIndex = 0, s.test(n) ? '"' + n.replace(s, function (n) { var t = h[n]; return typeof t == "string" ? t : "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4) }) + '"' : '"' + n + '"' } function r(n) { return n < 10 ? "0" + n : n } typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function () { return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + r(this.getUTCMonth() + 1) + "-" + r(this.getUTCDate()) + "T" + r(this.getUTCHours()) + ":" + r(this.getUTCMinutes()) + ":" + r(this.getUTCSeconds()) + "Z" : null }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () { return this.valueOf() }); var o = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, s = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, t, f, h = { "\b": "\\b", "\t": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\" }, i; typeof n.stringify != "function" && (n.stringify = function (n, r, e) { var o; if (t = "", f = "", typeof e == "number") for (o = 0; o < e; o += 1)f += " "; else typeof e == "string" && (f = e); if (i = r, !r || typeof r == "function" || typeof r == "object" && typeof r.length == "number") return u("", { "": n }); throw new Error("JSON.stringify"); }); typeof n.parse != "function" && (n.parse = function (text, reviver) { function walk(n, t) { var r, u, i = n[t]; if (i && typeof i == "object") for (r in i) Object.prototype.hasOwnProperty.call(i, r) && (u = walk(i, r), u !== undefined ? i[r] = u : delete i[r]); return reviver.call(n, t, i) } var j; if (text = String(text), o.lastIndex = 0, o.test(text) && (text = text.replace(o, function (n) { return "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4) })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), typeof reviver == "function" ? walk({ "": j }, "") : j; throw new SyntaxError("JSON.parse"); }) }(); SockJS = function () { var u = document, r = window, t = {}, v = function () { }, e, c, yt, o, ft, et, y, ti, ii, k, i, d, l, ri, s, b, nt, ot, st, f, kt, ht, h, p, dt, gt, ui, fi, tt, ei, it, oi, rt, si, ct, lt, at, hi, vt, a; v.prototype.addEventListener = function (n, i) { this._listeners || (this._listeners = {}); n in this._listeners || (this._listeners[n] = []); var r = this._listeners[n]; t.arrIndexOf(r, i) === -1 && r.push(i); return }; v.prototype.removeEventListener = function (n, i) { if (this._listeners && n in this._listeners) { var r = this._listeners[n], u = t.arrIndexOf(r, i); if (u !== -1) { r.length > 1 ? this._listeners[n] = r.slice(0, u).concat(r.slice(u + 1)) : delete this._listeners[n]; return } return } }; v.prototype.dispatchEvent = function (n) { var t = n.type, r = Array.prototype.slice.call(arguments, 0), i; if (this["on" + t] && this["on" + t].apply(this, r), this._listeners && t in this._listeners) for (i = 0; i < this._listeners[t].length; i++)this._listeners[t][i].apply(this, r) }; e = function (n, t) { if (this.type = n, typeof t != "undefined") for (var i in t) t.hasOwnProperty(i) && (this[i] = t[i]) }; e.prototype.toString = function () { var i = [], n, t; for (n in this) this.hasOwnProperty(n) && (t = this[n], typeof t == "function" && (t = "[function]"), i.push(n + "=" + t)); return "SimpleEvent(" + i.join(", ") + ")" }; c = function (n) { var t = this; t._events = n || []; t._listeners = {} }; c.prototype.emit = function (n) { var t = this, r, i; if ((t._verifyType(n), !t._nuked) && (r = Array.prototype.slice.call(arguments, 1), t["on" + n] && t["on" + n].apply(t, r), n in t._listeners)) for (i = 0; i < t._listeners[n].length; i++)t._listeners[n][i].apply(t, r) }; c.prototype.on = function (n, t) { var i = this; (i._verifyType(n), i._nuked) || (n in i._listeners || (i._listeners[n] = []), i._listeners[n].push(t)) }; c.prototype._verifyType = function (i) { var r = this; t.arrIndexOf(r._events, i) === -1 && t.log("Event " + n.stringify(i) + " not listed " + n.stringify(r._events) + " in " + r) }; c.prototype.nuke = function () { var n = this, t; for (n._nuked = !0, t = 0; t < n._events.length; t++)delete n[n._events[t]]; n._listeners = {} }; yt = "abcdefghijklmnopqrstuvwxyz0123456789_"; t.random_string = function (n, t) { t = t || yt.length; for (var r = [], i = 0; i < n; i++)r.push(yt.substr(Math.floor(Math.random() * t), 1)); return r.join("") }; t.random_number = function (n) { return Math.floor(Math.random() * n) }; t.random_number_string = function (n) { var i = ("" + (n - 1)).length, r = Array(i + 1).join("0"); return (r + t.random_number(n)).slice(-i) }; t.getOrigin = function (n) { n += "/"; var t = n.split("/").slice(0, 3); return t.join("/") }; t.isSameOriginUrl = function (n, t) { return t || (t = r.location.href), n.split("/").slice(0, 3).join("/") === t.split("/").slice(0, 3).join("/") }; t.getParentDomain = function (n) { if (/^[0-9.]*$/.test(n) || /^\[/.test(n) || !/[.]/.test(n)) return n; var t = n.split(".").slice(1); return t.join(".") }; t.objectExtend = function (n, t) { for (var i in t) t.hasOwnProperty(i) && (n[i] = t[i]); return n }; o = "_jp"; t.polluteGlobalNamespace = function () { o in r || (r[o] = {}) }; t.closeFrame = function (t, i) { return "c" + n.stringify([t, i]) }; t.userSetCode = function (n) { return n === 1e3 || n >= 3e3 && n <= 4999 }; t.countRTO = function (n) { var t; return t = n > 100 ? 3 * n : n + 200, t }; t.log = function () { r.console && console.log && console.log.apply && console.log.apply(console, arguments) }; t.bind = function (n, t) { return n.bind ? n.bind(t) : function () { return n.apply(t, arguments) } }; t.flatUrl = function (n) { return n.indexOf("?") === -1 && n.indexOf("#") === -1 }; t.amendUrl = function (n) { var i = u.location; if (!n) throw new Error("Wrong url for SockJS"); if (!t.flatUrl(n)) throw new Error("Only basic urls are supported in SockJS"); return n.indexOf("//") === 0 && (n = i.protocol + n), n.indexOf("/") === 0 && (n = i.protocol + "//" + i.host + n), n = n.replace(/[\/]+$/, ""), n }; t.arrIndexOf = function (n, t) { for (var i = 0; i < n.length; i++)if (n[i] === t) return i; return -1 }; t.arrSkip = function (n, i) { var r = t.arrIndexOf(n, i), u; return r === -1 ? n.slice() : (u = n.slice(0, r), u.concat(n.slice(r + 1))) }; t.isArray = Array.isArray || function (n) { return {}.toString.call(n).indexOf("Array") >= 0 }; t.delay = function (n, t) { return typeof n == "function" && (t = n, n = 0), setTimeout(t, n) }; var pt = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, ci = { "\x00": "\\u0000", "\x01": "\\u0001", "\x02": "\\u0002", "\x03": "\\u0003", "\x04": "\\u0004", "\x05": "\\u0005", "\x06": "\\u0006", "\x07": "\\u0007", "\b": "\\b", "\t": "\\t", "\n": "\\n", "\x0b": "\\u000b", "\f": "\\f", "\r": "\\r", "\x0e": "\\u000e", "\x0f": "\\u000f", "\x10": "\\u0010", "\x11": "\\u0011", "\x12": "\\u0012", "\x13": "\\u0013", "\x14": "\\u0014", "\x15": "\\u0015", "\x16": "\\u0016", "\x17": "\\u0017", "\x18": "\\u0018", "\x19": "\\u0019", "\x1a": "\\u001a", "\x1b": "\\u001b", "\x1c": "\\u001c", "\x1d": "\\u001d", "\x1e": "\\u001e", "\x1f": "\\u001f", '"': '\\"', "\\": "\\\\", "": "\\u007f", "聙": "\\u0080", "聛": "\\u0081", "聜": "\\u0082", "聝": "\\u0083", "聞": "\\u0084", "聟": "\\u0085", "聠": "\\u0086", "聡": "\\u0087", "聢": "\\u0088", "聣": "\\u0089", "聤": "\\u008a", "聥": "\\u008b", "聦": "\\u008c", "聧": "\\u008d", "聨": "\\u008e", "聫": "\\u008f", "聬": "\\u0090", "聭": "\\u0091", "聮": "\\u0092", "聯": "\\u0093", "聰": "\\u0094", "聲": "\\u0095", "聳": "\\u0096", "聴": "\\u0097", "聵": "\\u0098", "聶": "\\u0099", "職": "\\u009a", "聸": "\\u009b", "聹": "\\u009c", "聺": "\\u009d", "聻": "\\u009e", "聼": "\\u009f", "颅": "\\u00ad", "貈": "\\u0600", "貋": "\\u0601", "貍": "\\u0602", "貎": "\\u0603", "貏": "\\u0604", "軓": "\\u070f", "釣�": "\\u17b4", "釣�": "\\u17b5", "鈥�": "\\u200c", "鈥�": "\\u200d", "鈥�": "\\u200e", "鈥�": "\\u200f", "\u2028": "\\u2028", "\u2029": "\\u2029", "鈥�": "\\u202a", "鈥�": "\\u202b", "鈥�": "\\u202c", "鈥�": "\\u202d", "鈥�": "\\u202e", "鈥�": "\\u202f", "鈦�": "\\u2060", "鈦�": "\\u2061", "鈦�": "\\u2062", "鈦�": "\\u2063", "鈦�": "\\u2064", "鈦�": "\\u2065", "鈦�": "\\u2066", "鈦�": "\\u2067", "鈦�": "\\u2068", "鈦�": "\\u2069", "鈦�": "\\u206a", "鈦�": "\\u206b", "鈦�": "\\u206c", "鈦�": "\\u206d", "鈦�": "\\u206e", "鈦�": "\\u206f", "﻿": "\\ufeff", "锟�": "\\ufff0", "锟�": "\\ufff1", "锟�": "\\ufff2", "锟�": "\\ufff3", "锟�": "\\ufff4", "锟�": "\\ufff5", "锟�": "\\ufff6", "锟�": "\\ufff7", "锟�": "\\ufff8", "锟�": "\\ufff9", "锟�": "\\ufffa", "锟�": "\\ufffb", "锟�": "\\ufffc", "锟�": "\\ufffd", "锟�": "\\ufffe", "锟�": "\\uffff" }, ut = /[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g, wt, li = n && n.stringify || function (n) { return pt.lastIndex = 0, pt.test(n) && (n = n.replace(pt, function (n) { return ci[n] })), '"' + n + '"' }, ai = function (n) { for (var i = {}, r = [], t = 0; t < 65536; t++)r.push(String.fromCharCode(t)); return n.lastIndex = 0, r.join("").replace(n, function (n) { return i[n] = "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4), "" }), n.lastIndex = 0, i }; t.quote = function (n) { var t = li(n); return ut.lastIndex = 0, ut.test(t) ? (wt || (wt = ai(ut)), t.replace(ut, function (n) { return wt[n] })) : t }; ft = ["websocket", "xdr-streaming", "xhr-streaming", "iframe-eventsource", "iframe-htmlfile", "xdr-polling", "xhr-polling", "iframe-xhr-polling", "jsonp-polling"]; t.probeProtocols = function () { for (var r = {}, t, n = 0; n < ft.length; n++)t = ft[n], r[t] = i[t] && i[t].enabled(); return r }; t.detectProtocols = function (n, t, i) { var r = {}, u = [], e, o, f; for (t || (t = ft), e = 0; e < t.length; e++)o = t[e], r[o] = n[o]; return f = function (n) { var t = n.shift(); r[t] ? u.push(t) : n.length > 0 && f(n) }, i.websocket !== !1 && f(["websocket"]), r["xhr-streaming"] && !i.null_origin ? u.push("xhr-streaming") : r["xdr-streaming"] && !i.cookie_needed && !i.null_origin ? u.push("xdr-streaming") : f(["iframe-eventsource", "iframe-htmlfile"]), r["xhr-polling"] && !i.null_origin ? u.push("xhr-polling") : r["xdr-polling"] && !i.cookie_needed && !i.null_origin ? u.push("xdr-polling") : f(["iframe-xhr-polling", "jsonp-polling"]), u }; et = "_sockjs_global"; t.createHook = function () { var i = "a" + t.random_string(8), n; return et in r || (n = {}, r[et] = function (t) { return t in n || (n[t] = { id: t, del: function () { delete n[t] } }), n[t] }), r[et](i) }; t.attachMessage = function (n) { t.attachEvent("message", n) }; t.attachEvent = function (n, t) { typeof r.addEventListener != "undefined" ? r.addEventListener(n, t, !1) : (u.attachEvent("on" + n, t), r.attachEvent("on" + n, t)) }; t.detachMessage = function (n) { t.detachEvent("message", n) }; t.detachEvent = function (n, t) { typeof r.addEventListener != "undefined" ? r.removeEventListener(n, t, !1) : (u.detachEvent("on" + n, t), r.detachEvent("on" + n, t)) }; var w = {}, bt = !1, ni = function () { for (var n in w) w[n](), delete w[n] }, vi = function () { bt || (bt = !0, ni()) }; t.attachEvent("unload", vi); t.unload_add = function (n) { var i = t.random_string(8); return w[i] = n, bt && t.delay(ni), i }; t.unload_del = function (n) { n in w && delete w[n] }; t.createIframe = function (n, i) { var r = u.createElement("iframe"), f, s, h = function () { clearTimeout(f); try { r.onload = null } catch (n) { } r.onerror = null }, e = function () { r && (h(), setTimeout(function () { r && r.parentNode.removeChild(r); r = null }, 0), t.unload_del(s)) }, o = function (n) { r && (e(), i(n)) }, c = function (n, t) { try { r && r.contentWindow && r.contentWindow.postMessage(n, t) } catch (i) { } }; return r.src = n, r.style.display = "none", r.style.position = "absolute", r.onerror = function () { o("onerror") }, r.onload = function () { clearTimeout(f); f = setTimeout(function () { o("onload timeout") }, 2e3) }, u.body.appendChild(r), f = setTimeout(function () { o("timeout") }, 15e3), s = t.unload_add(e), { post: c, cleanup: e, loaded: h } }; t.createHtmlfile = function (n, i) { var u = new ActiveXObject("htmlfile"), h, c, f, l = function () { clearTimeout(h) }, e = function () { u && (l(), t.unload_del(c), f.parentNode.removeChild(f), f = u = null, CollectGarbage()) }, a = function (n) { u && (e(), i(n)) }, v = function (n, t) { try { f && f.contentWindow && f.contentWindow.postMessage(n, t) } catch (i) { } }, s; return u.open(), u.write('<html><script>document.domain="' + document.domain + '";<\/script><\/html>'), u.close(), u.parentWindow[o] = r[o], s = u.createElement("div"), u.body.appendChild(s), f = u.createElement("iframe"), s.appendChild(f), f.src = n, h = setTimeout(function () { a("timeout") }, 15e3), c = t.unload_add(e), { post: v, cleanup: e, loaded: l } }; y = function () { }; y.prototype = new c(["chunk", "finish"]); y.prototype._start = function (n, i, u, f) { var e = this, o; try { e.xhr = new XMLHttpRequest } catch (s) { } if (!e.xhr) try { e.xhr = new r.ActiveXObject("Microsoft.XMLHTTP") } catch (s) { } (r.ActiveXObject || r.XDomainRequest) && (i += (i.indexOf("?") === -1 ? "?" : "&") + "t=" + +new Date); e.unload_ref = t.unload_add(function () { e._cleanup(!0) }); try { e.xhr.open(n, i, !0) } catch (h) { e.emit("finish", 0, ""); e._cleanup(); return } if (f && f.no_credentials || (e.xhr.withCredentials = "true"), f && f.headers) for (o in f.headers) e.xhr.setRequestHeader(o, f.headers[o]); e.xhr.onreadystatechange = function () { var t, i, n; if (e.xhr) { t = e.xhr; switch (t.readyState) { case 3: try { n = t.status; i = t.responseText } catch (t) { } n === 1223 && (n = 204); i && i.length > 0 && e.emit("chunk", n, i); break; case 4: n = t.status; n === 1223 && (n = 204); e.emit("finish", n, t.responseText); e._cleanup(!1) } } }; e.xhr.send(u) }; y.prototype._cleanup = function (n) { var i = this; if (i.xhr) { if (t.unload_del(i.unload_ref), i.xhr.onreadystatechange = function () { }, n) try { i.xhr.abort() } catch (r) { } i.unload_ref = i.xhr = null } }; y.prototype.close = function () { var n = this; n.nuke(); n._cleanup(!0) }; ti = t.XHRCorsObject = function () { var n = this, i = arguments; t.delay(function () { n._start.apply(n, i) }) }; ti.prototype = new y; ii = t.XHRLocalObject = function (n, i, r) { var u = this; t.delay(function () { u._start(n, i, r, { no_credentials: !0 }) }) }; ii.prototype = new y; k = t.XDRObject = function (n, i, r) { var u = this; t.delay(function () { u._start(n, i, r) }) }; k.prototype = new c(["chunk", "finish"]); k.prototype._start = function (n, i, r) { var u = this, f = new XDomainRequest, e; i += (i.indexOf("?") === -1 ? "?" : "&") + "t=" + +new Date; e = f.ontimeout = f.onerror = function () { u.emit("finish", 0, ""); u._cleanup(!1) }; f.onprogress = function () { u.emit("chunk", 200, f.responseText) }; f.onload = function () { u.emit("finish", 200, f.responseText); u._cleanup(!1) }; u.xdr = f; u.unload_ref = t.unload_add(function () { u._cleanup(!0) }); try { u.xdr.open(n, i); u.xdr.send(r) } catch (o) { e() } }; k.prototype._cleanup = function (n) { var i = this; if (i.xdr) { if (t.unload_del(i.unload_ref), i.xdr.ontimeout = i.xdr.onerror = i.xdr.onprogress = i.xdr.onload = null, n) try { i.xdr.abort() } catch (r) { } i.unload_ref = i.xdr = null } }; k.prototype.close = function () { var n = this; n.nuke(); n._cleanup(!0) }; t.isXHRCorsCapable = function () { return r.XMLHttpRequest && "withCredentials" in new XMLHttpRequest ? 1 : r.XDomainRequest && u.domain ? 2 : f.enabled() ? 3 : 4 }; i = function (n, u, f) { if (this === r) return new i(n, u, f); var e = this, o; e._options = { devel: !1, debug: !1, protocols_whitelist: [], info: undefined, rtt: undefined }; f && t.objectExtend(e._options, f); e._base_url = t.amendUrl(n); e._server = e._options.server || t.random_number_string(1e3); e._options.protocols_whitelist && e._options.protocols_whitelist.length ? o = e._options.protocols_whitelist : (o = typeof u == "string" && u.length > 0 ? [u] : t.isArray(u) ? u : null, o && e._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')); e._protocols = []; e.protocol = null; e.readyState = i.CONNECTING; e._ir = ui(e._base_url); e._ir.onfinish = function (n, i) { e._ir = null; n ? (e._options.info && (n = t.objectExtend(n, e._options.info)), e._options.rtt && (i = e._options.rtt), e._applyInfo(n, i, o), e._didClose()) : e._didClose(1002, "Can't connect to server", !0) } }; i.prototype = new v; i.version = "--minify"; i.CONNECTING = 0; i.OPEN = 1; i.CLOSING = 2; i.CLOSED = 3; i.prototype._debug = function () { this._options.debug && t.log.apply(t, arguments) }; i.prototype._dispatchOpen = function () { var n = this; n.readyState === i.CONNECTING ? (n._transport_tref && (clearTimeout(n._transport_tref), n._transport_tref = null), n.readyState = i.OPEN, n.dispatchEvent(new e("open"))) : n._didClose(1006, "Server lost session") }; i.prototype._dispatchMessage = function (n) { var t = this; t.readyState === i.OPEN && t.dispatchEvent(new e("message", { data: n })) }; i.prototype._dispatchHeartbeat = function () { var n = this; n.readyState === i.OPEN && n.dispatchEvent(new e("heartbeat", {})) }; i.prototype._didClose = function (n, r, u) { var f = this, o; if (f.readyState !== i.CONNECTING && f.readyState !== i.OPEN && f.readyState !== i.CLOSING) throw new Error("INVALID_STATE_ERR"); if (f._ir && (f._ir.nuke(), f._ir = null), f._transport && (f._transport.doCleanup(), f._transport = null), o = new e("close", { code: n, reason: r, wasClean: t.userSetCode(n) }), !t.userSetCode(n) && f.readyState === i.CONNECTING && !u) { if (f._try_next_protocol(o)) return; o = new e("close", { code: 2e3, reason: "All transports failed", wasClean: !1, last_event: o }) } f.readyState = i.CLOSED; t.delay(function () { f.dispatchEvent(o) }) }; i.prototype._didMessage = function (t) { var r = this, f = t.slice(0, 1), u, i; switch (f) { case "o": r._dispatchOpen(); break; case "a": for (i = n.parse(t.slice(1) || "[]"), u = 0; u < i.length; u++)r._dispatchMessage(i[u]); break; case "m": i = n.parse(t.slice(1) || "null"); r._dispatchMessage(i); break; case "c": i = n.parse(t.slice(1) || "[]"); r._didClose(i[0], i[1]); break; case "h": r._dispatchHeartbeat() } }; i.prototype._try_next_protocol = function (n) { var r = this, f, o, s, h, e; for (r.protocol && (r._debug("Closed transport:", r.protocol, "" + n), r.protocol = null), r._transport_tref && (clearTimeout(r._transport_tref), r._transport_tref = null); ;) { if (f = r.protocol = r._protocols.shift(), !f) return !1; if (i[f] && i[f].need_body === !0 && (!u.body || typeof u.readyState != "undefined" && u.readyState !== "complete")) return r._protocols.unshift(f), r.protocol = "waiting-for-load", t.attachEvent("load", function () { r._try_next_protocol() }), !0; if (!!i[f] && !!i[f].enabled(r._options)) return o = i[f].roundTrips || 1, s = (r._options.rto || 0) * o || 5e3, r._transport_tref = t.delay(s, function () { r.readyState === i.CONNECTING && r._didClose(2007, "Transport timeouted") }), h = t.random_string(8), e = r._base_url + "/" + r._server + "/" + h, r._debug("Opening transport:", f, " url:" + e, " RTO:" + r._options.rto), r._transport = new i[f](r, e, r._base_url), !0; r._debug("Skipping transport:", f) } }; i.prototype.close = function (n, r) { var u = this; if (n && !t.userSetCode(n)) throw new Error("INVALID_ACCESS_ERR"); return u.readyState !== i.CONNECTING && u.readyState !== i.OPEN ? !1 : (u.readyState = i.CLOSING, u._didClose(n || 1e3, r || "Normal closure"), !0) }; i.prototype.send = function (n) { var r = this; if (r.readyState === i.CONNECTING) throw new Error("INVALID_STATE_ERR"); return r.readyState === i.OPEN && r._transport.doSend(t.quote("" + n)), !0 }; i.prototype._applyInfo = function (n, i, r) { var f = this, e; f._options.info = n; f._options.rtt = i; f._options.rto = t.countRTO(i); f._options.info.null_origin = !u.domain; e = t.probeProtocols(); f._protocols = t.detectProtocols(e, r, n) }; d = i.websocket = function (n, i) { var u = this, f = i + "/websocket", e; f = f.slice(0, 5) === "https" ? "wss" + f.slice(5) : "ws" + f.slice(4); u.ri = n; u.url = f; e = r.WebSocket || r.MozWebSocket; u.ws = new e(u.url); u.ws.onmessage = function (n) { u.ri._didMessage(n.data) }; u.unload_ref = t.unload_add(function () { u.ws.close() }); u.ws.onclose = function () { u.ri._didMessage(t.closeFrame(1006, "WebSocket connection broken")) } }; d.prototype.doSend = function (n) { this.ws.send("[" + n + "]") }; d.prototype.doCleanup = function () { var n = this, i = n.ws; i && (i.onmessage = i.onclose = null, i.close(), t.unload_del(n.unload_ref), n.unload_ref = n.ri = n.ws = null) }; d.enabled = function () { return !!r.WebSocket || !!r.MozWebSocket }; d.roundTrips = 2; l = function () { }; l.prototype.send_constructor = function (n) { var t = this; t.send_buffer = []; t.sender = n }; l.prototype.doSend = function (n) { var t = this; t.send_buffer.push(n); t.send_stop || t.send_schedule() }; l.prototype.send_schedule_wait = function () { var n = this, i; n.send_stop = function () { n.send_stop = null; clearTimeout(i) }; i = t.delay(25, function () { n.send_stop = null; n.send_schedule() }) }; l.prototype.send_schedule = function () { var n = this, t; n.send_buffer.length > 0 && (t = "[" + n.send_buffer.join(",") + "]", n.send_stop = n.sender(n.trans_url, t, function (t, i) { n.send_stop = null; t === !1 ? n.ri._didClose(1006, "Sending error " + i) : n.send_schedule_wait() }), n.send_buffer = []) }; l.prototype.send_destructor = function () { var n = this; n._send_stop && n._send_stop(); n._send_stop = null }; var yi = function (n, i, r) { var s = this, e, o, f, c; "_send_form" in s || (e = s._send_form = u.createElement("form"), o = s._send_area = u.createElement("textarea"), o.name = "d", e.style.display = "none", e.style.position = "absolute", e.method = "POST", e.enctype = "application/x-www-form-urlencoded", e.acceptCharset = "UTF-8", e.appendChild(o), u.body.appendChild(e)); var e = s._send_form, o = s._send_area, h = "a" + t.random_string(8); e.target = h; e.action = n + "/jsonp_send?i=" + h; try { f = u.createElement('<iframe name="' + h + '">') } catch (a) { f = u.createElement("iframe"); f.name = h } f.id = h; e.appendChild(f); f.style.display = "none"; try { o.value = i } catch (l) { t.log("Your browser is seriously broken. Go home! " + l.message) } return e.submit(), c = function () { f.onerror && (f.onreadystatechange = f.onerror = f.onload = null, t.delay(500, function () { f.parentNode.removeChild(f); f = null }), o.value = "", r(!0)) }, f.onerror = f.onload = c, f.onreadystatechange = function () { f.readyState == "complete" && c() }, c }, pi = function (n) { return function (t, i, r) { var u = new n("POST", t + "/xhr_send", i); return u.onfinish = function (n) { r(n === 200 || n === 204, "http status " + n) }, function (n) { r(!1, n) } } }, wi = function (n, i) { var s, r = u.createElement("script"), f, e = function (n) { f && (f.parentNode.removeChild(f), f = null); r && (clearTimeout(s), r.parentNode.removeChild(r), r.onreadystatechange = r.onerror = r.onload = r.onclick = null, r = null, i(n), i = null) }, h = !1, c = null, o; if (r.id = "a" + t.random_string(8), r.src = n, r.type = "text/javascript", r.charset = "UTF-8", r.onerror = function () { c || (c = setTimeout(function () { h || e(t.closeFrame(1006, "JSONP script loaded abnormally (onerror)")) }, 1e3)) }, r.onload = function () { e(t.closeFrame(1006, "JSONP script loaded abnormally (onload)")) }, r.onreadystatechange = function () { if (/loaded|closed/.test(r.readyState)) { if (r && r.htmlFor && r.onclick) { h = !0; try { r.onclick() } catch (n) { } } r && e(t.closeFrame(1006, "JSONP script loaded abnormally (onreadystatechange)")) } }, typeof r.async == "undefined" && u.attachEvent) if (/opera/i.test(navigator.userAgent)) f = u.createElement("script"), f.text = "try{var a = document.getElementById('" + r.id + "'); if(a)a.onerror();}catch(x){};", r.async = f.async = !1; else { try { r.htmlFor = r.id; r.event = "onclick" } catch (l) { } r.async = !0 } return typeof r.async != "undefined" && (r.async = !0), s = setTimeout(function () { e(t.closeFrame(1006, "JSONP script loaded abnormally (timeout)")) }, 35e3), o = u.getElementsByTagName("head")[0], o.insertBefore(r, o.firstChild), f && o.insertBefore(f, o.firstChild), e }, g = i["jsonp-polling"] = function (n, i) { t.polluteGlobalNamespace(); var r = this; r.ri = n; r.trans_url = i; r.send_constructor(yi); r._schedule_recv() }; return g.prototype = new l, g.prototype._schedule_recv = function () { var n = this, t = function (t) { n._recv_stop = null; t && (n._is_closing || n.ri._didMessage(t)); n._is_closing || n._schedule_recv() }; n._recv_stop = ri(n.trans_url + "/jsonp", wi, t) }, g.enabled = function () { return !0 }, g.need_body = !0, g.prototype.doCleanup = function () { var n = this; n._is_closing = !0; n._recv_stop && n._recv_stop(); n.ri = n._recv_stop = null; n.send_destructor() }, ri = function (n, i, u) { var f = "a" + t.random_string(6), s = n + "?c=" + escape(o + "." + f), e = 0, h = function (n) { switch (e) { case 0: delete r[o][f]; u(n); break; case 1: u(n); e = 2; break; case 2: delete r[o][f] } }, c = i(s, h); return r[o][f] = c, function () { r[o][f] && (e = 1, r[o][f](t.closeFrame(1e3, "JSONP user aborted read"))) } }, s = function () { }, s.prototype = new l, s.prototype.run = function (n, t, i, r, u) { var f = this; f.ri = n; f.trans_url = t; f.send_constructor(pi(u)); f.poll = new ct(n, r, t + i, u) }, s.prototype.doCleanup = function () { var n = this; n.poll && (n.poll.abort(), n.poll = null) }, b = i["xhr-streaming"] = function (n, i) { this.run(n, i, "/xhr_streaming", a, t.XHRCorsObject) }, b.prototype = new s, b.enabled = function () { return r.XMLHttpRequest && "withCredentials" in new XMLHttpRequest && !/opera/i.test(navigator.userAgent) }, b.roundTrips = 2, b.need_body = !0, nt = i["xdr-streaming"] = function (n, i) { this.run(n, i, "/xhr_streaming", a, t.XDRObject) }, nt.prototype = new s, nt.enabled = function () { return !!r.XDomainRequest }, nt.roundTrips = 2, ot = i["xhr-polling"] = function (n, i) { this.run(n, i, "/xhr", a, t.XHRCorsObject) }, ot.prototype = new s, ot.enabled = b.enabled, ot.roundTrips = 2, st = i["xdr-polling"] = function (n, i) { this.run(n, i, "/xhr", a, t.XDRObject) }, st.prototype = new s, st.enabled = nt.enabled, st.roundTrips = 2, f = function () { }, f.prototype.i_constructor = function (n, i, r) { var u = this, f; u.ri = n; u.origin = t.getOrigin(r); u.base_url = r; u.trans_url = i; f = r + "/iframe.html"; u.ri._options.devel && (f += "?t=" + +new Date); u.window_id = t.random_string(8); f += "#" + u.window_id; u.iframeObj = t.createIframe(f, function (n) { u.ri._didClose(1006, "Unable to load an iframe (" + n + ")") }); u.onmessage_cb = t.bind(u.onmessage, u); t.attachMessage(u.onmessage_cb) }, f.prototype.doCleanup = function () { var n = this; if (n.iframeObj) { t.detachMessage(n.onmessage_cb); try { n.iframeObj.iframe.contentWindow && n.postMessage("c") } catch (i) { } n.iframeObj.cleanup(); n.iframeObj = null; n.onmessage_cb = n.iframeObj = null } }, f.prototype.onmessage = function (t) { var r = this; if (t.origin === r.origin) { var u = t.data.slice(0, 8), f = t.data.slice(8, 9), e = t.data.slice(9); if (u === r.window_id) switch (f) { case "s": r.iframeObj.loaded(); r.postMessage("s", n.stringify([i.version, r.protocol, r.trans_url, r.base_url])); break; case "t": r.ri._didMessage(e) } } }, f.prototype.postMessage = function (n, t) { var i = this; i.iframeObj.post(i.window_id + n + (t || ""), i.origin) }, f.prototype.doSend = function (n) { this.postMessage("m", n) }, f.enabled = function () { var n = navigator && navigator.userAgent && navigator.userAgent.indexOf("Konqueror") !== -1; return (typeof r.postMessage == "function" || typeof r.postMessage == "object") && !n }, ht = function (n, i) { parent !== r ? parent.postMessage(kt + n + (i || ""), "*") : t.log("Can't postMessage, no parent window.", n, i) }, h = function () { }, h.prototype._didClose = function (n, i) { ht("t", t.closeFrame(n, i)) }, h.prototype._didMessage = function (n) { ht("t", n) }, h.prototype._doSend = function (n) { this._transport.doSend(n) }, h.prototype._doCleanup = function () { this._transport.doCleanup() }, t.parent_origin = undefined, i.bootstrap_iframe = function () { var f, e; kt = u.location.hash.slice(1); e = function (u) { if (u.source === parent && (typeof t.parent_origin == "undefined" && (t.parent_origin = u.origin), u.origin === t.parent_origin)) { var a = u.data.slice(0, 8), v = u.data.slice(8, 9), c = u.data.slice(9); if (a === kt) switch (v) { case "s": var e = n.parse(c), l = e[0], y = e[1], o = e[2], s = e[3]; if (l !== i.version && t.log('Incompatibile SockJS! Main site uses: "' + l + '", the iframe: "' + i.version + '".'), !t.flatUrl(o) || !t.flatUrl(s)) { t.log("Only basic urls are supported in SockJS"); return } if (!t.isSameOriginUrl(o) || !t.isSameOriginUrl(s)) { t.log("Can't connect to different domain from within an iframe. (" + n.stringify([r.location.href, o, s]) + ")"); return } f = new h; f._transport = new h[y](f, o, s); break; case "m": f._doSend(c); break; case "c": f && f._doCleanup(); f = null } } }; t.attachMessage(e); ht("s") }, p = function (n, i) { var r = this; t.delay(function () { r.doXhr(n, i) }) }, p.prototype = new c(["finish"]), p.prototype.doXhr = function (i, r) { var f = this, o = (new Date).getTime(), u = new r("GET", i + "/info"), e = t.delay(8e3, function () { u.ontimeout() }); u.onfinish = function (t, i) { if (clearTimeout(e), e = null, t === 200) { var u = (new Date).getTime() - o, r = n.parse(i); typeof r != "object" && (r = {}); f.emit("finish", r, u) } else f.emit("finish") }; u.ontimeout = function () { u.close(); f.emit("finish") } }, dt = function (i) { var r = this, e = function () { var t = new f, u, e; t.protocol = "w-iframe-info-receiver"; u = function (i) { if (typeof i == "string" && i.substr(0, 1) === "m") { var u = n.parse(i.substr(1)), f = u[0], e = u[1]; r.emit("finish", f, e) } else r.emit("finish"); t.doCleanup(); t = null }; e = { _options: {}, _didClose: u, _didMessage: u }; t.i_constructor(e, i, i) }; u.body ? e() : t.attachEvent("load", e) }, dt.prototype = new c(["finish"]), gt = function () { var n = this; t.delay(function () { n.emit("finish", {}, 2e3) }) }, gt.prototype = new c(["finish"]), ui = function (n) { if (t.isSameOriginUrl(n)) return new p(n, t.XHRLocalObject); switch (t.isXHRCorsCapable()) { case 1: return new p(n, t.XHRLocalObject); case 2: return new p(n, t.XDRObject); case 3: return new dt(n); default: return new gt } }, fi = h["w-iframe-info-receiver"] = function (i, r, u) { var f = new p(u, t.XHRLocalObject); f.onfinish = function (t, r) { i._didMessage("m" + n.stringify([t, r])); i._didClose() } }, fi.prototype.doCleanup = function () { }, tt = i["iframe-eventsource"] = function () { var n = this; n.protocol = "w-iframe-eventsource"; n.i_constructor.apply(n, arguments) }, tt.prototype = new f, tt.enabled = function () { return "EventSource" in r && f.enabled() }, tt.need_body = !0, tt.roundTrips = 3, ei = h["w-iframe-eventsource"] = function (n, i) { this.run(n, i, "/eventsource", lt, t.XHRLocalObject) }, ei.prototype = new s, it = i["iframe-xhr-polling"] = function () { var n = this; n.protocol = "w-iframe-xhr-polling"; n.i_constructor.apply(n, arguments) }, it.prototype = new f, it.enabled = function () { return r.XMLHttpRequest && f.enabled() }, it.need_body = !0, it.roundTrips = 3, oi = h["w-iframe-xhr-polling"] = function (n, i) { this.run(n, i, "/xhr", a, t.XHRLocalObject) }, oi.prototype = new s, rt = i["iframe-htmlfile"] = function () { var n = this; n.protocol = "w-iframe-htmlfile"; n.i_constructor.apply(n, arguments) }, rt.prototype = new f, rt.enabled = function () { return f.enabled() }, rt.need_body = !0, rt.roundTrips = 3, si = h["w-iframe-htmlfile"] = function (n, i) { this.run(n, i, "/htmlfile", vt, t.XHRLocalObject) }, si.prototype = new s, ct = function (n, t, i, r) { var u = this; u.ri = n; u.Receiver = t; u.recv_url = i; u.AjaxObject = r; u._scheduleRecv() }, ct.prototype._scheduleRecv = function () { var n = this, t = n.poll = new n.Receiver(n.recv_url, n.AjaxObject), i = 0; t.onmessage = function (t) { i += 1; n.ri._didMessage(t.data) }; t.onclose = function (i) { n.poll = t = t.onmessage = t.onclose = null; n.poll_is_closing || (i.reason === "permanent" ? n.ri._didClose(1006, "Polling error (" + i.reason + ")") : n._scheduleRecv()) } }, ct.prototype.abort = function () { var n = this; n.poll_is_closing = !0; n.poll && n.poll.abort() }, lt = function (n) { var r = this, i = new EventSource(n); i.onmessage = function (n) { r.dispatchEvent(new e("message", { data: unescape(n.data) })) }; r.es_close = i.onerror = function (n, u) { var f = u ? "user" : i.readyState !== 2 ? "network" : "permanent"; r.es_close = i.onmessage = i.onerror = null; i.close(); i = null; t.delay(200, function () { r.dispatchEvent(new e("close", { reason: f })) }) } }, lt.prototype = new v, lt.prototype.abort = function () { var n = this; n.es_close && n.es_close({}, !0) }, hi = function () { if (at === undefined) if ("ActiveXObject" in r) try { at = !!new ActiveXObject("htmlfile") } catch (n) { } else at = !1; return at }, vt = function (n) { var i = this, f, u; t.polluteGlobalNamespace(); i.id = "a" + t.random_string(6, 26); n += (n.indexOf("?") === -1 ? "?" : "&") + "c=" + escape(o + "." + i.id); f = hi() ? t.createHtmlfile : t.createIframe; r[o][i.id] = { start: function () { u.loaded() }, message: function (n) { i.dispatchEvent(new e("message", { data: n })) }, stop: function () { i.iframe_close({}, "network") } }; i.iframe_close = function (n, t) { u.cleanup(); i.iframe_close = u = null; delete r[o][i.id]; i.dispatchEvent(new e("close", { reason: t })) }; u = f(n, function () { i.iframe_close({}, "permanent") }) }, vt.prototype = new v, vt.prototype.abort = function () { var n = this; n.iframe_close && n.iframe_close({}, "user") }, a = function (n, t) { var i = this, r = 0; i.xo = new t("POST", n, null); i.xo.onchunk = function (n, t) { var f, u, o; if (n === 200) for (; ;) { if (f = t.slice(r), u = f.indexOf("\n"), u === -1) break; r += u + 1; o = f.slice(0, u); i.dispatchEvent(new e("message", { data: o })) } }; i.xo.onfinish = function (n, t) { i.xo.onchunk(n, t); i.xo = null; var r = n === 200 ? "network" : "permanent"; i.dispatchEvent(new e("close", { reason: r })) } }, a.prototype = new v, a.prototype.abort = function () { var n = this; n.xo && (n.xo.close(), n.dispatchEvent(new e("close", { reason: "user" })), n.xo = null) }, i.getUtils = function () { return t }, i.getIframeTransport = function () { return f }, i }(); "_sockjs_onload" in window && setTimeout(_sockjs_onload, 1); typeof define == "function" && define.amd && define("sockjs", [], function () { return SockJS }) }(), function () { var n, r, i, t, f = {}.hasOwnProperty, u = [].slice; n = { LF: "\n", NULL: "\x00" }; i = function () { function t(n, t, i) { this.command = n; this.headers = t != null ? t : {}; this.body = i != null ? i : "" } var i; return t.prototype.toString = function () { var i, r, e, o, u; i = [this.command]; e = this.headers["content-length"] === !1 ? !0 : !1; e && delete this.headers["content-length"]; u = this.headers; for (r in u) f.call(u, r) && (o = u[r], i.push("" + r + ":" + o)); return this.body && !e && i.push("content-length:" + t.sizeOfUTF8(this.body)), i.push(n.LF + this.body), i.join(n.LF) }, t.sizeOfUTF8 = function (n) { return n ? encodeURI(n).match(/%..|./g).length : 0 }, i = function (i) { var o, s, b, l, a, u, v, y, k, h, r, p, c, f, d, w, e; for (l = i.search(RegExp("" + n.LF + n.LF)), a = i.substring(0, l).split(n.LF), b = a.shift(), u = {}, p = function (n) { return n.replace(/^\s+|\s+$/g, "") }, w = a.reverse(), c = 0, d = w.length; c < d; c++)h = w[c], y = h.indexOf(":"), u[p(h.substring(0, y))] = p(h.substring(y + 1)); if (o = "", r = l + 2, u["content-length"]) k = parseInt(u["content-length"]), o = ("" + i).substring(r, r + k); else for (s = null, v = f = r, e = i.length; r <= e ? f < e : f > e; v = r <= e ? ++f : --f) { if (s = i.charAt(v), s === n.NULL) break; o += s } return new t(b, u, o) }, t.unmarshall = function (t) { var e, f, r, u; return f = t.split(RegExp("" + n.NULL + n.LF + "*")), u = { frames: [], partial: "" }, u.frames = function () { var n, u, t, r; for (t = f.slice(0, -1), r = [], n = 0, u = t.length; n < u; n++)e = t[n], r.push(i(e)); return r }(), r = f.slice(-1)[0], r === n.LF || r.search(RegExp("" + n.NULL + n.LF + "*$")) !== -1 ? u.frames.push(i(r)) : u.partial = r, u }, t.marshall = function (i, r, u) { var f; return f = new t(i, r, u), f.toString() + n.NULL }, t }(); r = function () { function r(n) { this.ws = n; this.ws.binaryType = "arraybuffer"; this.counter = 0; this.connected = !1; this.heartbeat = { outgoing: 1e4, incoming: 1e4 }; this.maxWebSocketFrameSize = 16384; this.subscriptions = {}; this.partialData = "" } var f; return r.prototype.debug = function (n) { var t; if (typeof window != "undefined" && window !== null) return (t = window.console) != null ? t.log(n) : void 0 }, f = function () { return Date.now ? Date.now() : (new Date).valueOf }, r.prototype._transmit = function (n, t, r) { var u; for (u = i.marshall(n, t, r), typeof this.debug == "function" && this.debug(">>> " + u); ;)if (u.length > this.maxWebSocketFrameSize) this.ws.send(u.substring(0, this.maxWebSocketFrameSize)), u = u.substring(this.maxWebSocketFrameSize), typeof this.debug == "function" && this.debug("remaining = " + u.length); else return this.ws.send(u) }, r.prototype._setupHeartbeat = function (i) { var u, e, r, s, h, o; if ((h = i.version) === t.VERSIONS.V1_1 || h === t.VERSIONS.V1_2) return o = function () { var n, u, t, r; for (t = i["heart-beat"].split(","), r = [], n = 0, u = t.length; n < u; n++)s = t[n], r.push(parseInt(s)); return r }(), e = o[0], u = o[1], this.heartbeat.outgoing === 0 || u === 0 || (r = Math.max(this.heartbeat.outgoing, u), typeof this.debug == "function" && this.debug("send PING every " + r + "ms"), this.pinger = t.setInterval(r, function (t) { return function () { return t.ws.send(n.LF), typeof t.debug == "function" ? t.debug(">>> PING") : void 0 } }(this))), (this.heartbeat.incoming === 0 || e === 0) ? void 0 : (r = Math.max(this.heartbeat.incoming, e), typeof this.debug == "function" && this.debug("check PONG every " + r + "ms"), this.ponger = t.setInterval(r, function (n) { return function () { var t; return t = f() - n.serverActivity, t > r * 2 ? (typeof n.debug == "function" && n.debug("did not receive server activity for the last " + t + "ms"), n.ws.close()) : void 0 } }(this))) }, r.prototype._parseConnect = function () { var n, i, r, t; n = 1 <= arguments.length ? u.call(arguments, 0) : []; t = {}; switch (n.length) { case 2: t = n[0]; i = n[1]; break; case 3: n[1] instanceof Function ? (t = n[0], i = n[1], r = n[2]) : (t.login = n[0], t.passcode = n[1], i = n[2]); break; case 4: t.login = n[0]; t.passcode = n[1]; i = n[2]; r = n[3]; break; default: t.login = n[0]; t.passcode = n[1]; i = n[2]; r = n[3]; t.host = n[4] }return [t, i, r] }, r.prototype.connect = function () { var s, r, e, o; return s = 1 <= arguments.length ? u.call(arguments, 0) : [], o = this._parseConnect.apply(this, s), e = o[0], this.connectCallback = o[1], r = o[2], typeof this.debug == "function" && this.debug("Opening Web Socket..."), this.ws.onmessage = function (t) { return function (u) { var s, b, a, h, e, v, y, c, p, l, k, w, o; if (h = typeof ArrayBuffer != "undefined" && u.data instanceof ArrayBuffer ? (s = new Uint8Array(u.data), typeof t.debug == "function" ? t.debug("--- got data length: " + s.length) : void 0, function () { var n, i, t; for (t = [], n = 0, i = s.length; n < i; n++)b = s[n], t.push(String.fromCharCode(b)); return t }().join("")) : u.data, t.serverActivity = f(), h === n.LF) { typeof t.debug == "function" && t.debug("<<< PONG"); return } for (typeof t.debug == "function" && t.debug("<<< " + h), p = i.unmarshall(t.partialData + h), t.partialData = p.partial, w = p.frames, o = [], l = 0, k = w.length; l < k; l++) { e = w[l]; switch (e.command) { case "CONNECTED": typeof t.debug == "function" && t.debug("connected to server " + e.headers.server); t.connected = !0; t._setupHeartbeat(e.headers); o.push(typeof t.connectCallback == "function" ? t.connectCallback(e) : void 0); break; case "MESSAGE": c = e.headers.subscription; y = t.subscriptions[c] || t.onreceive; y ? (a = t, v = e.headers["message-id"], e.ack = function (n) { return n == null && (n = {}), a.ack(v, c, n) }, e.nack = function (n) { return n == null && (n = {}), a.nack(v, c, n) }, o.push(y(e))) : o.push(typeof t.debug == "function" ? t.debug("Unhandled received MESSAGE: " + e) : void 0); break; case "RECEIPT": o.push(typeof t.onreceipt == "function" ? t.onreceipt(e) : void 0); break; case "ERROR": o.push(typeof r == "function" ? r(e) : void 0); break; default: o.push(typeof t.debug == "function" ? t.debug("Unhandled frame: " + e) : void 0) } } return o } }(this), this.ws.onclose = function (n) { return function () { var t; return t = "Whoops! Lost connection to " + n.ws.url, typeof n.debug == "function" && n.debug(t), n._cleanUp(), typeof r == "function" ? r(t) : void 0 } }(this), this.ws.onopen = function (n) { return function () { return typeof n.debug == "function" && n.debug("Web Socket Opened..."), e["accept-version"] = t.VERSIONS.supportedVersions(), e["heart-beat"] = [n.heartbeat.outgoing, n.heartbeat.incoming].join(","), n._transmit("CONNECT", e) } }(this) }, r.prototype.disconnect = function (n, t) { return t == null && (t = {}), this._transmit("DISCONNECT", t), this.ws.onclose = null, this.ws.close(), this._cleanUp(), typeof n == "function" ? n() : void 0 }, r.prototype._cleanUp = function () { return this.connected = !1, this.pinger && t.clearInterval(this.pinger), this.ponger ? t.clearInterval(this.ponger) : void 0 }, r.prototype.send = function (n, t, i) { return t == null && (t = {}), i == null && (i = ""), t.destination = n, this._transmit("SEND", t, i) }, r.prototype.subscribe = function (n, t, i) { var r; return i == null && (i = {}), i.id || (i.id = "sub-" + this.counter++), i.destination = n, this.subscriptions[i.id] = t, this._transmit("SUBSCRIBE", i), r = this, { id: i.id, unsubscribe: function () { return r.unsubscribe(i.id) } } }, r.prototype.unsubscribe = function (n) { return delete this.subscriptions[n], this._transmit("UNSUBSCRIBE", { id: n }) }, r.prototype.begin = function (n) { var i, t; return t = n || "tx-" + this.counter++ , this._transmit("BEGIN", { transaction: t }), i = this, { id: t, commit: function () { return i.commit(t) }, abort: function () { return i.abort(t) } } }, r.prototype.commit = function (n) { return this._transmit("COMMIT", { transaction: n }) }, r.prototype.abort = function (n) { return this._transmit("ABORT", { transaction: n }) }, r.prototype.ack = function (n, t, i) { return i == null && (i = {}), i["message-id"] = n, i.subscription = t, this._transmit("ACK", i) }, r.prototype.nack = function (n, t, i) { return i == null && (i = {}), i["message-id"] = n, i.subscription = t, this._transmit("NACK", i) }, r }(); t = { VERSIONS: { V1_0: "1.0", V1_1: "1.1", V1_2: "1.2", supportedVersions: function () { return "1.1,1.0" } }, client: function (n, i) { var u, f; return i == null && (i = ["v10.stomp", "v11.stomp"]), u = t.WebSocketClass || WebSocket, f = new u(n, i), new r(f) }, over: function (n) { return new r(n) }, Frame: i }; typeof exports != "undefined" && exports !== null && (exports.Stomp = t); typeof window != "undefined" && window !== null ? (t.setInterval = function (n, t) { return window.setInterval(t, n) }, t.clearInterval = function (n) { return window.clearInterval(n) }, window.Stomp = t) : exports || (self.Stomp = t) }.call(this); angular.module("chatModule", ["ngAnimate", "ngSanitize", "ui.bootstrap", "ngCookies", "ngToast", "angularMoment"]); angular.module("chatModule").constant("ApiContext", "http://app.automotocast.ca/api").constant("RequestContext", "").constant("AppName", "Auto Moto Web Chat").constant("AppUrl", "http://app.automotocast.ca/standaloneChat/").constant("AppVersion", "0"); angular.module("chatModule").run(["$templateCache", function (n) { "use strict"; n.put("partials/errorDialog.html", '<div class=modal-header><h3 class=modal-title>{{modal.title}}<\/h3><\/div><div class=modal-body><p>{{modal.message}}<\/p><\/div><div class=modal-footer><button class="btn btn-primary" ng-click=$close()>Close<\/button><\/div>'); n.put("partials/infoDialog.html", '<div class=modal-header><h3 class=modal-title>{{modal.title}}<\/h3><\/div><div class=modal-body><p>{{modal.message}}<\/p><\/div><div class=modal-footer><button class="btn btn-primary" ng-click=$close()>OK<\/button><\/div>'); n.put("partials/signedInDialog.html", ' <div class="ChatModal_Green" id="modal-body"> <form name="userForm" valid-submit="signIn()" novalidate> <div class="MiddleItems"> <h2 id="modal1Title"><img ng-src="{{AppUrl}}/images/Chat_icon.png"/> CHAT WITH <span>{{$root.groupName | uppercase}}<\/span><\/h2> <p id="modal1Desc"> SELECT AN AVAILABLE CONTACT FOR THIS DEALER: <\/p><div class="OnOF_Status" style="height:180px !important" ng-scrollbar rebuild-on-change> <ul class="CheckItems_List check_image"> <li ng-repeat="x in $root.Dealers | orderBy:&apos;firstName&apos;"> <span class="{{x.online==true?&apos;OnlineTextColor&apos;:&apos;&apos;}}"> <input type="checkbox" id="checkboxOnline{{x.id}}" ng-model="x.selected" ng-click="updateSelection($index, Dealers)" ng-required="!Dealerselected"/> <label for="checkboxOnline{{x.id}}"> <img ng-src="{{x.avatar}}" class="Small_Profile" title="" alt="" imageonload/><span><b>{{x.firstName+" "+x.lastName}}<\/b> - <b>{{x.online==true?&apos;ONLINE&apos;:&apos;OFFLINE&apos;}}<\/b><\/span> <\/label> <\/span> <\/li><\/ul> <\/div><p ng-show="!Dealerselected && userForm.$submitted" class="help-block">Please select dealer<\/p><p ng-if="$root.Dealers==0" class="help-block" style="color:red">{{$root.groupName}}not found in the database<\/p><br><div class="FieldRow" ng-class="{&apos;has-error&apos; : userForm.firstName.$invalid && !userForm.firstName.$pristine}"> <input type="text" name="firstName" class="FocusField" ng-model="$root.user.firstName" required placeholder="Enter Your First Name"> <p ng-show="userForm.firstName.$error.required && userForm.$submitted" class="help-block">First Name is required.<\/p><\/div><div class="FieldRow" ng-class="{&apos;has-error&apos; : userForm.lastName.$invalid && !userForm.lastName.$pristine}"> <input type="text" name="lastName" class="FocusField" ng-model="$root.user.lastName" required placeholder="Enter Your Last Name"> <p ng-show="userForm.lastName.$error.required && userForm.$submitted" class="help-block">First Name is required.<\/p><\/div><div class="FieldRow" ng-class="{&apos;has-error&apos; : userForm.email.$invalid && !userForm.email.$pristine}"> <input type="email" name="email" class="FocusField" ng-model="$root.user.email" required placeholder="Enter Your Email"> <p ng-show="userForm.email.$error.required && userForm.$submitted" class="help-block">Email is required.<\/p><p ng-show="userForm.email.$error.email && userForm.$submitted" class="help-block">Enter a valid email.<\/p><\/div><div class="FieldRow"><button type="submit" class="Btn_Yellow">START YOUR CHAT NOW<\/button><\/div><div class="BottomFixed"> <i class="fa fa-info-circle"><\/i> LEARN MORE ABOUT DEALER CHAT<span>DEALER CHAT POWERED BY <img ng-src="{{AppUrl}}/images/LogoWhite.PNG"/><\/span><\/div><\/div><\/form> <\/div>'); n.put("partials/ChatDialog.html", ' <div class="ChatWindow"> <div class="ChatHeader"> <div class="LogoDiv"> <img ng-src="{{AppUrl}}/images/logo.png" alt="logo"> <\/div><div class="CloseWindow"> <ul> <li> <a ng-click="shrink()"><img ng-src="{{AppUrl}}/images/W-minimize.png" alt="minimize" title="Window Minimize"><\/a> <\/li><li> <a ng-click="ShowMessageHistoryPopup()"> <img ng-src="{{AppUrl}}/images/W-Close.png" alt="minimize" title="Window Close"> <\/a> <\/li><\/ul> <\/div><div class="clear"><\/div><\/div><div class="BodyDiv" id="modal-body"> <div class="overlay" id="HideBtnSlide_Menu" ng-click="HideSlideMenu()" ng-show="MenuSideBar"> <\/div><div id="EmailDropDownShow" ng-show="ShowMessageHistoryWindow"> <div class="check_image"> <ul> <li> <input type="checkbox" id="EmailMe" ng-model="emailChatHistory"> <label for="EmailMe">Email Me Chat History <\/label> <\/li><li> <input type="checkbox" id="SendResponses" ng-model="emailOfflineMessages"> <label for="SendResponses"> Send Responses to My Email <\/label> <\/li><li> <input type="checkbox" id="HaveDealer" ng-model="callbackRequestCheckbox"> <label for="HaveDealer">Have Dealer Call Me <\/label> <\/li><li> <input type="text" style="width:100%" id="phone" ng-model="phoneNumber" ng-show="callbackRequestCheckbox" placeholder="Enter your phone number" phone-input> <\/li><div class="clear"><\/div><\/ul> <\/div><div class="BtnCloseChat"> <button type="button" ng-click="cancel()" ng-show="!IndivisualCloseRequest"> CLOSE CHAT WINDOW <\/button> <\/div><div class="BtnCloseChat"> <button type="button" ng-click="IndivisualClose()" ng-show="IndivisualCloseRequest"> CLOSE CHAT WINDOW <\/button> <\/div><\/div><uib-tabset active="Activetab" vertical="true" data-ng-init="activecurrenttab()"> <div class="searchContact"> Your Conversations <\/div><uib-tab ng-repeat="tab in privateRooms.users" ng-click="setCurrentRoom(privateRooms.list[tab.roomId])"> <uib-tab-heading> <div class="ProfilePhoto"> <img ng-src="{{tab.$avatar}}" imageonload> <span class="{{tab.online==true?&apos;online&apos;:&apos;offline&apos;}}"><\/span> <\/div><div class="ProfileName"> <span class="userName">{{tab.fullName}}<\/span> <span ng-repeat="roomEvent in privateRooms.list[tab.roomId].messages | filter:{inquiry:false,bot:false,$type:&apos;MESSAGE&apos;}" ng-if="$last">{{roomEvent.message}}<\/span> <\/div><div class="ProfileTime"> <span class="no_msg" ng-show="privateRooms.list[tab.roomId].unread.notification>0">{{privateRooms.list[tab.roomId].unread.notification}}<\/span> <\/div><span class="CloseConversations"> <img ng-src="{{AppUrl}}/images/Close.png" alt="Close" title="Close" ng-click="ShowIndivisualMessageHistoryPopup()"> <\/span> <div class="clear"><\/div><\/uib-tab-heading> <div class="tabContent"> <div class="chatHeader2"> <span class="menu fa fa-bars" id="BtnSlide_Menu" ng-click="ShowSlideMenu()"><\/span> <div class="OnlinePName"> <div class="onlineStatusname"> <img ng-src="{{tab.$avatar}}" imageonload>{{tab.fullName}}<div class="{{tab.online==true?&apos;OnlineStatus&apos;:&apos;OfflineStatus&apos;}}"> <span> <\/span>{{tab.online==true?&apos;Online&apos;:&apos;Offline&apos;}}<\/div><\/div><\/div><div class="SerchPName"> <ul> <li class="SerchLi"> <span class="fa fa-search"><\/span> <input type="search" placeholder="Search" ng-model="searchMessage"/> <\/li><li class="ListIcons"> <i class="fa fa-list-ul" aria-hidden="true" ng-click="ShowIndivisualMessageHistoryPopup()"><\/i> <\/li><\/ul> <\/div><\/div><form name="userForm"> <div class="ItemDescription_Slider"> <div style="text-align:center;max-height:21px" ng-show="!privateRooms.list[tab.roomId].$loaded"><img src="{{AppUrl}}/images/ajax-loader.gif"/><\/div><div id="banner-slide" style="background: white;"> <div uib-chetterfoxcarousel active="active" interval="myInterval" no-wrap="true"> <div uib-slide ng-repeat="slide in privateRooms.list[tab.roomId].messages | filter:{inquiry:true}" index="$index"> <div class="ItemDescription_SlideItem arrow_box"> <div class="Description_Image"><img ng-src="{{slide.linkMetadata.metaImage}}"/><\/div><div class="Description_Text"> <div class="ItemName_BG">{{slide.linkMetadata.metaTitle}}<a target="_blank" href="{{slide.linkMetadata.originalUrl}}"> <label>VIEW LISTING<\/label><\/a><\/div><div class="Desc_Large">{{slide.linkMetadata.metaDescription}}<\/div><\/div><div class="clear"><\/div><\/div><\/div><\/div><\/div><div class="ClientChat_Row" ng-scrollbar rebuild-on-change bottom> <div> <ul> <li ng-repeat="roomEvent in privateRooms.list[tab.roomId].messages | filter:{inquiry:false,message:searchMessage}" class="{{roomEvent.$own==true?&apos;AdminChat&apos;:&apos;&apos;}}"> <div ng-if="roomEvent.$type==&apos;MESSAGE&apos; && roomEvent.bot==false"> <div ng-if="roomEvent.$own==false"> <div class="Client_Dp"> <img ng-src="{{tab.$avatar}}" imageonload/> <\/div><div class="Client_Words"> <p>{{roomEvent.message}}<\/p><div style="margin-right:10px;text-align:right" class="row no-gutter attachments" ng-show="roomEvent.files.length>0"> <div ng-repeat="file in roomEvent.files"> <cf-thumb file=::file height=184 width=245><\/cf-thumb> <span style="color:black" class=img-thumbnail-title><a id=download-{{::file.id}}href="{{ApiContext}}/files/download/{{::file.id}}" download>{{::file.name}}<\/a><\/span> <\/div><\/div><p style="padding-top:0px" ng-if="appended.message" ng-repeat="appended in roomEvent.appendedMessage" class=chat-message-content ng-bind-html="appended.message"><\/p><span>{{roomEvent.$date | date:&apos;medium&apos;}}<\/span> <\/div><\/div><div ng-if="roomEvent.$own==true"> <div class="Client_Words"> <p>{{roomEvent.message}}<\/p><div style="margin-right:10px;text-align:right" class="row no-gutter attachments" ng-show="roomEvent.files.length>0"> <div ng-repeat="file in roomEvent.files"> <cf-thumb file=::file height=184 width=245><\/cf-thumb> <span style="color:black" class=img-thumbnail-title><a id=download-{{::file.id}}href="{{ApiContext}}/files/download/{{::file.id}}" download>{{::file.name}}<\/a><\/span> <\/div><\/div><p style="padding-top:0px" ng-if="appended.message" ng-repeat="appended in roomEvent.appendedMessage" class=chat-message-content ng-bind-html="appended.message"><\/p><span>{{roomEvent.$date | date:&apos;medium&apos;}}<\/span> <\/div><div class="Client_Dp"> <img ng-src="{{AppUrl}}/images/AGD.PNG"/> <\/div><\/div><\/div><div ng-if="roomEvent.$type==&apos;NO_RESPONSE&apos;"> <div class="MessageSent Success_Sent"> <label><i class="fa fa-paper-plane"><\/i> MESSAGE SENT<\/label>{{roomEvent.$topic}}<\/div><\/div><div ng-if="roomEvent.bot==true && roomEvent.message.indexOf(&apos;orphaned&apos;)> -1"> <div class="MessageSent Success_Sent">{{roomEvent.message}}<\/div><\/div><div class="clear"><\/div><\/li><\/ul> <\/div><\/div><div class=typing-indicator ng-show="isTyping && privateRooms.list[tab.roomId].roomType==&apos;PRIVATE&apos; && privateRooms.list[tab.roomId].id==typingRoomId"> <span class="Chatterfoxglyphicon Chatterfoxglyphicon-pencil"><\/span>{{tab.fullName}}is typing... <\/div><div class="MessageArea"> <textarea class="MessageBox" ng-change="typing(privateRooms.list[tab.roomId], Message)" ng-keypress="addMessageOnEnter($event,privateRooms.list[tab.roomId],Message)" placeholder="Enter message here.." ng-model="Message" required><\/textarea> <button type="button" class="SendMsg_Btn" ng-disabled="userFieldForm.$invalid" ng-click="sendRoomMessage(privateRooms.list[tab.roomId], Message)"><i class="fa fa-paper-plane"><\/i><\/button> <div class="clear"><\/div><div class="BottomFixed Not_Fixed_Black"> <i class="fa fa-info-circle"><\/i> LEARN MORE ABOUT DEALER CHAT<span>DEALER CHAT POWERED BY <img ng-src="{{AppUrl}}/images/LogoBlack.PNG"><\/span><\/div><div class="clear"><\/div><\/div><\/div><div class="clear"><\/div><\/form> <\/div><\/uib-tab> <\/uib-tabset> <\/div><\/div>') }]); angular.element(document).ready(function () { var n = angular.element(document.getElementsByName("ChatterFox")[0]); n.prepend('<div ng-controller="chatWindowController" class="ChatFile chatModule Chatterfox" id="chatModule" ng-cloak> <div class="overlay" ng-show="loading"> <\/div> <div class="Chatterfoxspinner" ng-show="loading"><div class="bounce1"><\/div><div class="bounce2"><\/div><div class="bounce3"><\/div><\/div> <toast> <\/toast> <div class="modalBtnList"> <ul> <li><a ng-click="signedInDialog($event)" class="Btn_Yellow BtnIcon_chat">Chat With Dealer<\/a><\/li><\/ul> <\/div><div ng-show="$root.ShowNotificationBar" class="ChatNotification" ng-draggable="dragOptions"> <span ng-show="$root.NotificationCount>0">{{$root.NotificationCount}}<\/span> <div class="Chat_icon"><\/div><\/div><\/div>'); setTimeout(function () { angular.bootstrap(document, ["chatModule"]) }, 500) }); angular.module("chatModule").controller("ChatController", ["AppUrl", "ApiContext", "$scope", "$rootScope", "$uibModalInstance", "$window", "$timeout", "ChatSessionService", "UserAccountService", "SystemNotificationService", "cookiesHandlerService", "ModelDialogService", "Authentication", "UiChannel", function (n, t, i, r, u, f, e, o, s, h, c, l, a, v) { function tt(n) { i.currentRoom = n.roomView; i.contacts = _.uniq(n.roomView.participants, function (n) { return n.id }); var t = function (n) { i.onlineCount = n.online - 1 > 0 ? n.online - 1 : 0 }, r = function () { i.onlineCount = "" }; i.currentRoom.id > 0 && s.fetchParticipantsCountForRoom(i.currentRoom.id).then(t, r) } function it(n) { i.$apply(function () { n.room.id == i.currentRoom.id && (i.currentRoom = y.getCurrentRoomView()) }) } function rt() { i.$apply() } function ut(n) { i.$apply(function () { if (n.message != undefined && n.message.$room != undefined && n.message.$room.roomType == "PRIVATE") { var t = function (t) { i.error = null; i.resetSuccessfully = !0; i.privateRooms.list[n.message.$room.id].initiatorDeleted = t.initiatorDeleted; i.privateRooms.list[n.message.$room.id].participantDeleted = t.participantDeleted }, r = function (n) { i.error = n }; s.resetPrivateConversation(n.message.$room.id).then(t, r) } }) } function ft(n) { i.$apply(function () { var t = i.currentRoom.id == n.roomId && angular.isDefined(n.usersRemoved); t && (n.online ? i.onlineCount.online = n.usersRemoved ? i.onlineCount.online-- : i.onlineCount.online++ : i.onlineCount.offline = n.usersRemoved ? i.onlineCount.offline-- : i.onlineCount.offline++) }) } function et(n) { i.$apply(function () { i.currentRoom = y.getCurrentRoom(); angular.isDefined(n.loggedIn) && angular.isDefined(i.currentRoom.$users) && i.currentRoom.$users.includes(n.user.id) && (n.loggedIn ? angular.isDefined(i.onlineCount) && (i.onlineCount.online++ , i.onlineCount.offline--) : angular.isDefined(i.onlineCount) && (i.onlineCount.online-- , i.onlineCount.offline++)) }) } function ot(n) { _.each(n.notifications, function (n) { n.viewed = !1 }); i.user.$unreadNotifications = n.notifications; i.user.$newNotificationsCounter = n.notifications.length } function st(n) { n.notification.viewed = !1; i.user.$unreadNotifications.push(n.notification); i.$apply() } function k() { var n = [], t = [], r = 0, u = 0, f = 0, e = 0; _.each(i.privateRooms.list, function (o) { i.user.id == o.initiator.id ? i.user.retail || o.participant.retail ? (n.push(o), r += o.unread.notification, u += o.unread.normal) : (t.push(o), f += o.unread.notification, e += o.unread.normal) : o.initiator.retail || o.participant.retail ? (n.push(o), r += o.unread.notification, u += o.unread.normal) : (t.push(o), f += o.unread.notification, e += o.unread.normal) }); i.retailRooms = { size: n.length, $unread: { notification: r, normal: u }, list: n }; i.dealerUserPrivateRooms = { size: t.length, $unread: { notification: f, normal: e }, list: t } } function ht() { i.emailChatHistory = !1; i.emailOfflineMessages = !1; i.callbackRequestCheckbox = !1; i.phoneNumber = ""; u.close(); a.logout(); c.clearCookieData(); i.ShowMessageHistoryWindow = !1 } function ct() { i.emailChatHistory = !1; i.emailOfflineMessages = !1; i.callbackRequestCheckbox = !1; i.phoneNumber = ""; y.removePrivateRoom(i.currentRoom.id); y.getPrivateRooms().users.length == 0 && (u.close(), a.logout(), c.clearCookieData()); i.ShowMessageHistoryWindow = !1 } function lt(n, t, i) { return { isEligibleToCreateReplyHit: n, repliedBroadcastMessageId: t, broadcastRoomId: i } } function et(n) { i.$apply(function () { var t = _.findWhere(i.roomUsers, { id: n.user.id }), r, u; t && i.roomUsers.splice(_.indexOf(i.roomUsers, t), 1, n.user); r = function (n) { i.onlineCount = n.online - 1 > 0 ? n.online - 1 : 0 }; u = function () { i.onlineCount = "" }; i.currentRoom.id > 0 && s.fetchParticipantsCountForRoom(i.currentRoom.id).then(r, u) }) } function d(n) { n.user.id == i.user.id && (i.user = n.user) } function ft(n) { n.roomId == i.currentRoom.id && i.$apply(function () { i.roomUsers = y.getRoomUsersForRoom(Room) }) } function at(n) { i.unread = n.unread } function vt(n) { i.$apply(function () { i.typingRoomId = n.event.roomId; i.isTyping = !0 }) } function yt(n) { i.$apply(function () { i.typingRoomId = n.event.roomId; i.isTyping = !1 }) } function wt(n) { return angular.isObject(n) ? n.id || n.roomType : !1 } function bt(n, t, r) { var u, f, e; if (kt(t) && !_.isEmpty(r.messageType)) { u = { roomId: n.id, message: t.trim(), tags: r.tags, files: r.files, linkMetadata: r.linkMetadata, replyHitInfo: r.replyHitInfo }; switch (n.roomType) { case "PRIVATE": f = function (t) { i.error = null; i.resetSuccessfully = !0; i.privateRooms.list[n.id].initiatorDeleted = t.initiatorDeleted; i.privateRooms.list[n.id].participantDeleted = t.participantDeleted }; e = function (n) { i.error = n }; case "PUBLIC": y.send({ request: r.messageType, data: [".RoomMessageData", u] }) } } } function kt(n) { if (angular.isString(n) && n.trim().length != 0) { if (n.length > 500) return !1 } else return !1; return !0 } var y, b; i.AppUrl = n; i.ApiContext = t; i.MenuSideBar = !1; i.ShowSlideMenu = function () { var n = angular.element(document.querySelector("#chatModule .nav-tabs")); n.addClass("SlideLeft"); i.MenuSideBar = !0 }; i.HideSlideMenu = function () { var n = angular.element(document.querySelector("#chatModule .nav-tabs")); n.removeClass("SlideLeft"); i.MenuSideBar = !1 }; i.Activetab = 0; y = o.getChatSessionData(); y.setModelWindowStateOpen(); i.setCurrentRoom = function (n) { i.HideSlideMenu(); y.setCurrentRoom(n); r.NotificationCount = y.getPrivateRooms().$unread.normal + y.getPrivateRooms().$unread.notification }; i.user = y.getUser(); i.privateRooms = y.getPrivateRooms(); i.publicRooms = y.getPublicRooms(); i.currentRoom = y.getCurrentRoomView(); i.currentRoom.id > 0 && e(function () { var t = i.currentRoom.roomType == "PUBLIC" ? i.publicRooms : i.privateRooms, n = t.list[i.currentRoom.id]; n != undefined && (t.$unread.notification -= n.unread.notification, t.$unread.normal -= n.unread.normal, v.dispatch({ type: v.events.NW_BADGE_DECREMENT, count: n.unread.notification }), n.unread.notification = 0, n.unread.normal = 0, v.dispatch({ type: v.events.ROOM_CHANGED, roomView: n }), r.NotificationCount = y.getPrivateRooms().$unread.normal + y.getPrivateRooms().$unread.notification) }, 1500); i.activecurrenttab = function () { angular.forEach(i.privateRooms.users, function (n, t) { i.currentRoom.id == n.roomId && (i.Activetab = t) }) }; i.typingRoomId = i.currentRoom.id; i.privateChatLimit = 30; i.sortPrivateRooms = "lastActive"; i.reverseSort = !0; i.$watchCollection("privateRooms.list", function () { k() }); i.countPrivateOnline = function (n) { var t = angular.extend({ online: 0, offline: 0 }, _.countBy(_.values(i.dealerUserPrivateRooms.list), function (t) { if (n) return t.otherOnline || t.otherAvailable ? "online" : "offline"; if (i.user.id != t.initiator.id || t.initiatorDeleted) { if (i.user.id == t.participant.id && !t.participantDeleted) return t.otherOnline || t.otherAvailable ? "online" : "offline" } else return t.otherOnline || t.otherAvailable ? "online" : "offline" })); return t.online + " / " + (t.online + t.offline) }; i.countRetailOnline = function (n) { var t = angular.extend({ online: 0, offline: 0 }, _.countBy(_.values(i.retailRooms.list), function (t) { if (n) return t.otherOnline || t.otherAvailable ? "online" : "offline"; if (i.user.id != t.initiator.id || t.initiatorDeleted) { if (i.user.id == t.participant.id && !t.participantDeleted) return t.otherOnline || t.otherAvailable ? "online" : "offline" } else return t.otherOnline || t.otherAvailable ? "online" : "offline" })); return t.online + " / " + (t.online + t.offline) }; b = [v.subscribe(v.events.SESSION_USER_UPDATED, d), v.subscribe(v.events.SESSION_USER_UPDATED, d), v.subscribe(v.events.ROOM_USERS_CHANGED, ft), v.subscribe(v.events.ROOM_UNREAD, at), v.subscribe(v.events.USER_TYPING, vt), v.subscribe(v.events.USER_FINISH_TYPING, yt), v.subscribe(v.events.UNREAD_NOTIFICATIONS, ot), v.subscribe(v.events.NEW_NOTIFICATION, st), v.subscribe(v.events.CHAT_USER_UPDATED, et), v.subscribe(v.events.NEW_ROOM_MESSAGE, ut), v.subscribe(v.events.ROOM_CHANGED, tt), v.subscribe(v.events.ROOM_UPDATED, it), v.subscribe(v.events.CHAT_USER_ROOMS_CHANGED, rt)]; f.onfocus = function () { e(function () { var t = i.currentRoom.roomType == "PUBLIC" ? i.publicRooms : i.privateRooms, n = t.list[i.currentRoom.id]; n != undefined && (t.$unread.notification -= n.unread.notification, t.$unread.normal -= n.unread.normal, v.dispatch({ type: v.events.NW_BADGE_DECREMENT, count: n.unread.notification }), n.unread.notification = 0, n.unread.normal = 0, v.dispatch({ type: v.events.ROOM_CHANGED, roomView: n })) }, 500) }; i.$on("$destroy", function () { _.each(b, function (n) { n.unsubscribe() }); f.onfocus = null }); i.$watch("privateRooms.$unread.notification + publicRooms.$unread.notification", function () { v.dispatch({ type: v.events.ROOM_UNREAD, unread: i.privateRooms.$unread.notification + i.publicRooms.$unread.notification }); k() }); i.$watchCollection("publicRooms.list", function () { var n = [], t = [], r = [], u = []; _.each(i.publicRooms.list, function (i) { i.parentRoom ? n.push(i) : i.childRoom ? t.push(i) : i.creatorUserRole == "CHAT_USER" ? r.push(i) : u.push(i) }); i.sortedPublicRooms = n.concat(_.sortBy(t, "createDate").reverse()).concat(_.sortBy(u, "name")).concat(_.sortBy(r, "name")) }); v.dispatch({ type: v.events.ROOM_CHANGED, roomView: i.currentRoom }); i.checkEditButtonDisplay = function (n) { var t = i.currentRoom.id == n.id, r = n.creatorUserRole == "CHAT_USER"; return t && r }; i.resetNewNotificationsCounter = function () { y.resetNewNotificationsCounter(); v.dispatch({ type: v.events.NW_BADGE_DECREMENT, count: i.user.$unreadNotifications.length }) }; i.showTrashBin = function (n) { return n.initiator.id == i.user.id ? !n.initiatorDeleted : !n.participantDeleted }; i.emailChatHistory = !1; i.emailOfflineMessages = !1; i.callbackRequestCheckbox = !1; i.phoneNumber = ""; i.IndivisualClose = function () { i.callbackRequestCheckbox && (!angular.isDefined(i.phoneNumber) || i.phoneNumber == "") ? l.error("Error", "Please enter the phone number with format xxx-xxx-xxxx to request a call.") : s.retailLogoutWithSettings(i.user.id, i.currentRoom.id, i.emailChatHistory, i.emailOfflineMessages, i.callbackRequestCheckbox, i.phoneNumber).then(ct) }; i.cancel = function () { i.callbackRequestCheckbox && (!angular.isDefined(i.phoneNumber) || i.phoneNumber == "") ? l.error("Error", "Please enter the phone number with format xxx-xxx-xxxx to request a call.") : s.retailLogoutWithSettings(i.user.id, i.currentRoom.id, i.emailChatHistory, i.emailOfflineMessages, i.callbackRequestCheckbox, i.phoneNumber).then(ht) }; i.ShowMessageHistoryWindow = !1; i.ShowMessageHistoryPopup = function () { i.IndivisualCloseRequest = !1; i.emailChatHistory = !1; i.emailOfflineMessages = !1; i.callbackRequestCheckbox = !1; i.phoneNumber = ""; i.ShowMessageHistoryWindow = i.ShowMessageHistoryWindow ? !1 : !0 }; i.IndivisualCloseRequest = !1; i.ShowIndivisualMessageHistoryPopup = function () { i.IndivisualCloseRequest = !0; i.emailChatHistory = !1; i.emailOfflineMessages = !1; i.callbackRequestCheckbox = !1; i.phoneNumber = ""; i.ShowMessageHistoryWindow = i.ShowMessageHistoryWindow ? !1 : !0 }; i.hide = function () { u.close() }; i.shrink = function () { u.close(); y.setModelWindowStateMinimize() }; i.addMessageOnEnter = function (n, t, r) { var u = n.which || n.keyCode; u === 13 && (i.sendRoomMessage(t, r), this.Message = "") }; var p = {}, g = null, w = !1, nt = null, pt = 2; i.typing = function (n, t) { n.roomType == "PRIVATE" && t != null && t.length > pt && (clearTimeout(g), g = setTimeout(function () { w = !1; s.finishTypePrivateMessage(n) }, 3e3), w ? (clearTimeout(nt), nt = setTimeout(function () { s.typePrivateMessage(n) }, 1500)) : s.typePrivateMessage(n).then(function () { w = !0 })) }; i.sendRoomMessage = function (n, t) { if (!i.tourEnabled && wt(n)) { var u = n.roomType == "PUBLIC" ? "ROOM_MESSAGE" : "PRIVATE_ROOM_MESSAGE", f = p.isBroadcast && t.indexOf(p.message.trim()) > -1, r = { tags: null, files: null, linkMetadata: null, messageType: u, replyHitInfo: lt(f, p.repliedBroadcastMessageId, p.broadcastRoomId) }; _.isEmpty(i.files) ? bt(n, t, r) : (i.messageForUpload = t, i.messageExtrasForUpload = r, i.uploadFiles()); this.Message = "" } } }]); angular.module("chatModule").controller("chatWindowController", ["AppUrl", "ApiContext", "$document", "$scope", "$http", "DealerService", "Authentication", "$window", "$rootScope", "$filter", "$uibModal", "UiChannel", "ngToast", "UserAccountService", "moment", "RoomEventService", "ChatSessionService", "cookiesHandlerService", "ModelDialogService", function (n, t, i, r, u, f, e, o, s, h, c, l, a, v, y, p, w, b, k) { function rt(n) { r.$apply(function () { var i = w.getChatSessionData(), t = i.getPrivateRooms(); s.NotificationCount = t.$unread.normal + t.$unread.notification; n.message != undefined && n.message.$room != undefined && n.message.$room.roomType == "PRIVATE" && (n.message.$own || t.currentstate != "minimize" || a.create({ className: "", dismissOnClick: !0, timeout: 4e3, content: '<span><img src="' + n.message.$from.avatar + '"> <\/span><span>' + n.message.message + "<\/span>" })) }) } function ut() { k.ChatWindow() } function ft() { f.getDealerList(s.groupName).then(function (n) { var t, i; if (n.status == 200 && n.data != null && (t = n.data.result, t != null && t.length > 0)) for (t = t.sort(function (n, t) { var i = n.firstName.toUpperCase(), r = t.firstName.toUpperCase(); return i < r ? -1 : i > r ? 1 : 0 }), i = 0; i < t.length; i++)r.Dealers.push(new tt(t[i].id, t[i].username, t[i].firstName, t[i].lastName, t[i].online, t[i].available, 0, t[i].userAvatar)) }) } var g, d, it, nt, et, tt; s.ShowNotificationBar = !1; s.Dealers = []; s.SelectedDealer = null; s.loading = !1; e.requestToken().then(ft); s.user = { firstName: "", lastName: "", email: "" }; r.$on("ShowDialog", function () { s.ShowNotificationBar = !1; ut() }); g = b.getCookieData(); g != undefined && (d = JSON.parse(g), d.user != null && (s.loading = !0, s.user.firstName = d.user.firstName, s.user.lastName = d.user.firstName, s.user.email = d.user.username, e.Authenticate(s.user, 0).then(function (n) { n != null && w.Connect().then(function () { var n = b.getCookieData(); n != undefined ? (n = JSON.parse(n), n.currentstate == "open" ? k.ChatWindow() : (s.ShowNotificationBar = !0, s.loading = !1)) : k.ChatWindow() }) }))); it = [l.subscribe(l.events.NEW_ROOM_MESSAGE, rt)]; s.NotificationCount = 0; nt = document.getElementsByName("ChatterFox"); nt.length > 0 && (s.groupName = nt[0].getAttribute("Data-GroupName")); r.SideBar = function () { r.ShowSideBar = r.ShowSideBar ? !1 : !0 }; r.signedInDialog = function () { e.isAuthenticated() ? k.ChatWindow() : k.SignIn() }; et = function (n, t, i, r) { this.firstname = n; this.lastname = t; this.email = i; this.Remember = r }; tt = function (i, r, u, f, e, o, s, h) { this.id = i; this.roomid = s; this.username = r; this.firstName = u; this.lastName = f; this.online = e; this.available = o; this.unreadMessageCount = 0; this.avatar = h ? t + "/files/user/avatar/" + i + "/" + h : n + "/images/unknown-user-avatar.png" } }]); angular.module("chatModule").controller("SignInController", ["$scope", "$rootScope", "$uibModalInstance", "AppUrl", "Authentication", "ChatSessionService", "cookiesHandlerService", "ModelDialogService", "UserAccountService", function (n, t, i, r, u, f, e, o, s) { n.AppUrl = r; n.Dealerselected = !1; angular.forEach(t.Dealers, function (t) { t.selected && (n.Dealerselected = !0) }); n.updateSelection = function (t, i) { angular.forEach(i, function (i, r) { t != r ? i.selected = !1 : n.Dealerselected = i.selected ? !0 : !1 }) }; n.signIn = function () { if (n.userForm.$valid && n.Dealerselected) { angular.forEach(t.Dealers, function (n) { n.selected && (t.SelectedDealer = n) }); t.loading = !0; s.checkAndCreateRetailChatUser(t.user, t.SelectedDealer.id, "http%3A%2F%2Fwww.agdealer.com%2Flist%2Fview_image.cfm%3FJohn-Deere-9510R-Tractor-828658%26Featured%3D1").then(function () { u.Authenticate(t.user, t.SelectedDealer.id).then(function (n) { n != null && n.id > 0 && f.Connect().then(function () { o.ChatWindow() }) }) }); i.close() } }; n.hide = function () { i.close() }; n.cancel = function () { i.close() } }]); angular.module("chatModule").directive("imageonload", ["AppUrl", function (n) { return { restrict: "A", link: function (t, i) { i.bind("load", function () { }); i.bind("error", function () { i.attr("src", n + "/images/unknown-user-avatar.png") }) } } }]); angular.module("chatModule").directive("ngDraggable", ["$document", "$timeout", function (n) { return { restrict: "A", scope: { dragOptions: "=ngDraggable" }, link: function (t, i) { function p(n) { e = 1; f = n.clientY - a; u = n.clientX - l; b(); h && h(n) } function w(i) { n.unbind("mousemove", p); n.unbind("mouseup", w); s && s(i); e === 0 ? t.$emit("ShowDialog") : e === 1 } function b() { r && (u < r.left ? u = r.left : u > r.right - v && (u = r.right - v), f < r.top ? f = r.top : f > r.bottom - y && (f = r.bottom - y)); i.css({ top: f + "px", left: u + "px" }) } var l, a, u = 0, f = 0, o, s, h, r, e = 0, v = i[0].offsetWidth, y = i[0].offsetHeight, c; t.dragOptions && (o = t.dragOptions.start, h = t.dragOptions.drag, s = t.dragOptions.stop, c = t.dragOptions.container, c && (r = document.getElementById(c).getBoundingClientRect())); i.on("mousedown", function (t) { e = 0; t.preventDefault(); l = t.clientX - i[0].offsetLeft; a = t.clientY - i[0].offsetTop; n.on("mouseup", w); n.on("mousemove", p); o && o(t) }) } } }]); angular.module("chatModule").directive("phoneInput", ["$filter", "$browser", function (n, t) { return { require: "ngModel", link: function (i, r, u, f) { var e = function () { var t = r.val().replace(/[^0-9]/g, ""); r.val(n("tel")(t, !1)) }; f.$parsers.push(function (n) { return n.replace(/[^0-9]/g, "").slice(0, 10) }); f.$render = function () { r.val(n("tel")(f.$viewValue, !1)) }; r.bind("change", e); r.bind("keydown", function (n) { var i = n.keyCode; i == 91 || 15 < i && i < 19 || 37 <= i && i <= 40 || t.defer(e) }); r.bind("paste cut", function () { t.defer(e) }) } } }]); angular.module("chatModule").directive("ngScrollbar", ["$parse", "$window", function (n, t) { return { restrict: "A", replace: !0, transclude: !0, scope: { showYScrollbar: "=?isBarShown" }, link: function (n, i, r) { var c, h, p, s, k, d, g = { bottom: r.hasOwnProperty("bottom") }, o = angular.element(t), ht = !!o[0].addEventListener, ct = !!o[0].removeEventListener, u = { top: 0 }, e = { top: 0 }, w, nt, tt, it, lt = function () { w = { position: "relative", overflow: "hidden", "max-width": "100%", height: "100%" }; e.height && (w.height = e.height + "px"); nt = { position: "absolute", height: u.height - 10 + "px", top: u.top + "px" }; tt = { position: "relative", "line-height": u.height + "px" }; it = { position: "relative", top: e.top + "px", overflow: "hidden" } }, l = function () { s.css("top", u.top + "px"); var n = u.top / e.height; e.top = -Math.round(e.scrollHeight * n); h.css("top", e.top + "px") }, at = function (n) { var t = n.hasOwnProperty("offsetY") ? n.offsetY : n.layerY, i = Math.max(0, Math.min(parseInt(u.trackHeight, 10) - parseInt(u.height, 10), t)); u.top = i; l(); n.stopPropagation() }, a = function (n) { var o = n, t = o.detail, i = o.wheelDelta, r = 225, s = r - 1; if (t = t ? i && (f = i / t) ? t / f : -t / 1.35 : i / 120, t = t < 1 ? t < -1 ? (-Math.pow(t, 2) - s) / r : t : (Math.pow(t, 2) + s) / r, n.delta = Math.min(Math.max(t / 2, -1), 1), n.delta = n.delta * 40, u.top = Math.max(0, Math.min(parseInt(e.height, 10) - parseInt(u.height, 10), parseInt(u.top, 10) - n.delta)), l(), !n.preventDefault) return !1; n.preventDefault() }, v = 0, rt = function (n, t, i) { u.top = Math.max(0, Math.min(parseInt(u.trackHeight, 10) - parseInt(u.height, 10), i)); n.stopPropagation() }, ut = function (n) { var t = n.pageY - s[0].scrollTop - v; rt(n, 0, t); l() }, ft = function (n) { o.off("mousemove", ut); o.off("mouseup", ft); n.stopPropagation() }, et = function (n) { var t = n.originalEvent.changedTouches[0].pageY - s[0].scrollTop - v; rt(n, 0, t); l() }, ot = function (n) { o.off("touchmove", et); o.off("touchend", ot); n.stopPropagation() }, vt = function (n) { var t = o[0].onmousewheel !== undefined ? "mousewheel" : "DOMMouseScroll"; ht ? n.addEventListener(t, a, !1) : n.attachEvent("onmousewheel", a) }, yt = function (n) { var t = o[0].onmousewheel !== undefined ? "mousewheel" : "DOMMouseScroll"; ct ? n.removeEventListener(t, a, !1) : n.detachEvent("onmousewheel", a) }, st = function (t) { if (t = g.bottom || t, c = angular.element(i.children()[0]), h = angular.element(c.children()[0]), p = angular.element(c.children()[1]), s = angular.element(angular.element(p.children()[0]).children()[0]), k = angular.element(s.children()[0]), d = angular.element(angular.element(p.children()[0]).children()[1]), e.height = i[0].offsetHeight, e.scrollHeight = h[0].scrollHeight, e.height < e.scrollHeight) { n.showYScrollbar = !0; n.$emit("scrollbar.show"); u.height = Math.round(e.height / e.scrollHeight * e.height); u.trackHeight = e.height; lt(); i.css({ overflow: "hidden" }); c.css(w); h.css(it); s.css(nt); k.css(tt); d.bind("click", at); vt(h[0]); s.on("mousedown", function (n) { v = n.pageY - s[0].offsetTop; o.on("mouseup", ft); o.on("mousemove", ut); n.preventDefault() }); s.on("touchstart", function (n) { v = n.originalEvent.changedTouches[0].pageY - s[0].offsetTop; o.on("touchend", ot); o.on("touchmove", et); n.preventDefault() }); t ? (g.bottom = !1, u.top = parseInt(e.height, 10) - parseInt(u.height, 10)) : u.top = Math.max(0, Math.min(parseInt(e.height, 10) - parseInt(u.height, 10), parseInt(u.top, 10))); l() } else n.showYScrollbar = !1, n.$emit("scrollbar.hide"), s.off("mousedown"), yt(h[0]), h.attr("style", "position:relative;bottom:0"), c.css({ height: "100%" }) }, b, y = function (t, i) { b != null && clearTimeout(b); var r = !!i && !!i.rollToBottom; b = setTimeout(function () { e.height = null; st(r); n.$$phase || n.$digest(); n.$parent.$$phase || n.$parent.$digest() }, 72) }; if (st(), !r.rebuildOn || r.rebuildOn.split(" ").forEach(function (t) { n.$on(t, y) }), r.hasOwnProperty("rebuildOnResize")) { n.$watch(y); o.on("resize", y) } r.hasOwnProperty("rebuildOnChange") && n.$watch(y) }, template: '<div><div class="ngsb-wrap"><div class="ngsb-container" ng-transclude><\/div><div class="ngsb-scrollbar" style="position: absolute; display: block;" ng-show="showYScrollbar"><div class="ngsb-thumb-container"><div class="ngsb-thumb-pos" oncontextmenu="return false;"><div class="ngsb-thumb" ><\/div><\/div><div class="ngsb-track"><\/div><\/div><\/div><\/div><\/div>' } }]); angular.module("chatModule").directive("chatterFoxFile", ["$window", "FileThumbnailHelper", "ApiContext", function (n, t, i) { return { restrict: "E", template: "<canvas/>", requires: ["^cfThumb"], link: function (r, u, f) { var e; if (t.isSupported(n)) { var c = i + "/files/download/thumbnail/", s = "/img/icons/", h = u.find("canvas"), o = r.$eval(f.thumbnail); o.canvas = h; e = new Image; t.isImage(o.file) ? (e.alt = "Image Thumbnail", e.src = c + o.file.id, e.onload = t.canvasDrawerOnLoadHandler(o), o.canvas.css("cursor", "pointer")) : t.isVideo(o.file) ? (e.alt = "Video Icon Thumbnail", e.src = s + "video_icon.png", e.onload = t.canvasDrawerOnLoadHandler(o)) : t.isPDF(o.file) ? (e.alt = "Pdf Icon Thumbnail", e.src = s + "pdf_icon.png", e.onload = t.canvasDrawerOnLoadHandler(o)) : t.isWordDocument(o.file) ? (e.alt = "Word Icon Thumbnail", e.src = s + "word_icon.png", e.onload = t.canvasDrawerOnLoadHandler(o)) : t.isExcelDocument(o.file) ? (e.alt = "Excel Icon Thumbnail", e.src = s + "excel_icon.png", e.onload = t.canvasDrawerOnLoadHandler(o)) : (e.alt = "File Thumbnail", e.src = s + "file_icon.png", e.onload = t.canvasDrawerOnLoadHandler(o)); u.on("$destroy", function () { h.remove(); o.src = null; o.canvas = null; o.file = null; o = null }) } } } }]); angular.module("chatModule").directive("cfThumb", ["$compile", function (n) { function t(n) { return i[n] } var i = { LOCAL_FILE: n('<local-file thumbnail="thumbnail"/>'), CHATTERFOX_FILE: n('<chatter-fox-file thumbnail="thumbnail"/>'), BLOB_FILE: n('<img class="paste-drag-image" ngf-thumbnail="$file">') }; return { restrict: "E", scope: { $file: "=file", $height: "=height", $width: "=width" }, link: function (n, i) { var r, u; if (n.thumbnail = { canvas: null, file: n.$file, height: n.$height, width: n.$width, loading: !0 }, n.$file instanceof File) r = t("LOCAL_FILE"); else if (angular.isDefined(n.$file.mongoObjectId)) r = t("CHATTERFOX_FILE"); else if (n.$file instanceof Blob) r = t("BLOB_FILE"); else return; r(n, function (n) { u = n; i.append(n) }); r = null; i.on("$destroy", function () { u.remove(); u = null }) } } }]); angular.module("chatModule").directive("validSubmit", ["$parse", function (n) { return { compile: function () { return { post: function (t, i, r) { var u = i.controller("form"), f; u.$submitted = !1; f = n(r.validSubmit); i.on("submit", function (n) { t.$apply(function () { i.addClass("ng-submitted"); u.$submitted = !0; u.$valid && f(t, { $event: n }) }) }); t.$watch(function () { return u.$valid }, function (n) { u.$submitted != !1 && (n ? i.removeClass("has-error").addClass("has-success") : (i.removeClass("has-success"), i.addClass("has-error"))) }) } } } } }]); angular.module("chatModule").filter("tel", function () { return function (n) { var i, r, t; if (!n) return ""; if (i = n.toString().trim().replace(/^\+/, ""), i.match(/[^0-9]/)) return n; switch (i.length) { case 1: case 2: case 3: r = i; break; default: r = i.slice(0, 3); t = i.slice(3) }return t ? (t = t.length > 3 ? t.slice(0, 3) + "-" + t.slice(3, 7) : t, ("(" + r + ") " + t).trim()) : "(" + r } }); angular.module("chatModule").factory("ChatSessionService", ["ChatSession", "RoomEventService", "cookiesHandlerService", "StompClientService", "ModelDialogService", function (n, t, i, r, u) { function o(t) { return n.startSessionWithStompSession(t) } function s(n) { return f = n, n } function e() { return angular.copy(f) } function h() { var n = e(); n != null ? angular.forEach(n.getPrivateRooms().list, function (n) { t.loadInitialRoomEventsIntoRoom(n) }) : u.error("Error", "Error in getting session data") } function c() { return r.connect().then(o).then(s).then(h).catch(function (n) { u.error("Error", n) }) } var f = null; return { Connect: c, getChatSessionData: e } }]); angular.module("chatModule").factory("ChatSession", ["$timeout", "$q", "Authentication", "ChatSessionDataFactory", "ChannelManager", "ChannelEventHandlerFactory", "DocumentTitleService", "UserAccountService", "cookiesHandlerService", function (n, t, i, r, u, f, e, o, s) { function c(c) { function k(n) { var t = !1; return function (i) { t || (t = !0, n(i)) } } function d(n, t) { return function (i) { n.resolve(t(i)) } } function g() { l.privateRooms.currentstate = "close"; v() } function nt() { l.privateRooms.currentstate = "minimize"; v() } function tt() { l.privateRooms.currentstate = "open"; v() } function p(n) { l && (l.lastMessageSent = new Date); c.send("/ws/dispatcher", n) } function it(n) { var t = { error: n, time: new Date, type: u.uiChannel.events.SESSION_INTERRUPTED }; w().finally(function () { u.uiChannel.dispatch(t) }) } function w() { function n() { y = []; a = { handlers: {} }; l = r.getInstance(); u.uiChannel.dispatch({ type: u.uiChannel.events.NW_BADGE_CLEAR }) } return e.stop(), c.disconnect().finally(n) } function b(n) { if (angular.isObject(n)) { var t = l.getRoomById(n.id); t && (l.resetCurrentRoomMessages(), l.setCurrentRoom(n), u.uiChannel.dispatch({ type: u.uiChannel.events.NW_BADGE_DECREMENT, count: n.unread.notification }), n.unread.notification = 0, n.unread.normal = 0, n.unread.alertMeMatched = !1, u.uiChannel.dispatch(angular.extend(l.getRoomChangedEvent(n), { type: u.uiChannel.events.ROOM_CHANGED }))); v() } } function v() { if (l != null) { var n = { CurrentRoomId: l.getCurrentRoom().id, user: l.user, currentstate: l.privateRooms.currentstate }; s.setCookieData(JSON.stringify(n)) } } function rt() { var t = i.getSelectedDealerId(), r = s.getCookieData(), n, u; r != undefined ? (n = JSON.parse(r), n.user != null && (l.privateRooms.currentstate = n.currentstate, u = l.privateRooms.list[n.CurrentRoomId], b(u))) : t != null && angular.forEach(l.privateRooms.users, function (n) { if (t == n.id) { var i = l.privateRooms.list[n.roomId]; b(i) } }) } function ut() { return l.getRoomView(l.getCurrentRoom()) } function ft() { return l.publicRooms } function et() { return l.privateRooms } function ot(n) { return p({ request: "CREATE_PRIVATE_ROOM", data: [".CreateRoomMessageData", n] }) } function st() { p({ request: "ROOM_LIST" }) } function ht() { var n; c.setInterruptHandler(it); i.registerPreLogoutHandler(w); n = f.forSession(l); a.handlers.chatUserRoomChangedHandler = n.chatUserRoomChangedHandler; var r = ct(n), e = lt(n), o = c.subscribe("/topic/server.notifier", u.publicChannel.getDispatchingHandler()), s = c.subscribe("/user/topic/notifier", u.privateChannel.getDispatchingHandler()), h = c.subscribe("/user/topic/errors", u.errorChannel.getDispatchingHandler()), v = t.all([o, s, h]).then(st); return t.all([v, r, e]).then(yt(n)).then(l.updatePrivateRoomOnlineStatus).then(rt) } function ct(i) { function o() { n.cancel(e) } function s() { f.unsubscribe() } var r = t.defer(), f, e = n(function () { r.reject("A list of available rooms was not returned from the server") }, h), c = k(d(r, i.roomListHandler)); return f = u.privateChannel.subscribe("ROOM_LIST", c), r.promise.then(o).then(at).finally(s) } function lt(n) { return o.fetchPrivateRoomUserProfilesByChatUserId(l.user.id).then(n.chatUserHandler) } function at() { _.each(l.publicRooms.list, function (n) { a[n.id] = c.subscribe("/topic/chat." + n.id, u.publicChannel.getDispatchingHandler()) }) } function vt(n) { n.event == "ADDED" ? a[n.room.id] == null && (a[n.room.id] = c.subscribe("/topic/chat." + n.room.id, u.publicChannel.getDispatchingHandler())) : a[n.room.id] && (a[n.room.id], delete a[n.room.id]); a.handlers.chatUserRoomChangedHandler(n) } function yt(n) { return function () { y = [u.publicChannel.subscribe("BROADCAST_MESSAGE_REPLY_COUNTER_UPDATED", n.broadcastReplyCounterUpdatedHandler), u.publicChannel.subscribe("CHAT_USER_CHANGED", n.chatUserUpdatedHandler), u.publicChannel.subscribe("ROOM_BROADCAST", n.roomBroadcastEventHandler), u.publicChannel.subscribe("ROOM_MESSAGE", n.roomMessageEventHandler), u.publicChannel.subscribe("ROOM_MESSAGE_REMOVED", n.roomMessageRemovedHandler), u.publicChannel.subscribe("ROOM_UPDATED", n.roomChangedHandler), u.publicChannel.subscribe("ROOM_USERS_CHANGED", n.roomUsersChangedHandler), u.publicChannel.subscribe("TOPIC_CHANGE", n.topicChangeEventHandler), u.publicChannel.subscribe("USER_GROUP_USER_CHANGED", n.userGroupUserChangedHandler), u.publicChannel.subscribe("USER_STATUS_CHANGED", n.userStatusChangedHandler), u.publicChannel.subscribe("ADMIN_MESSAGE", n.newNotificationHandler), u.privateChannel.subscribe("CHAT_USER_ACCOUNT_CHANGED", n.chatUserAccountChangeHandler), u.privateChannel.subscribe("CREATE_PRIVATE_ROOM", n.privateRoomCreatedHandler), u.privateChannel.subscribe("KEEP_ALIVE", n.keepAliveEventHandler), u.privateChannel.subscribe("PRIVATE_ROOM_MESSAGE", n.privateRoomMessageEventHandler), u.privateChannel.subscribe("CHAT_USER_ROOM_CHANGED", vt), u.privateChannel.subscribe("NEW_NOTIFICATION", n.newNotificationHandler), u.privateChannel.subscribe("PRIVATE_CONVERSATION_DELETED", n.privateConversationDeletedHandler), u.privateChannel.subscribe("USER_TYPING", n.userTypingHandler), u.privateChannel.subscribe("USER_FINISH_TYPING", n.userFinishTypingHandler), u.privateChannel.subscribe("DEALER_USER_NO_RESPONSE", n.botMessageHandler), u.privateChannel.subscribe("DEALERSHIP_NO_RESPONSE", n.botMessageHandler)] } } function pt() { l.lastMessageSent = 0 } function wt() { var n = l.user.$sessionTimeout; pt() } function bt() { e.start() } function kt(n, t) { var i = l.getRoomById(n.room.id); i.$lastSearchHistory = n; i.$lastSearchedEvents = t } function dt(n) { l.removePrivateRoom(n) } function gt() { function n() { return l.user } return { removePrivateRoom: dt, addLastHistorySearchToRoom: kt, setModelWindowStateMinimize: nt, setModelWindowStateClose: g, setModelWindowStateOpen: tt, createPrivateRoom: ot, getCurrentRoom: l.getCurrentRoom, getCurrentRoomView: ut, getPrivateRooms: et, getPublicRooms: ft, getRoomById: l.getRoomById, getRoomNameById: l.getPublicRoomNameById, getRoomUsersForRoom: l.getRoomUsersForRoom, getUser: n, resetAlertMeTriggerCounter: l.resetAlertMeTriggerCounter, resetNewNotificationsCounter: l.resetNewNotificationsCounter, send: p, setCurrentRoom: b, setRoomParticipants: l.setRoomParticipants } } var l = r.getInstance(), y, a; if (l.user = i.getUser(), l.user.$newNotificationsCounter = 0, l.user.$unreadNotifications = [], y = [], a = { handlers: {} }, !c || !angular.isObject(c)) throw "Invalid StompSession"; return ht().then(wt).then(bt).then(gt).catch(function (n) { return w().finally(function () { return t.reject(n) }) }) } var h = 15e3; return { startSessionWithStompSession: c } }]); angular.module("chatModule").factory("ChatSessionDataFactory", ["Authentication", function (n) { return { getInstance: function () { function r(n, t) { var i = t; return i.online = !0, i.available = !0, i.roomId = n, i } var t = { publicRooms: { list: {}, size: 0, $alertMeCounter: 0, $unread: { notification: 0, normal: 0 } }, privateRooms: { list: {}, size: 0, $unread: { notification: 0, normal: 0 }, users: [], currentstate: "open" }, lastMessageSent: null, user: null }, i = null; return t.updateSessionUser = function () { return n.reloadUserProfile().then(function (n) { return t.user = n, n }) }, t.logout = function () { n.logout() }, t.updatePublicRoomTopic = function (n, i) { var r = t.publicRooms.list[n]; r.$title = _.isEmpty(i) ? r.name : r.name + " - " + i; r.topic = i }, t.findPublicRoomById = function (n) { return t.publicRooms.list[n] || null }, t.findPrivateRoomById = function (n) { return t.privateRooms.list[n] || null }, t.getPublicRoomNameById = function (n) { var i = t.findPublicRoomById(n); return i ? i.name : null }, t.getRoomById = function (n) { var i = t.findPublicRoomById(n); return i == null ? i = t.findPrivateRoomById(n) : i, i }, t.updatePrivateRoomUser = function (n) { var i = _.find(t.privateRooms.list, function (t) { return t.initiator.id == n.id || t.participant.id == n.id }); i && angular.extend(i.initiator.id == n.id ? i.initiator : i.participant, n) }, t.addPrivateRoom = function (i) { t.privateRooms.list[i.id] = i; t.privateRooms.size++; t.privateRooms.users.push(i.participant.id === n.getUser().id ? r(i.id, i.initiator) : r(i.id, i.participant)) }, t.removePublicRoom = function (n) { t.publicRooms.list[n] && (t.publicRooms.$unread.notification -= t.publicRooms.list[n].unread.notification, delete t.publicRooms.list[n], t.publicRooms.size--) }, t.removePrivateRoom = function (n) { var i = t.privateRooms.users; t.privateRooms.list[n] && (t.privateRooms.$unread.notification -= t.privateRooms.list[n].unread.notification, delete t.privateRooms.list[n], angular.forEach(i, function (i, r) { i.roomId == n && t.privateRooms.users.splice(r, 1) }), t.privateRooms.size--) }, t.addPublicRoom = function (n) { t.publicRooms.list[n.id] = n; t.publicRooms.size++ }, t.updatePrivateRoomOnlineStatus = function () { var i = t.privateRooms.users; _.each(t.privateRooms.list, function (t) { var r = t.participant.id === n.getUser().id ? t.initiator.id : t.participant.id; t.otherOnline = _.findWhere(i, { id: r, online: !0 }) != null; t.otherAvailable = _.findWhere(i, { id: r, available: !0 }) != null }) }, t.removeRoomMessage = function (n) { function f(t) { t.message = n.message; t.files = []; t.tags = []; t.linkMetadata = null; t.$removed = !0 } function e(t) { var i = _.findWhere(t, { id: n.id }); i && (i.message = n.message, i.$removed = !0) } for (var u = t.getRoomById(n.$room.id), i, r = u.messages.length - 1; r >= 0; r--)if (i = u.messages[r], i.id <= n.id) { i.id == n.id ? f(i) : e(i.appendedMessage); return } }, t.resetCurrentRoomMessages = function () { var n = t.getCurrentRoom(); _.isEmpty(n) || (n.$lastMessage = !1, n.messages = _.last(n.messages, 150)) }, t.getCurrentRoom = function () { return i || {} }, t.setCurrentRoom = function (n) { if (angular.isObject(n)) { var r = n.roomType == "PUBLIC" ? t.publicRooms : t.privateRooms; i = n; r.$unread.notification -= n.unread.notification; r.$unread.normal -= n.unread.normal } }, t.getRoomUsersForRoom = function (n) { return !n || !n.participants ? [] : n.participants.length > 0 ? n.participants : [] }, t.setRoomParticipants = function (n, i) { t.publicRooms.list[n] && (t.publicRooms.list[n].participants = i) }, t.getRoomView = function (n) { return { id: n.id, roomType: n.roomType, otherOnline: n.otherOnline, otherAvailable: n.otherAvailable, name: n.name, topic: n.topic, participants: n.participants && n.participants.length > 0 ? n.participants : [] } }, t.getRoomChangedEvent = function (n) { return { roomView: t.getRoomView(n) } }, t.updateReplyCounterOfRoomMessage = function (n) { var r = t.getRoomById(n.$room.id), i = _.findWhere(r.messages, { id: n.id }); i && (i.$replyCount = n.$replyCount) }, t.increaseAlertMeTriggeredCounter = function () { t.publicRooms.$alertMeCounter += 1 }, t.resetAlertMeTriggerCounter = function () { t.publicRooms.$alertMeCounter = 0; var n = t.publicRooms.list; _.forEach(n, function (t) { n[t.id].unread.alertMeMatched = !1 }) }, t.displayAlertMeMatched = function (n) { var r = n.room.id; i.id != r && (t.publicRooms.list[r].unread.alertMeMatched = !0) }, t.increaseNewNotificationsCounter = function () { t.user.$newNotificationsCounter += 1 }, t.decreaseNewNotificationsCounter = function () { t.user.$newNotificationsCounter -= 1 }, t.resetNewNotificationsCounter = function () { t.user.$newNotificationsCounter = 0 }, t } } }]); angular.module("chatModule").factory("cookiesHandlerService", ["$cookies", function (n) { return { setCookieData: function (t) { n.put("Data", t) }, getCookieData: function () { return Data = n.get("Data") }, clearCookieData: function () { Data = ""; n.remove("Data") } } }]); angular.module("chatModule").factory("ChannelEventHandlerFactory", ["RoomMessageDecoratorFactory", "UiChannel", "UserAccountService", "EventDecoratorFactory", function (n, t, i, r) { function u(i) { function o(n, t) { n.list[t].unread.notification++; n.$unread.notification++ } function s(n, t) { n.list[t].unread.normal++; n.$unread.normal++ } function h(t, i) { var r = _.last(i.messages), u; r && n.shouldAppendMessage(t, r) ? (u = { id: t.id, message: t.message, roomId: t.$room.id, $removed: t.$removed, $from: t.$from.id, $roomType: t.$room.roomType }, r.appendedMessage !== "undefined" && r.appendedMessage != undefined && r.inquiry === !1 ? r.appendedMessage.push(u) : i.messages.push(t)) : i.messages.push(t); i.lastActive = t.$date } function c(n) { var f, t, r; n = u.decorateRoomListEvent(n); i.publicRooms.list = n.$publicRooms; i.publicRooms.size = _.size(n.$publicRooms); i.privateRooms.list = n.$privateRooms; i.privateRooms.size = _.size(n.$privateRooms); f = i.user.$lastRoomId != null && i.user.$lastRoomId != 0; i.user != null && f ? (t = _.findWhere(n.$publicRooms, { id: i.user.$lastRoomId }), r = _.findWhere(n.$privateRooms, { id: i.user.$lastRoomId }), angular.isDefined(t) ? i.setCurrentRoom(t) : angular.isDefined(r) && i.setCurrentRoom(r)) : i.setCurrentRoom(_.values(n.$publicRooms)[0]) } function l(n) { return n = u.decorateChatUserEvent(n), i.privateRooms.users = n, n } function a(n) { function u(i) { var r = n.status == "ONLINE" || n.status == "AVAILABLE"; t.dispatch({ type: t.events.CHAT_USER_UPDATED, user: i, loggedIn: r }) } function f(n, t) { n.online = t.status == "ONLINE"; n.available = t.status == "AVAILABLE" } function e() { if (r) { f(r, n); var t = _.find(i.privateRooms.list, function (n) { return n.initiator.id == r.id || n.participant.id == r.id }); t && (t.otherOnline = r.online, t.otherAvailable = r.available); u(r) } } function o() { var t = _.filter(i.publicRooms.list, function (t) { return _.findWhere(t.participants, { id: n.user.id }) }); t.forEach(function (t) { var r = _.findWhere(i.publicRooms.list[t.id].participants, { id: n.user.id }), e; r && (e = _.indexOf(i.publicRooms.list[t.id].participants, r), f(r, n), i.publicRooms.list[t.id].participants.splice(e, 1, r)); u(r) }) } var r = _.findWhere(i.privateRooms.users, { id: n.user.id }); e(); o() } function v(n) { n.user = u.decorateChatUserEvent([n.user])[0]; y(n) } function y(n) { n.event == "ADD" ? p(n) : w(n); var r = _.filter(i.publicRooms.list, function (t) { return _.contains(n.publicRoomIdList, t.id) }); _.isEmpty(r) || (_.each(r, function (t) { switch (n.event) { case "ADD": t.$users.push(n.user.id); t.participants.length > 0 ? t.participants.push(n.user) : t.participants = []; break; case "REMOVE": t.$users = _.without(t.$users, n.user.id); t.participants = t.participants.length > 0 ? _.without(t.participants, _.findWhere(t.participants, { id: n.user.id })) : []; break; default: return } }), t.dispatch({ type: t.events.USER_GROUP_USERS_CHANGED, message: n })) } function p(n) { i.privateRooms.users.push(n.user) } function w(n) { var t = i.privateRooms.users.indexOf(_.findWhere(i.privateRooms.users, { id: n.user.id })); i.privateRooms.users.splice(t, 1); i.updatePrivateRoomUser(n.user) } function b(n) { var r = u.decoratePublicRoom(n.room, n.users); n.event == "ADDED" ? i.addPublicRoom(r) : i.removePublicRoom(n.room.id); t.dispatch({ type: t.events.CHAT_USER_ROOMS_CHANGED, room: r }) } function k(n) { var r = i.findPublicRoomById(n.roomId), u; r && (u = r.$users.length > n.users.length, r.$users = n.users, r.participants = u && r.participants.length > 0 ? _.filter(r.participants, function (t) { return _.contains(n.users, t.id) }) : [], t.dispatch({ type: t.events.ROOM_USERS_CHANGED, roomId: n.roomId, usersRemoved: u, online: n.userChangedIsOnline })) } function d(n) { var r = u.decorateRoomMessageEvent(n); f(r, i.publicRooms); t.dispatch({ type: t.events.NEW_ROOM_MESSAGE, message: r }) } function f(n, r) { function f() { return i.privateRooms.currentstate == "minimize" ? !1 : u == i.getCurrentRoom().id } function e() { return n.isBroadcast || n.$room.roomType == "PRIVATE" } var u = n.$room.id; n.$own || f() || (e() ? (o(r, u), t.dispatch({ type: t.events.NW_BADGE_INCREMENT, count: 1 })) : s(r, u)); h(n, r.list[u]) } function g(n) { var e = u.decorateRoomMessageEvent(n), o = e.$room.id, r; i.privateRooms.list[o] || (r = u.decoratePrivateRoom(n.room), r.otherOnline = !0, r.otherAvailable = !1, i.addPrivateRoom(r)); f(e, i.privateRooms); t.dispatch({ type: t.events.NEW_ROOM_MESSAGE, message: e }) } function nt(n) { var r = u.decorateRoomMessageEvent(n); f(r, i.publicRooms); t.dispatch({ type: t.events.NEW_ROOM_MESSAGE, message: r }) } function tt(n) { var r = u.decorateRoomMessageEvent(n); i.updatePublicRoomTopic(r.$room.id, r.$newTopic); f(r, i.publicRooms); t.dispatch({ type: t.events.NEW_ROOM_MESSAGE, message: r }) } function it() { } function rt(n) { var f = n.room.id, e = i.findPrivateRoomById(f), o = n.room.initiator.id == n.room.participant.id, r; e || o || (r = u.decoratePrivateRoom(n.room), r.otherOnline = !1, r.otherAvailable = !1, i.user != null && i.user.id == r.initiator.id ? (r.otherOnline = n.participantOnline, r.otherAvailable = n.participantAvailable) : i.user != null && i.user.id == r.participant.id && (r.otherOnline = n.initiatorOnline, r.otherAvailable = n.initiatorAvailable), i.addPrivateRoom(r)); t.dispatch({ type: t.events.ROOM_CHANGE, roomId: f }) } function ut(n) { var f = u.decorateRoomUpdatedEvent(n.roomView), r = i.findPublicRoomById(f.id); r.$version < f.$version && (r = angular.extend(r, f), i.updatePublicRoomTopic(f.id, r.topic), t.dispatch({ type: t.events.ROOM_UPDATED, room: r })) } function ft(n) { function f(n, t) { var i = _.filter(t, function (t) { return _.findWhere(t.participants, { id: n.id }) }); i.forEach(function (i) { var r = _.findWhere(t[i.id].participants, { id: n.id }), u; r && r.$version <= n.$version && (u = _.indexOf(t[i.id].participants, r), t[i.id].participants.splice(u, 1, n)) }) } function e(n, t) { var r = _.findWhere(t, { id: n.id }); r && r.$version <= n.$version && (t.splice(_.indexOf(t, r), 1, n), i.updatePrivateRoomUser(n)) } var r = u.decorateChatUserEvent([n.userView])[0]; f(r, i.publicRooms.list); e(r, i.privateRooms.users); i.user.id == r.id && i.user.$version < r.$version && et(); t.dispatch({ type: t.events.CHAT_USER_UPDATED, user: r }) } function et() { i.updateSessionUser().then(function (n) { t.dispatch({ type: t.events.SESSION_USER_UPDATED, user: n }) }) } function ot(n) { var r = u.decorateRoomMessageEvent(n); i.removeRoomMessage(r); t.dispatch({ type: t.events.NEW_ROOM_MESSAGE, message: r }) } function st(n) { var t, i; switch (n.event) { case "LOCK": t = "Account Suspended"; i = "Your account has been suspended. Please contact your customer service representative for more information."; break; case "DELETE": t = "Account Removed"; i = "Your account has been removed. Please contact your customer service representative for more information."; break; default: return } } function ht(n) { var r = u.decorateRoomMessageEvent(n); i.updateReplyCounterOfRoomMessage(r); t.dispatch({ type: t.events.NEW_ROOM_MESSAGE, message: r }) } function ct(n) { i.increaseNewNotificationsCounter(); var r = u.decorateNotificationEvent(n); t.dispatch({ type: t.events.NW_BADGE_INCREMENT, count: 1 }); t.dispatch({ type: t.events.NEW_NOTIFICATION, notification: r }) } function lt(n) { t.dispatch({ type: t.events.PRIVATE_CONVERSATION_DELETED, event: n }) } function at(n) { t.dispatch({ type: t.events.USER_TYPING, event: n }) } function vt(n) { t.dispatch({ type: t.events.USER_FINISH_TYPING, event: n }) } function yt(n) { var i, t; n.messageType == "DEALER_USER_NO_RESPONSE" && (t = n.dealerUser.firstName + " " + n.dealerUser.lastName + " doesn't seem to be available.  Hold on while we fetch someone else at the dealership.", e(n.dealerUser, t, n.room.id)); n.messageType == "DEALERSHIP_NO_RESPONSE" && (i = n.room.initiator.retail ? n.room.participant.userGroup.name : n.room.initiator.userGroup.name, t = "No one at " + i + " seems to be available.  If you'd like to receive messages to your email or have someone call you back, please select these options when you close this chat.  You can minimize the chat window and continue to surf agdealer.com and we'll let you know when someone responds to your inquiry.", e(n.retailUser, t, n.room.id)) } function e(n, t, r) { var u = _.find(i.privateRooms.list, function (n) { return n.id == r }), f = { $type: "NO_RESPONSE", $own: null, $date: (new moment).toDate().getTime(), $from: null, $room: u.room, $roomTitle: "", id: Math.floor(1e8 + Math.random() * 9e8), message: "", inquiry: !1, $topic: t }; u.messages.push(f) } var u = r.forSessionInfo(i); return { broadcastReplyCounterUpdatedHandler: ht, chatUserAccountChangeHandler: st, chatUserHandler: l, chatUserUpdatedHandler: ft, keepAliveEventHandler: it, newNotificationHandler: ct, privateRoomCreatedHandler: rt, privateRoomMessageEventHandler: g, roomBroadcastEventHandler: nt, roomChangedHandler: ut, roomListHandler: c, roomMessageEventHandler: d, roomMessageRemovedHandler: ot, roomUsersChangedHandler: k, topicChangeEventHandler: tt, userGroupUserChangedHandler: v, userStatusChangedHandler: a, chatUserRoomChangedHandler: b, privateConversationDeletedHandler: lt, userTypingHandler: at, userFinishTypingHandler: vt, botMessageHandler: yt } } return { forSession: u } }]); angular.module("chatModule").factory("EventDecoratorFactory", ["AppUrl", "ApiContext", "RoomMessageDecoratorFactory", "NotificationsDecoratorFactory", function (n, t, i, r) { function u(u) { function s(n) { var t = u.getRoomById(n.room.id); return i.decorateRoomMessageEvent(n, t) } function h(n) { function t(t, i) { var r = function (n) { var t = []; return _.forEach(n, function (n) { t.push(i.$tags[n]) }), t }; return i.roomType = i.roomType || "PUBLIC", i.$tags = o(i), i.$users = n.roomIdMap[i.id] || [], i.participants = [], i.recreateTagsFromNames = r, e(i), t[i.id] = i, t } function i(n, t) { return t.roomType = t.roomType || "PRIVATE", t.initiator = f(t.initiator), t.participant = f(t.participant), e(t), n[t.id] = t, n } return n.$publicRooms = _.reduce(n.publicRooms, t, {}), n.$privateRooms = _.reduce(n.privateRooms, i, {}), n } function o(n) { var t = _.reduce(n.tags, function (n, t) { return n[t.name] = t, n }, {}); return delete n.tags, t } function e(n) { n.unread = { notification: 0, normal: 0 }; n.$loaded = !1; n.$title = c(n); n.messages = [] } function c(n) { var t = !_.isEmpty(n.topic) && n.topic.trim().length != 0; return t ? n.name + " - " + n.topic : n.name } function l(n) { return _.each(n, f), n } function f(i) { var r = i.userGroup ? " " + i.userGroup.name + " - " + i.userGroup.address.city + ", " + i.userGroup.address.regionAbbrievation : ""; return i.$display = i.firstName + " " + i.lastName, i.$userGroup = r, i.fullName = i.firstName + " " + i.lastName, i.$avatar = i.avatar ? t + "/files/user/avatar/" + i.id + "/" + i.avatar : n + "/images/unknown-user-avatar.png", i } function a(n) { return delete n.topic, angular.extend(n, { $tags: o(n) }) } function v(n, t) { return n.$tags = o(n), n.$users = t, n.participants = [], e(n), n } function y(n) { return n.initiator = f(n.initiator), n.participant = f(n.participant), e(n), n } function p(n) { return r.decorateNotification(n) } return { decorateRoomMessageEvent: s, decorateRoomListEvent: h, decorateChatUserEvent: l, decorateRoomUpdatedEvent: a, decoratePublicRoom: v, decoratePrivateRoom: y, decorateNotificationEvent: p } } return { forSessionInfo: u } }]); angular.module("chatModule").factory("ErrorChannel", ["RelayDispatcher", function (n) { var i = function (n) { return { handle: function (t) { return n.dispatch(t.body), t } } }, t = n.getDispatcher(); return t.getDispatchingHandler = function () { return i(t) }, t }]); angular.module("chatModule").factory("PrivateChannel", ["TopicChannelManager", function (n) { var i = function (n) { return { handle: function (t) { return n.dispatch(t.body), t } } }, r = function (n) { return !n || !n.messageType ? null : n.messageType }, t = n.getChannel("$private", r); return t.getDispatchingHandler = function () { return i(t) }, t }]); angular.module("chatModule").factory("PublicChannel", ["TopicChannelManager", function (n) { var i = function (n) { return { handle: function (t) { return n.dispatch(t.body), t } } }, r = function (n) { return !n || !n.messageType ? null : n.messageType }, t = n.getChannel("$public", r); return t.getDispatchingHandler = function () { return i(t) }, t }]); angular.module("chatModule").factory("UiChannel", ["TopicChannelManager", function (n) { var i = function (n) { return { handle: function (t) { return n.dispatch(t.body), t } } }, r = function (n) { return !n || !n.type ? null : n.type }, t = n.getChannel("$ui", r); return t.getDispatchingHandler = function () { return i(t) }, angular.extend(t, { events: { ALERT_ME_MATCHED: "ALERT_ME_MATCHED", ALL_NOTIFICATIONS: "ALL_NOTIFICATIONS", CF_TOUR: "CF_TOUR", CHAT_USER_ROOMS_CHANGED: "CHAT_USER_ROOMS_CHANGED", CHAT_USER_UPDATED: "CHAT_USER_UPDATED", CONTACTS_UPDATED: "CONTACTS_UPDATED", NEW_ADMIN_MESSAGE: "NEW_ADMIN_MESSAGE", NEW_ROOM_MESSAGE: "NEW_ROOM_MESSAGE", NW_APP_QUIT: "NW_APP_QUIT", NW_APP_RESTART: "NW_APP_RESTART", NW_BADGE_CLEAR: "NW_BADGE_CLEAR", NW_BADGE_DECREMENT: "NW_BADGE_DECREMENT", NW_BADGE_INCREMENT: "NW_BADGE_INCREMENT", NW_NOTIFICATION: "NW_NOTIFICATION", NW_OPEN_WINDOW: "NW_OPEN_WINDOW", NW_RECONNECTED: "NW_RECONNECTED", NW_RECONNECTING: "NW_RECONNECTING", PREVIOUS_ADMIN_MESSAGES: "PREVIOUS_ADMIN_MESSAGES", ROOM_CHANGE: "ROOM_CHANGE", ROOM_CHANGED: "ROOM_CHANGED", ROOM_UNREAD: "ROOM_UNREAD", ROOM_UPDATED: "ROOM_UPDATED", ROOM_USERS_CHANGED: "ROOM_USERS_CHANGED", SESSION_INTERRUPTED: "SESSION_INTERRUPTED", SESSION_REFRESH_REQUEST: "SESSION_REFRESH_REQUEST", SESSION_USER_UPDATED: "SESSION_USER_UPDATED", STATE_CHANGE: "STATE_CHANGE", USER_GROUP_USERS_CHANGED: "USER_GROUP_USERS_CHANGED", UNREAD_NOTIFICATIONS: "UNREAD_NOTIFICATIONS", NEW_NOTIFICATION: "NEW_NOTIFICATION", PRIVATE_CONVERSATION_DELETED: "PRIVATE_CONVERSATION_DELETED", USER_TYPING: "USER_TYPING", USER_FINISH_TYPING: "USER_FINISH_TYPING" } }) }]); angular.module("chatModule").factory("ChannelManager", ["PublicChannel", "PrivateChannel", "UiChannel", "ErrorChannel", function (n, t, i, r) { return { errorChannel: r, privateChannel: t, publicChannel: n, uiChannel: i } }]); angular.module("chatModule").provider("FileThumbnailHelper", function () { function t(n) { return n.type.slice(n.type.lastIndexOf("/") + 1) } function r(n) { return !!n.FileReader && !!n.CanvasRenderingContext2D } function u(n, t) { return angular.isObject(t) && t instanceof n.File } function f(i) { var r = t(i); return n.IMAGE.indexOf(r) !== -1 } function e(i) { var r = t(i); return n.VIDEO.indexOf(r) !== -1 } function o(i) { var r = t(i); return n.PDF.indexOf(r) !== -1 } function s(i) { var r = t(i); return n.WORD_DOCUMENT.indexOf(r) !== -1 } function h(i) { var r = t(i); return n.EXCEL_DOCUMENT.indexOf(r) !== -1 } function c(n) { return function (t) { var r = new Image; return r.onload = i(n), r.src = t.target.result, r } } function i(n) { return function () { var t = this.width, i = this.height; return t > i ? (t = n.width || this.width / this.height, i = this.height / this.width * n.width) : (t = this.width / this.height * n.height, i = n.height || this.height / this.width), n.canvas.attr({ width: t, height: i }), n.canvas[0].getContext("2d").drawImage(this, 0, 0, t, i), n.loading = !1, n } } var n = { IMAGE: ["jpg", "png", "jpeg", "bmp", "gif"], VIDEO: ["mp4", "webm", "ogg", "quicktime"], PDF: ["pdf"], WORD_DOCUMENT: ["msword", "vnd.openxmlformats-officedocument.wordprocessingml.document", "vnd.openxmlformats-officedocument.wordprocessingml.template", "vnd.ms-word.document.macroEnabled.12", "vnd.ms-word.template.macroEnabled.12"], EXCEL_DOCUMENT: ["vnd.ms-excel", "vnd.openxmlformats-officedocument.spreadsheetml.sheet", "vnd.openxmlformats-officedocument.spreadsheetml.template", "vnd.ms-excel.sheet.macroEnabled.12", "vnd.ms-excel.template.macroEnabled.12", "vnd.ms-excel.addin.macroEnabled.12", "vnd.ms-excel.sheet.binary.macroEnabled.12"] }; this.$get = function () { return { supportedMimeTypes: n, getMimeType: t, isSupported: r, isFile: u, isImage: f, isVideo: e, isPDF: o, isWordDocument: s, isExcelDocument: h, canvasDrawerOnLoadHandler: i, onLoadImageFileHandler: c } } }); angular.module("chatModule").factory("RoomEventService", ["$http", "$q", "$log", "ApiContext", "RoomMessageDecoratorFactory", function (n, t, i, r, u) { function f(n) { var r = {}; return angular.isObject(n.data) && angular.isArray(n.data.errors) ? (_.each(n.data.errors, function (n) { r[n.fieldName] = { message: n.errorMessage, type: n.errorType } }), i.error("Formatted response: " + angular.toJson(r))) : r = n, t.reject(r) } function e(t, i) { return n.get(r + "/room/" + t.id + "/messageHistory.json?lastMessageId=" + i).then(function (n) { return o(n.data.result, t) }, f) } function o(n, t) { var i = u.decorateRoomEventHistory(n.roomEvents, t); return t.messages = i.concat(t.messages), t.$lastMessage = n.$lastMessage, t } function s(t) { return n({ url: r + "/room/" + t.id + "/messages.json", dataType: "json", method: "GET", withCredentials: !0 }).then(function (n) { return h(n.data.result, t) }, f) } function h(n, t) { return t.messages = u.decorateRoomEventHistory(n.roomEvents, t), t.$lastMessage = !1, t } function c(n) { var t = {}; return t.userId = n.user.id || null, t.from = n.from || new Date("January 1, 2000 12:00:00"), t.to = n.to || new Date, t.textFilter = n.textFilter, t.tags = n.tags, t.fileTypes = _.pluck(n.fileTypes, "value"), t } function l(t) { var i = r + "/room/" + t.room.id + "/history"; return n.post(i, c(t)).then(function (n) { return a(n.data.result, t.room) }, f) } function a(n, t) { return u.decorateRoomEventSearchHistory(n.roomEvents, t) } return { fetchPreviousRoomEvents: e, loadInitialRoomEventsIntoRoom: s, searchRoomHistoryEvents: l } }]); angular.module("chatModule").factory("RoomMessageDecoratorFactory", ["AppUrl", "ApiContext", "Authentication", function (n, t, i) { function r(r, u) { function h(n) { var i = n.data[1] || {}, t = i.tags || []; return t.length == 0 || u.roomType != "PUBLIC" ? [] : _.map(t, function (n) { return u.$tags[n] || { name: n, color: e } }) } var s = r.initiator, o = r.data[1] || {}, c = s.userGroup ? ", " + s.userGroup.name + " - " + s.userGroup.address.city + ", " + s.userGroup.address.regionAbbrievation : "", l = s.avatar ? t + "/files/user/avatar/" + s.id + "/" + s.avatar : n + "/images/unknown-user-avatar.png", a = u != null ? u.$title : "", f = { $type: r.roomEventType || "UNDEFINED", $own: s.id == i.getUser().id, $date: r.date, $from: { $display: s.firstName + " " + s.lastName + c, id: s.id, name: s.firstName + " " + s.lastName, avatar: l, retail: s.retail }, $room: r.room, $roomTitle: r.room.roomType == "PUBLIC" ? a : "", id: r.id, message: "", inquiry: o.inquiry, bot: o.bot }; switch (r.roomEventType) { case "MESSAGE": f.appendedMessage = []; f.$removed = o.removed; f.message = o.message; f.tags = h(r); f.files = o.chatterFoxFiles; f.isBroadcast = !1; f.linkMetadata = o.linkMetadata || null; break; case "BROADCAST": f.appendedMessage = []; f.$removed = o.removed; f.message = o.message; f.tags = h(r); f.files = o.chatterFoxFiles; f.isBroadcast = !0; f.$replyCount = o.replyCount; f.linkMetadata = o.linkMetadata || null; break; case "TOPIC_CHANGE": f.$oldTopic = o.oldTopic; f.$newTopic = o.newTopic; f.$topic = " from '" + o.oldTopic + "' to '" + o.newTopic + "'"; break; default: return f }return f } function u(n) { var t = []; return _.each(n, function (n) { var i = _.last(t), r; i && f(n, i) ? (r = { id: n.id, message: n.message, roomId: n.$room.id, $removed: n.$removed, $from: n.$from.id, $roomType: n.$room.roomType }, i.appendedMessage !== "undefined" && i.appendedMessage != undefined && i.inquiry == !1 ? i.appendedMessage.push(r) : t.push(n)) : t.push(n) }), t } function f(n, t) { if (n.$type != "BROADCAST" && n.$type != "MESSAGE") return !1; var r = _.isEmpty(n.tags) && _.isEmpty(t.tags), u = _.isEmpty(n.files) && _.isEmpty(t.files), f = !n.isBroadcast && !t.isBroadcast, e = r && u && f, o = new moment(t.$date), s = new moment(n.$date), i = !1; if (angular.isDefined(n.$from) && angular.isDefined(t.$from)) try { i = t.$from.id === n.$from.id } catch (h) { } return e && s.diff(o, "seconds") < 60 && i } function o(n, t) { var i = _.map(n, function (n) { return r(n, t) }); return i = u(i), t.$loaded = !0, i } function s(n, t) { var i = _.map(n, function (n) { return r(n, t) }); return i = u(i), angular.forEach(i, function (n) { n.$type = "HISTORY" }) } var e = "#333"; return { shouldAppendMessage: f, decorateRoomMessageEvent: r, decorateRoomEventHistory: o, decorateRoomEventSearchHistory: s } }]); angular.module("chatModule").factory("ModelDialogService", ["$uibModal", "RequestContext", "$rootScope", function (n, t, i) { var r = !1, u = function (r, u) { return i.loading = !1, n.open({ templateUrl: t + "partials/errorDialog.html", backdrop: "static", controller: function (n, t, i) { n.modal = i }, resolve: { modalData: function () { return { title: r, message: u } } } }).result }, f = function (r) { i.loading = !1; var u = angular.copy(r); return u.templateUrl = t + r.templateUrl, n.open(u).result }, e = function () { return i.loading = !1, n.open({ animation: !0, ariaLabelledBy: "modal-title-bottom", ariaDescribedBy: "modal-body-bottom", templateUrl: "partials/signedInDialog.html", appendTo: angular.element(document.getElementsByClassName("chatModule")), controller: "SignInController" }).result }, o = function () { if (i.loading = !1, !r) { var u = n.open({ animation: !0, ariaLabelledBy: "modal-title-bottom", ariaDescribedBy: "modal-body-bottom", templateUrl: "partials/ChatDialog.html", appendTo: angular.element(document.getElementsByClassName("chatModule")), backdrop: "static", controller: "ChatController" }); function t(n) { r = n; i.ShowNotificationBar = !r } u.opened.then(function () { t(!0) }); u.result.then(function () { t(!1) }, function () { t(!1) }) } }; return { error: u, showModal: f, SignIn: e, ChatWindow: o } }]); angular.module("chatModule").factory("SystemNotificationService", ["$http", "ApiContext", "ChannelManager", "UserAccountService", "NotificationsDecoratorFactory", function (n, t, i, r, u) { function f(n) { return n && n.data ? n.data.result : n } function e() { n({ url: t + "/user/chat/notifications/unread", method: "GET", withCredentials: !0 }).then(f, s) } function o() { n.get(t + "/user/chat/notifications").then(f).then(h) } function s(n) { var t = []; _.each(n, function (n) { t.push(u.decorateNotification(n)) }); i.uiChannel.dispatch({ type: i.uiChannel.events.UNREAD_NOTIFICATIONS, notifications: t }) } function h(n) { var t = []; _.each(n, function (n) { t.push(u.decorateNotification(n)) }); i.uiChannel.dispatch({ type: i.uiChannel.events.ALL_NOTIFICATIONS, notifications: t }) } return { fetchUserUnreadNotifications: e, fetchUserNotifications: o } }]); angular.module("chatModule").factory("NotificationsDecoratorFactory", ["AppUrl", "ApiContext", "Authentication", "AppName", function (n, t, i, r) { function u(u) { var h, f, e, s; if (angular.isDefined(u.messageType) && u.messageType == "ADMIN_MESSAGE") e = u.user, e.$lastWebsocketDate = i.getUser().$lastWebsocketDate, h = e.avatar ? t + "/files/user/avatar/" + e.id + "/" + e.avatar : n + "/images/unknown-user-avatar.png", f = { $type: u.messageType, $date: u.date, $from: { $display: e.firstName + " " + e.lastName, id: e.id, name: e.firstName + " " + e.lastName, avatar: h }, id: u.id, viewed: moment(u.date).isBefore(e.$lastWebsocketDate) }, f.$title = u.title, f.$message = u.message, f.$effectiveDate = u.effectiveDate; else { e = u.initiator; e.$lastWebsocketDate = i.getUser().$lastWebsocketDate; var o = u.data[1] || {}, c = e.userGroup ? ", " + e.userGroup.name + " - " + e.userGroup.address.city + ", " + e.userGroup.address.regionAbbrievation : "", h = e.avatar ? t + "/files/user/avatar/" + e.id + "/" + e.avatar : n + "/images/unknown-user-avatar.png", f = { $type: u.eventType || "UNDEFINED", $date: u.date, $from: { $display: e.firstName + " " + e.lastName + c, id: e.id, name: e.firstName + " " + e.lastName, avatar: h }, id: u.id, viewed: moment(u.date).isBefore(e.$lastWebsocketDate) }; switch (u.eventType) { case "NEW_ADMIN_MESSAGE": f.$title = u.title; f.$message = u.message; f.$effectiveDate = u.effectiveDate; break; case "CMS_BROADCAST": f.$title = o.title; f.$message = o.message; f.$effectiveDate = u.effectiveDate; break; case "USER_CHANGE_CMS": f.changeType = o.changeType; f.$room = o.room; s = f.changeType == "DELETED" ? "deleted " : f.changeType == "ADDED" ? "added you to " : "removed you from "; f.$message = o.room.childRoom ? r + " has " + s + f.$room.name : "CMS user " + f.$from.name + " has " + s + f.$room.name; break; case "USER_CHANGE_CREATOR": f.changeType = o.changeType; f.$room = o.room; s = f.changeType == "DELETED" ? "deleted " : f.changeType == "INVITED" ? "invited you to " : "removed you from "; f.$message = f.$from.name + " has " + s + f.$room.name; f.$invitationAccepted = o.invitationAccepted; break; case "USER_INVITATION_ACTION": f.changeType = o.reactionType; f.$room = o.room; s = f.changeType == "LEFT" ? "left " : f.changeType == "JOINED" ? "joined " : "declined "; f.$message = f.$from.name + " has " + s + f.$room.name; break; case "USER_CONTACT_REQUEST": f.$contactAdded = o.contactAdded; f.$requestDisabled = o.requestDisabled; f.$roomEventId = o.roomEventId; f.$productUrl = o.productUrl; break; default: return f } } return f } return { decorateNotification: u } }]); angular.module("chatModule").service("DocumentTitleService", ["$window", "$interval", "ChannelManager", function (n, t, i) { function o() { t.cancel(u); u = null; r.title = f; n.onfocus = null } function h() { document.hasFocus() || (o(), u = t(function () { r.title = r.title == f ? s : f }, 1e3)); n.onfocus = o } function c() { e = i.privateChannel.subscribe("PRIVATE_ROOM_MESSAGE", h) } function l() { e && (u && o(), e.unsubscribe()) } var r = n.document, f = r.title, s = "New Messages!", e = null, u = null; return { start: c, stop: l } }]); angular.module("chatModule").factory("StompQueueHandlers", function () { function n(n) { if (!angular.isObject(n) || !angular.isFunction(n.handle)) throw "Supplied handler must be an object containing a handle function"; } function t(t) { var i; if (!angular.isArray(t) || t.length == 0) throw "Composite Handler requires a non-empty array of handlers"; return _.each(t, n), i = angular.copy(t), { handle: function (n) { var t = n; _.each(i, function (n) { t = n.handle(t) }) } } } function i() { return { handle: function (n) { if (!angular.isObject(n)) return n; var t = angular.copy(n); return t.body = angular.fromJson(n.body), t.body.$messageId = t.headers["message-id"], t } } } function r(t) { var i = !1; return n(t), { handle: function (n) { return i ? n : (i = !0, t.handle(n)) } } } function u(n) { if (!angular.isFunction(n)) throw "Supplied handler must be a function"; return { handle: function (t) { var i = n(t); return i ? i : t } } } return { CompositeHandler: t, ConvertFrameBodyFromJsonHandler: i, OncePerExecutionHandler: r, DelegatingHandler: u } }); angular.module("chatModule").provider("StompJs", function () { var n = !1, t = 5e3; this.$get = ["$q", function (i) { function r(r) { function e(i) { var r = new SockJS(i, null, { debug: n, rtt: t }); u = Stomp.over(r); u.debug = n ? u.debug : null } function o() { function o(i) { n.connected = !0; n.frame = i; t.resolve(n) } function s(i) { u = null; n.connected && angular.isFunction(n.interruptHandler) && n.interruptHandler(i); t.reject(i) } var t = i.defer(), n; return f() || e(r), n = { connected: !1, frame: null, interruptHandler: angular.noop }, u.connect({}, o, s), t.promise } function s() { var n = i.defer(); return u == null ? (n.resolve(), n.promise) : (u.disconnect(n.resolve), u = null, n.promise) } function f() { return u != null } function h(n, t) { var r = i.defer(), e; return f() ? !t || !angular.isFunction(t) ? (r.reject("Supplied handler must be a function"), r.promise) : (e = u.subscribe(n, t), r.resolve(e), r.promise) : (r.reject("Client must be connected to subscribe to a queue"), r.promise) } function c(n) { var t = i.defer(); return !n || !angular.isObject(n) || !n.id || !angular.isFunction(n.unsubscribe) ? (t.reject("Invalid subscription object"), t.promise) : (n.unsubscribe(), t.resolve(), t.promise) } function l(n, t) { var i = angular.toJson(t); u && u.send(n, {}, i) } var u = null; return { isConnected: f, connect: o, disconnect: s, subscribe: h, unsubscribe: c, send: l } } return { overSockJs: r } }] }); angular.module("chatModule").provider("StompClientService", ["ApiContext", function (n) { this.$get = ["$q", "StompJs", "StompQueueHandlers", function (t, i, r) { function u(n) { var t = null; return angular.isFunction(n) ? t = r.DelegatingHandler(n) : angular.isObject(n) && angular.isFunction(n.handle) && (t = n), t && (t = r.CompositeHandler([r.ConvertFrameBodyFromJsonHandler(), t])), t } function f() { function f() { function n() { r = null; e = [] } return r ? r.disconnect().finally(n) : t.when(null) } function o(n, i) { if (r == null) return t.reject("Client must be connected to subscribe to a queue"); var f = u(i); return f ? r.subscribe(n, f.handle) : t.reject("Supplied handler is invalid") } function s(n) { return r == null ? t.reject("Client must be connected to subscribe to a queue") : r.unsubscribe(n) } function h(n, t) { r && r.send(n, t) } function c(n) { function t(t) { n.interruptHandler = t } return { setInterruptHandler: t, disconnect: f, subscribe: o, unsubscribe: s, send: h } } function l(n) { return f(), t.reject(n) } var r = i.overSockJs(n + "/stomp"), e = []; return r.connect().then(c).catch(l) } return { connect: f } }] }]); angular.module("chatModule").factory("RelayDispatcher", function () { function t(n, t, i) { return { id: n, handler: t, unsubscribe: function () { i.unsubscribe(this) } } } function i() { var i = []; return { subscribe: function (r) { if (!angular.isFunction(r)) throw "Supplied handler must be a function"; var u = t("sub-" + n++, r, this); return i.push(u), u }, unsubscribe: function (n) { n && n.id && (i = _.reject(i, function (t) { return t.id == n.id }), n.id = "", n.unsubscribe = angular.noop) }, dispatch: function (n) { n && _.each(i, function (t) { t.handler(angular.copy(n)) }) } } } var n = 0; return { getDispatcher: function () { var n = i(); return { subscribe: n.subscribe, unsubscribe: n.unsubscribe, dispatch: n.dispatch } } } }); angular.module("chatModule").factory("TopicDispatcher", function () { function t(n, t, i) { return { id: n, handler: t, unsubscribe: function () { i.unsubscribe(this) } } } function i(i) { var r = {}; return { subscribe: function (i, u) { if (!angular.isString(i) || i.length == 0) throw "Supplied topic must be a non-empty string"; if (!angular.isFunction(u)) throw "Supplied handler must be a function"; angular.isArray(r[i]) || (r[i] = []); var f = t(i + "-" + n++, u, this); return f.topic = i, r[i].push(f), f }, unsubscribe: function (n) { n && n.id && n.topic && (r[n.topic] && (r[n.topic] = _.reject(r[n.topic], function (t) { return t.id == n.id })), n.id = "", n.topic = "", n.unsubscribe = angular.noop) }, dispatch: function (n) { if (n) { var t = i(angular.copy(n)); _.each(r[t], function (t) { t.handler(angular.copy(n)) }) } } } } var n = 0; return { getDispatcher: function (n) { if (!angular.isFunction(n)) throw "TopicDispatcher requires a defined topic extractor function"; var t = i(n); return { subscribe: t.subscribe, unsubscribe: t.unsubscribe, dispatch: t.dispatch } } } }); angular.module("chatModule").factory("RelayChannelManager"[function (n) { function i(t) { var i = n.getDispatcher(); return i.channel = t, i } var t = {}; return { getChannel: function (n) { if (!angular.isString(n) || n.length == 0) throw "Supplied channel name must be a string of non-zero length"; var r = n && t[n]; return r || (r = i(n), t[n] = r), r } } }]); angular.module("chatModule").factory("TopicChannelManager", ["TopicDispatcher", function (n) { function i(t, i) { var r = n.getDispatcher(i); return r.channel = t, r } var t = {}; return { getChannel: function (n, r) { if (!angular.isString(n) || n.length == 0) throw "Supplied channel name must be a string of non-zero length"; if (!angular.isFunction(r)) throw "Supplied topic extractor must be a defined function"; var u = n && t[n]; return u || (u = i(n, r), t[n] = u), u } } }]), function (n) { n.module("chatModule").factory("DealerService", ["$http", "ApiContext", function (n, t) { var i = function (i) { return n({ url: t + "/userGroup/users?name=" + i, method: "GET", withCredentials: !0 }) }, r = function (i) { return n({ url: t + "/user/chat/" + i + "/privateRoomUsers/", dataType: "json", method: "GET", withCredentials: !0 }) }; return { getDealerList: i, getPrivateRoomUsers: r } }]); n.module("chatModule").service("Authentication", ["$http", "ApiContext", "UserAccountService", "$location", "$q", "$rootScope", function (t, i, r, u, f, e) { function tt(n) { return n } function b(n) { return n } function it(n) { n = n || {}; var r = function (n) { return s(n.data.result), n.data.result }, u = function (n) { return s(null), f.reject(n) }; return t({ url: i + "/user/profile", dataType: "json", method: "GET", withCredentials: !0, timeout: n.timeout || 5e3 }).then(b).then(r, u) } function k() { var n = function (n) { return s(n.data.result), n.data.result }, r = function (n) { return s(null), f.reject(n) }; return t({ url: i + "/user/profile", dataType: "json", method: "GET", withCredentials: !0 }).then(b).then(n, r) } function rt() { return o !== null && o.authenticated } function s(t) { return o = null, n.isObject(t) && (o = tt(t), o.authenticated = !0), e.user = n.copy(o), o } function ut() { } function a(n) { if (!n || !n.headers) { h = null; return } h = n.headers(v); ut() } function ft() { return t.head(i + "/", { timeout: 5e3 }).then(a, a) } function et(r, u) { function s() { function n() { return f.when(w(e)).then(k) } function r(n) { return f.reject(n.data) } return t({ url: i + "/json_security_check?remember-me=true", method: "POST", data: e, withCredentials: !0 }).catch(function () { }).then(n, r) } var e, o; if (!n.isObject(r)) throw "InvalidToken: Supplied authentication token is invalid because it is not an object"; return y = r, c = u, e = JSON.stringify({ username: r.email, password: ">%48!C5dpd/gh6;u", rememberMe: !0, cf_area: "CHAT" }), o = _.map(p, function (n) { return f.when(n()) }), f.all(o).then(s) } function d() { s(null); l = []; e.ShowNotificationBar = !1 } function ot() { return c } function st() { return n.copy(o) } function g() { return h } function ht() { var n = {}; return n[nt] = v, n["X-CSRF-TOKEN"] = g(), n } function ct() { h = null } function lt() { _.each(l, function (n) { n() }); t({ url: i + "/logout", method: "GET", withCredentials: !0 }).then(d, d) } function at(t) { if (!t || !n.isFunction(t)) throw "Supplied login handler is not a function"; p.push(t) } function vt(t) { if (!t || !n.isFunction(t)) throw "Supplied logout handler is not a function"; l.push(t) } var nt = "X-CSRF-HEADER", v = "X-CSRF-TOKEN", h = null, o = null, y = null, c = null, p = [], l = [], w = n.noop; return { isAuthenticated: rt, reloadUserProfile: it, setTokenFromHttp: a, requestToken: ft, getToken: g, getHeaders: ht, clearToken: ct, Authenticate: et, getUser: st, getUserProfile: k, registerPreLoginHandler: at, registerPreLogoutHandler: vt, logout: lt, getSelectedDealerId: ot } }]); n.module("chatModule").config(["$httpProvider", function (t) { var i = ["$location", "$window", "$q", function (t, i, r) { function u(t) { var i = { $statusCode: t.status, $statusText: t.statusText, reason: "" }; return n.isObject(t.data) && (i = n.extend(i, t.data)), i } return { response: function (n) { return n }, responseError: function (t) { var i = u(t), f = t.data; switch (t.status) { case 401: i.reason = n.isDefined(i.authenticated) && !i.authenticated ? f.reason : "AUTHORIZATION_REQUIRED"; break; case 403: i.reason = "ACCESS_DENIED"; break; case 419: i.reason = "AUTHENTICATION_REQUIRED"; break; case 502: i.reason = "GATEWAY_ERROR"; break; case 0: i.reason = "TIMEOUT" }return t.data = i, r.reject(t) } } }]; t.interceptors.push(i) }]); n.module("chatModule").service("UserAccountService", ["$http", "$q", "$log", "RequestContext", "ApiContext", function (t, i, r, u, f) { function o(t) { var u = {}; return n.isObject(t.data) && n.isArray(t.data.errors) ? (_.each(t.data.errors, function (n) { u[n.field] = { message: n.reason, type: n.errorType } }), r.error("Formatted response: " + n.toJson(u))) : u = t, i.reject(u) } function e(n) { return n && n.data ? n.data.result : n } function s(t) { var i = u + "img/unknown-user-profile.png"; return n.isDefined(t) && (t.$avatar = t.avatar ? f + "/files/user/avatar/" + t.id + "/" + t.avatar : i), t } function h(n) { return t({ url: f + "/room/" + n + "/participants/status", method: "GET", withCredentials: !0 }).then(e, o) } function c(n) { return t({ url: f + "/user/chat/" + n + "/retailRoomUsers/", dataType: "json", method: "GET", withCredentials: !0 }).then(e, o) } function l(n) { return t({ url: f + "/user/chat/typing/" + n.id, dataType: "json", method: "GET", withCredentials: !0 }).then(e) } function a(n) { return t({ url: f + "/user/chat/finish/typing/" + n.id, dataType: "json", method: "GET", withCredentials: !0 }).then(e) } function v(n, i, r) { return t({ url: f + "/user/chat/retail/" + i + "?source=" + r, dataType: "json", method: "POST", data: JSON.stringify({ firstName: n.firstName, lastName: n.lastName, username: n.email }), withCredentials: !0 }).then(e) } function y(n, i, r, u, o, s) { return t({ url: f + "/user/chat/retail/logout/" + n + "/" + i + "?emailChatHistory=" + r + "&emailOfflineMessages=" + u + "&callbackRequest=" + o + "&phoneNumber=" + s, method: "GET", withCredentials: !0 }).then(e) } function p(n) { return t({ url: f + "/room/private/" + n, method: "POST", withCredentials: !0 }).then(e) } return { fetchParticipantsCountForRoom: h, fetchPrivateRoomUserProfilesByChatUserId: c, getUserProfileDecorator: s, resetPrivateConversation: p, typePrivateMessage: l, finishTypePrivateMessage: a, checkAndCreateRetailChatUser: v, retailLogoutWithSettings: y } }]) }(angular)